[{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":null,"dir":"","previous_headings":"","what":"File Archival Report","title":"File Archival Report","text":"Date: November 25, 2025 Operation: Archive R files reference directory Status: COMPLETED SUCCESSFULLY","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"operation-summary","dir":"","previous_headings":"","what":"Operation Summary","title":"File Archival Report","text":"Successfully archived 17 R files moneca package reference directory, cleaning active development codebase. Archive Location: /Users/giampaolomontaletti/Documents/funzioni/reference/moneca/archived_R/","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"parallel-processing-module-3-files","dir":"","previous_headings":"Files Successfully Archived","what":"Parallel Processing Module (3 files)","title":"File Archival Report","text":"parallel_moneca.R (25.3 KB) parallel_diagnostics.R (36.1 KB) smart_parallel_switching.R (28.7 KB)","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"temporal-analysis-module-3-files","dir":"","previous_headings":"Files Successfully Archived","what":"Temporal Analysis Module (3 files)","title":"File Archival Report","text":"temporal_clustering.R (32.3 KB) temporal_stability.R (16.6 KB) temporal_plotting.R (20.5 KB)","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"auto-tuning-module-4-files","dir":"","previous_headings":"Files Successfully Archived","what":"Auto-tuning Module (4 files)","title":"File Archival Report","text":"auto_tuning_enhanced.R (18.1 KB) auto_tuning_helpers.R (11.5 KB) auto_tuning_visualization.R (19.8 KB) joint_tuning.R (139.5 KB)","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"advanced-optimization-module-5-files","dir":"","previous_headings":"Files Successfully Archived","what":"Advanced Optimization Module (5 files)","title":"File Archival Report","text":"multi_objective_optimization.R (11.7 KB) advanced_optimization.R (17.2 KB) cutoff_rr_analysis.R (10.0 KB) cutoff_rr_visualization.R (15.2 KB) cutoff_sensitivity_strength.R (21.8 KB)","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"testing--data-generation-2-files","dir":"","previous_headings":"Files Successfully Archived","what":"Testing & Data Generation (2 files)","title":"File Archival Report","text":"test_dependency_updates.R (7.9 KB) data_generation.R (1.3 KB) Total Files Archived: 17 Total Archive Size: 472 KB","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"files-not-found-0","dir":"","previous_headings":"","what":"Files Not Found (0)","title":"File Archival Report","text":"requested files successfully located archived. files missing.","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"current-active-r-files-11","dir":"","previous_headings":"","what":"Current Active R Files (11)","title":"File Archival Report","text":"following files remain /Users/giampaolomontaletti/Documents/funzioni/MONECA/R/: moneca.R - Main package documentation exports analytical_functions.R - Core algorithm implementations descriptive_functions.R - Descriptive statistics modern_plotting.R - Modern ggraph visualization system ggplotting.R - Legacy ggplot2 functions (backward compatibility) synthetic_data.R - Data generation functions igraph_compatibility.R - igraph version compatibility layer moneca_original.R - Original reference implementation moneca_fast.R - Optimized fast implementation auto_tuning.R - Main auto-tuning (retained core feature) new_moneca.R - New functionality development","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"git-status","dir":"","previous_headings":"","what":"Git Status","title":"File Archival Report","text":"Files removed git tracking using git rm --cached : - Preserve commit history - Clean active repository - Maintain ability reference archived versions git history Staged deletions: 17 R files ready commit Additional cleanup detected: Several test files vignettes also identified potentially archived","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"archive-manifest","dir":"","previous_headings":"","what":"Archive Manifest","title":"File Archival Report","text":"detailed manifest file ARCHIVE_MANIFEST.md created archive directory documenting: - archived files purposes - Module organization - Access instructions future reference restoration - Git history preservation notes","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"next-steps-recommended","dir":"","previous_headings":"","what":"Next Steps (Recommended)","title":"File Archival Report","text":"Review deletion changes: git diff --cached --stat Commit archival: Create git commit documenting cleanup Push remote repository synchronize Optional: Archive additional test files vignettes desired","code":""},{"path":"https://gmontaletti.github.io/MONECA/ARCHIVAL_REPORT.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"File Archival Report","text":"reference directory location (/Users/giampaolomontaletti/Documents/funzioni/reference/moneca/) used specified archived_R/ subdirectory created within moneca reference directory files readable maintainable archived location Git history preserved archived files original locations repository","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"about-moneca","dir":"","previous_headings":"","what":"About moneca","title":"CLAUDE.md","text":"moneca (Mobility Network Clustering Analysis) R package creates weighted networks mobility tables uses cliques create discrete nested clusters. package analyzes social mobility patterns graph-theoretic approaches. Current Status (v0.9.2): package streamlined focused API 21 exported functions, organized core analysis, data generation, modern visualization, analysis tools, legacy compatibility functions. Recent major revision removed archived experimental features consolidated codebase around proven core algorithm modern visualization system.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"building-and-checking","dir":"","previous_headings":"Package Development Commands","what":"Building and Checking","title":"CLAUDE.md","text":"","code":"# Build package R CMD build .  # Check package (comprehensive validation) R CMD check moneca_0.4.0.tar.gz  # Install from source R CMD INSTALL .  # Alternative with devtools (recommended) devtools::build() devtools::check() devtools::install()"},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"testing-and-documentation","dir":"","previous_headings":"Package Development Commands","what":"Testing and Documentation","title":"CLAUDE.md","text":"","code":"# Run comprehensive test suite devtools::test()  # Generate documentation with roxygen2 devtools::document()  # Build vignettes devtools::build_vignettes()  # Run examples devtools::run_examples()  # Load for interactive testing devtools::load_all()  # Check test coverage covr::package_coverage()"},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"dependencies-installation","dir":"","previous_headings":"Package Development Commands","what":"Dependencies Installation","title":"CLAUDE.md","text":"","code":"# Install all required dependencies install.packages(c(\"ggplot2\", \"ggraph\", \"igraph\", \"tidygraph\", \"dplyr\",                     \"RColorBrewer\", \"scales\", \"toOrdinal\", \"grid\"))  # Install development dependencies install.packages(c(\"devtools\", \"testthat\", \"knitr\", \"rmarkdown\", \"covr\"))  # Quick dependency check devtools::install_deps()"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"core-algorithm-flow","dir":"","previous_headings":"Code Architecture","what":"Core Algorithm Flow","title":"CLAUDE.md","text":"moneca(): Main clustering function runs iterative segmentation moneca_fast(): Optimized implementation producing identical results moneca() weight.matrix(): Converts mobility tables relative risk matrices find.segments(): Identifies cliques weighted networks (internal function) segment.matrix(): Aggregates mobility data segments next iteration (internal function)","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"key-data-structures","dir":"","previous_headings":"Code Architecture","what":"Key Data Structures","title":"CLAUDE.md","text":"segment.list: Nested list clique memberships level mat.list: Mobility matrices segmentation level small.cell.reduction: Parameter controlling minimum cell sizes","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"streamlined-api-21-exported-functions","dir":"","previous_headings":"Code Architecture","what":"Streamlined API (21 Exported Functions)","title":"CLAUDE.md","text":"package exports exactly 21 functions organized functional groups:","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"core-analysis-3","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Core Analysis (3)","title":"CLAUDE.md","text":"moneca() - Main algorithm moneca_fast() - Fast implementation weight.matrix() - Weight matrix conversion","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"data-generation-1","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Data Generation (1)","title":"CLAUDE.md","text":"generate_mobility_data() - Synthetic data generator","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"modern-visualization-5","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Modern Visualization (5)","title":"CLAUDE.md","text":"plot_moneca_ggraph() - Main network plots plot_ego_ggraph() - Ego network analysis plot_stair_ggraph() - Multi-level visualization plot_moneca_dendrogram() - Hierarchical tree plots plot_segment_quality() - Quality assessment plots","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"analysis-tools-6","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Analysis Tools (6)","title":"CLAUDE.md","text":"segment.membership() - Extract membership segment.membership.dataframe() - Membership data frame segment.quality() - Quality metrics segment.edges() - Edge weights segment.colors() - Color assignments vertex.mobility() - Vertex-level metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"auto-tuning-1","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Auto-Tuning (1)","title":"CLAUDE.md","text":"auto_tune_small_cell_reduction() - Parameter optimization","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"legacy-visualization-5","dir":"","previous_headings":"Code Architecture > Streamlined API (21 Exported Functions)","what":"Legacy Visualization (5)","title":"CLAUDE.md","text":"moneca.plot() - Base R plotting gg.moneca() - Original ggplot2 ego.plot() - Legacy ego network stair.plot() - Legacy stair plot layout.matrix() - Custom layout","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"modern-visualization-system-rmodern_plottingr","dir":"","previous_headings":"Code Architecture","what":"Modern Visualization System (R/modern_plotting.R)","title":"CLAUDE.md","text":"plot_moneca_ggraph(): Main network visualization ggraph (RECOMMENDED) plot_ego_ggraph(): Ego network analysis plots modern styling plot_stair_ggraph(): Multi-level segmentation visualization Enhanced Segment Naming: modern plotting functions support flexible segment naming Legacy functions: gg.moneca(), moneca.plot(), ego.plot() still available","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"synthetic-data-generation-rsynthetic_datar","dir":"","previous_headings":"Code Architecture","what":"Synthetic Data Generation (R/synthetic_data.R)","title":"CLAUDE.md","text":"generate_mobility_data(): Creates realistic synthetic mobility matrices generate_example_datasets(): Pre-configured datasets different mobility scenarios Parameters: immobility_strength, class_clustering, noise_level, custom class names","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"modern-ggraph-system-preferred","dir":"","previous_headings":"Code Architecture > Visualization Architecture","what":"Modern ggraph System (Preferred)","title":"CLAUDE.md","text":"Uses tidygraph graph manipulation ggraph modern network layouts Supports: FR, KK, stress, custom layouts Customizable node aesthetics (size, color, shape segment/mobility) Advanced edge styling (width, color, transparency weight)","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"legacy-plotting-backward-compatibility","dir":"","previous_headings":"Code Architecture > Visualization Architecture","what":"Legacy Plotting (Backward Compatibility)","title":"CLAUDE.md","text":"moneca.plot(): Base R plotting using igraph gg.moneca(): Original ggplot2 plotting (depends eliter package) layout.matrix(): Fruchterman-Reingold layout segment-based attraction","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"igraph-compatibility-system","dir":"","previous_headings":"Code Architecture","what":"igraph Compatibility System","title":"CLAUDE.md","text":"package includes sophisticated compatibility layer (R/igraph_compatibility.R) : - Automatically detects igraph version runtime - Maps old dot-notation functions new underscore functions - Provides custom norm_coords implementation removed functions - Ensures compatibility igraph >= 1.3.0 Key compatibility functions: - moneca_graph_from_adjacency() → graph.adjacency() graph_from_adjacency_matrix() - moneca_get_edgelist() → get.edgelist() as_edgelist() - moneca_norm_coords() → custom implementation norm_coords unavailable","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"modern-visualization-system","dir":"","previous_headings":"Code Architecture","what":"Modern Visualization System","title":"CLAUDE.md","text":"package now includes modern plotting functions using ggraph: - plot_moneca_ggraph(): Main network visualization ggraph - plot_ego_ggraph(): Ego network analysis plots - plot_stair_ggraph(): Multi-level segmentation visualization - Legacy functions (gg.moneca(), moneca.plot()) still available backward compatibility","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"enhanced-segment-naming-system","dir":"","previous_headings":"Code Architecture","what":"Enhanced Segment Naming System","title":"CLAUDE.md","text":"modern plotting functions support flexible segment naming segment_naming parameter:","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"input-types","dir":"","previous_headings":"Code Architecture > Enhanced Segment Naming System","what":"Input Types:","title":"CLAUDE.md","text":"Character strings: “auto”, “concat”, “pattern”, “custom” (existing functionality) Data frame: Must columns “name” “segment_label” (NEW FEATURE) NULL: Defaults “auto” strategy","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"implementation-details","dir":"","previous_headings":"Code Architecture > Enhanced Segment Naming System","what":"Implementation Details:","title":"CLAUDE.md","text":"Data frame validation: Ensures required columns exist Partial naming support: Missing names fall back default strategies Cross-function consistency: Works across plotting functions Error handling: Clear error messages invalid inputs","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"usage-examples","dir":"","previous_headings":"Code Architecture > Enhanced Segment Naming System","what":"Usage Examples:","title":"CLAUDE.md","text":"","code":"# String-based naming (existing) plot_moneca_ggraph(seg, segment_naming = \"auto\")  # Custom data frame (new) custom_labels <- data.frame(   name = c(\"Class1\", \"Class2\", \"Class3\"),   segment_label = c(\"Executive\", \"Professional\", \"Technical\"),   stringsAsFactors = FALSE ) plot_moneca_ggraph(seg, segment_naming = custom_labels)"},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"synthetic-data-generation","dir":"","previous_headings":"Code Architecture","what":"Synthetic Data Generation","title":"CLAUDE.md","text":"generate_mobility_data(): Creates realistic synthetic mobility matrices generate_example_datasets(): Pre-configured datasets different mobility scenarios Supports customizable parameters: immobility strength, class clustering, noise levels","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"testing-framework-teststestthat","dir":"","previous_headings":"Code Architecture","what":"Testing Framework (tests/testthat/)","title":"CLAUDE.md","text":"Comprehensive test suite using testthat (>= 3.0.0) test-synthetic-data.R: Data generation validation, parameter handling, reproducibility test-moneca-core.R: Core algorithms, weight matrices, hierarchical segmentation test-plotting.R: Modern ggraph functions, parameter validation, error handling test-igraph-compatibility.R: Version compatibility, function mapping, edge cases Run tests: devtools::test() testthat::test_dir(\"tests\") Coverage: Use covr::package_coverage() check test coverage","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"documentation-structure","dir":"","previous_headings":"Code Architecture","what":"Documentation Structure","title":"CLAUDE.md","text":"Vignette: vignettes/moneca-introduction.Rmd - Comprehensive tutorial Function docs: Roxygen2-generated documentation modern examples README.md: Updated modern workflow, installation, quick start CLAUDE.md: Development guidance (file)","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"package-dependencies","dir":"","previous_headings":"Code Architecture","what":"Package Dependencies","title":"CLAUDE.md","text":"Core Required: ggplot2 (>= 3.4.0), ggraph (>= 2.0.0), igraph (>= 1.3.0), tidygraph (>= 1.2.0), dplyr (>= 1.0.0) Additional: RColorBrewer, scales, toOrdinal, grid, stats, grDevices Development: knitr, rmarkdown, testthat (>= 3.0.0) Check deps: devtools::install_deps() installs required dependencies","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"development-best-practices","dir":"","previous_headings":"Code Architecture","what":"Development Best Practices","title":"CLAUDE.md","text":"S3 classes custom print methods MONECA objects Backward compatibility maintained existing functions Modern examples use synthetic data (external dependencies) Extensive parameter validation informative error messages Reproducible analysis seed parameters synthetic data Modular architecture clear separation concerns Enhanced visualization features like flexible segment naming improve usability","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"testing-new-features","dir":"","previous_headings":"Quick Start for Development","what":"Testing New Features","title":"CLAUDE.md","text":"","code":"# Load package for development devtools::load_all()  # Generate test data test_data <- generate_mobility_data(n_classes = 5, seed = 123)  # Run analysis seg <- moneca(test_data, segment.levels = 3)  # Test modern plotting plot_moneca_ggraph(seg, node_color = \"segment\")  # Test enhanced segment naming custom_names <- data.frame(   name = rownames(test_data)[1:3],   segment_label = c(\"Executive\", \"Professional\", \"Technical\"),   stringsAsFactors = FALSE ) plot_moneca_ggraph(seg, segment_naming = custom_names)  # Run specific tests testthat::test_file(\"tests/testthat/test-moneca-core.R\")"},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"common-development-tasks","dir":"","previous_headings":"Quick Start for Development","what":"Common Development Tasks","title":"CLAUDE.md","text":"","code":"# Update documentation after changes devtools::document()  # Check package thoroughly devtools::check()  # Install and test locally devtools::install()  # Build vignettes after updates devtools::build_vignettes()"},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"file-organization","dir":"","previous_headings":"Quick Start for Development","what":"File Organization","title":"CLAUDE.md","text":"R/moneca.R: Package-level documentation R/analytical_functions.R: Core algorithm (moneca(), find.segments(), internal functions) R/moneca_fast.R: Fast implementation optimized algorithms R/modern_plotting.R: Modern ggraph visualization functions R/synthetic_data.R: Data generation functions R/descriptive_functions.R: Analysis tools (segment.membership, segment.quality, etc.) R/ggplotting.R: Legacy ggplot2 functions (backward compatibility) R/auto_tuning.R: Auto-tuning functionality R/igraph_compatibility.R: Version compatibility layer R/optimized_algorithms.R: Performance-optimized internal algorithms tests/testthat/: Complete test suite vignettes/: Package tutorial documentation man/: Auto-generated function documentation","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"migration-notes-for-existing-users","dir":"","previous_headings":"Quick Start for Development","what":"Migration Notes for Existing Users","title":"CLAUDE.md","text":"Package name: Changed MONECA moneca (lowercase) Installation: Use install_github(\"gmontaletti/moneca\") instead original repository Loading: Use library(moneca) instead library(MONECA) Plotting: Recommend migrating gg.moneca() plot_moneca_ggraph() Data: Use generate_mobility_data() instead external datasets examples Performance: Use moneca_fast() large datasets (produces identical results) Testing: core functions continue work unchanged Dependencies: Package now requires ggraph tidygraph modern features","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"development-guidelines","dir":"","previous_headings":"Quick Start for Development","what":"Development Guidelines","title":"CLAUDE.md","text":"Never change original moneca() function - reference implementation Use moneca_fast() performance improvements maintaining identical results reference directory cleanup/move file operations ../reference/moneca/ bumping version, update citation README.md Maintain backward compatibility exported functions new visualization use ggraph-based modern_plotting.R functions","code":""},{"path":"https://gmontaletti.github.io/MONECA/CLAUDE.html","id":"recent-major-revision-v092","dir":"","previous_headings":"Quick Start for Development","what":"Recent Major Revision (v0.9.2)","title":"CLAUDE.md","text":"Removed experimental/archived features (parallel processing, temporal analysis, advanced tuning variants) Consolidated 21 well-tested exported functions Simplified vignette focus core workflow: moneca() → moneca_fast() → plot_*() Updated documentation reflect streamlined API Retained full backward compatibility existing code","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":null,"dir":"","previous_headings":"","what":"MONECA Package Revision Plan","title":"MONECA Package Revision Plan","text":"Author: Giampaolo Montaletti Date: 2025-11-25 Version: 0.9.2 → 1.0.0","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"executive-summary","dir":"","previous_headings":"","what":"Executive Summary","title":"MONECA Package Revision Plan","text":"plan outlines comprehensive revision moneca package : 1. Streamline API coherent core focused clustering segment membership 2. Optimize performance vectorization data.table 3. Restructure unit tests maintainability 4. Consolidate documentation","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"current-state","dir":"","previous_headings":"Phase 1: API Consolidation (Export Reduction)","what":"Current State","title":"MONECA Package Revision Plan","text":"72 exported functions + 17 S3 methods Functions span: clustering, tuning, plotting, diagnostics, temporal analysis, utilities","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"target-state","dir":"","previous_headings":"Phase 1: API Consolidation (Export Reduction)","what":"Target State","title":"MONECA Package Revision Plan","text":"Reduce ~20 core exports organized coherent functional groups.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"move-to-internal-35-functions","dir":"","previous_headings":"Phase 1: API Consolidation (Export Reduction) > Functions to Move to Internal (Not Exported)","what":"Move to Internal (~35 functions)","title":"MONECA Package Revision Plan","text":"","code":"# Low-level algorithms (internal implementation details) find.segments()              # Used internally by moneca/moneca_fast find.segments.parallel()     # Internal parallel implementation force.segments()             # Internal forcing mechanism segment.matrix.parallel()    # Internal aggregation weight.matrix.parallel()     # Internal parallel computation  # Diagnostic utilities (developer-focused) test_igraph_compatibility() analyze_package_dependencies() validate_description_dependencies() generate_dependency_report() diagnose_parallel_execution() monitor_system_resources() benchmark_parallel_performance() detect_system_resources() get_optimal_cores() should_use_parallel() clear_evaluation_caches() get_cache_stats()  # Advanced tuning (niche use cases) auto_tune_small_cell_reduction_enhanced() auto_tune_joint_parameters() assess_clustering_stability() assess_clustering_stability_parallel() compute_tuning_metrics() compute_clustering_quality_metrics() generate_candidate_values() analyze_parameter_interaction() plot_optimization_surface() suggest_parameter_ranges() evaluate_performance_trade_offs() cutoff_sensitivity_analysis() evaluate_cutoff_strength() calculate_strength_density() parameter_sensitivity_plot() performance_quality_tradeoff_plot() plot_cutoff_analysis() plot_cutoff_interactive() plot_rr_distribution() plot_strength_comparison() plot_elbow_curve()"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"functions-to-deprecateremove-15-functions","dir":"","previous_headings":"Phase 1: API Consolidation (Export Reduction)","what":"Functions to Deprecate/Remove (~15 functions)","title":"MONECA Package Revision Plan","text":"","code":"# Parallel variants (consolidate into main functions with parallel argument) moneca_parallel()         # Merge into moneca_fast(parallel = TRUE)  # Temporal analysis (spin off to separate package or vignette-only) moneca_temporal() temporal_stability_analysis() export_node_trajectories() plot_temporal_segments() plot_temporal_stability() generate_temporal_report()  # Maximal cliques variant (experimental) new_moneca()              # Document as experimental internal  # Legacy plotting (superseded by ggraph versions) gg.moneca()               # Soft deprecate, keep working ego.plot()                # Soft deprecate stair.plot()              # Soft deprecate moneca.plot()             # Soft deprecate  # Redundant membership functions segment.membership.enhanced()  # Merge into segment.membership() first.level.summary()          # Integrate into print.moneca()  # Example dataset generator (too specific) generate_example_datasets()    # Keep generate_mobility_data() only"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"implementation-steps","dir":"","previous_headings":"Phase 1: API Consolidation (Export Reduction)","what":"Implementation Steps","title":"MONECA Package Revision Plan","text":"Move functions internal namespace Add @keywords internal roxygen tags Update calling code Add .Deprecated() calls migration guidance Keep working 2 versions segment.membership.enhanced() → options segment.membership() moneca_parallel() → moneca_fast(parallel = TRUE)","code":""},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"bottleneck-1-findsegments-main-loop","dir":"","previous_headings":"Phase 2: Performance Optimization > Critical Bottlenecks Identified","what":"Bottleneck 1: find.segments() Main Loop","title":"MONECA Package Revision Plan","text":"Location: R/analytical_functions.R:94-136 Complexity: O(n²) n = edges cutoff Current Implementation: Optimization Strategy: 1. Pre-compute edge values sort 2. Use vectorized clique membership testing 3. Leverage data.table fast lookups","code":"for (i in 1:loop.length){     max.ind <- which(max.mat==max(max.mat, na.rm=TRUE), arr.ind=TRUE)[1,]     # ... sequential processing }"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"bottleneck-2-cliquetest-inner-function","dir":"","previous_headings":"Phase 2: Performance Optimization > Critical Bottlenecks Identified","what":"Bottleneck 2: clique.test() Inner Function","title":"MONECA Package Revision Plan","text":"Location: R/analytical_functions.R:65-75 Complexity: O(k) per call k = number cliques Current Implementation: Optimization Strategy: 1. Pre-build clique membership matrix (already moneca_fast) 2. Use matrix operations subset testing 3. Implement early termination sorted cliques","code":"for (cl in cliques) {     if (all(potential.clique %in% cl)) {         return(TRUE)     } }"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"bottleneck-3-edge-processing-loop","dir":"","previous_headings":"Phase 2: Performance Optimization > Critical Bottlenecks Identified","what":"Bottleneck 3: Edge Processing Loop","title":"MONECA Package Revision Plan","text":"Location: R/moneca_fast.R:211-237 Issue: Sequential dependency segment assignment Optimization Strategy: 1. Batch process independent edges 2. Use data.table fast grouping operations 3. Implement incremental segment updates","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"new-function-find_segments_optimized","dir":"","previous_headings":"Phase 2: Performance Optimization > Proposed Optimized Implementation","what":"New Function: find_segments_optimized()","title":"MONECA Package Revision Plan","text":"","code":"#' @title Optimized Segment Finding #' @description Vectorized segment identification using data.table #' @keywords internal find_segments_optimized <- function(mat, cutoff.rr, cliques, verbose = FALSE) {    # 1. Pre-compute: Convert to data.table of edges   edges_dt <- data.table::as.data.table(     which(mat > cutoff.rr & !is.na(mat), arr.ind = TRUE)   )   edges_dt[, weight := mat[cbind(row, col)]]   edges_dt[, edge_id := .I]   data.table::setkey(edges_dt, weight)    # 2. Pre-build clique membership lookup   n_nodes <- nrow(mat)   clique_matrix <- matrix(FALSE, nrow = length(cliques), ncol = n_nodes)   for (i in seq_along(cliques)) {     clique_matrix[i, cliques[[i]]] <- TRUE   }    # 3. Vectorized clique membership test function   test_in_clique <- function(node_pairs) {     # Returns logical vector: TRUE if pair is in any clique     apply(node_pairs, 1, function(pair) {       any(clique_matrix[, pair[1]] & clique_matrix[, pair[2]])     })   }    # 4. Sort edges by weight (descending) - single sort operation   edges_dt <- edges_dt[order(-weight)]    # 5. Process edges in batches where possible   segments <- integer(n_nodes)   current_segment <- 0L    # Group processing with data.table   edges_dt[, in_clique := test_in_clique(cbind(row, col))]    # Sequential assignment (necessary for correctness)   for (i in seq_len(nrow(edges_dt))) {     if (!edges_dt$in_clique[i]) next      row_i <- edges_dt$row[i]     col_i <- edges_dt$col[i]      seg_row <- segments[row_i]     seg_col <- segments[col_i]      if (seg_row == 0L && seg_col == 0L) {       current_segment <- current_segment + 1L       segments[row_i] <- current_segment       segments[col_i] <- current_segment     } else if (seg_row == 0L) {       segments[row_i] <- seg_col     } else if (seg_col == 0L) {       segments[col_i] <- seg_row     }     # Both already assigned - skip (segment merge handled later)   }    # 6. Assign singletons   singletons <- which(segments == 0L)   for (s in singletons) {     current_segment <- current_segment + 1L     segments[s] <- current_segment   }    return(segments) }"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"linear-algebra-optimization-weight-matrix","dir":"","previous_headings":"Phase 2: Performance Optimization > Proposed Optimized Implementation","what":"Linear Algebra Optimization: Weight Matrix","title":"MONECA Package Revision Plan","text":"","code":"#' @title Optimized Weight Matrix Computation #' @description Vectorized relative risk calculation #' @keywords internal weight_matrix_optimized <- function(mat, cutoff.rr = 1, small.cell.reduction = 1) {    # Vectorized row/column totals   row_totals <- rowSums(mat, na.rm = TRUE)   col_totals <- colSums(mat, na.rm = TRUE)   grand_total <- sum(mat, na.rm = TRUE)    # Expected values (outer product for vectorization)   expected <- outer(row_totals, col_totals) / grand_total    # Small cell adjustment (vectorized)   mat_adj <- mat   mat_adj[mat < small.cell.reduction] <- small.cell.reduction   expected[expected < small.cell.reduction] <- small.cell.reduction    # Relative risk (element-wise)   rr <- mat_adj / expected    # Apply cutoff (vectorized)   rr[rr < cutoff.rr] <- NA    return(rr) }"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"performance-testing-requirements","dir":"","previous_headings":"Phase 2: Performance Optimization","what":"Performance Testing Requirements","title":"MONECA Package Revision Plan","text":"Create standardized test matrices (100x100, 500x500, 1000x1000) Measure time memory implementation Verify result equivalence .equal() existing test cases must pass identical results Add explicit numerical tolerance tests Target: 5-10x speedup large matrices (>500 categories) Memory: Reduce peak memory avoiding intermediate copies","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"current-state-1","dir":"","previous_headings":"Phase 3: Unit Test Restructuring","what":"Current State","title":"MONECA Package Revision Plan","text":"20 test files significant overlap Total ~170,000 lines test code files >10,000 lines (test-auto-tuning.R: 20,900 lines)","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"problems-identified","dir":"","previous_headings":"Phase 3: Unit Test Restructuring","what":"Problems Identified","title":"MONECA Package Revision Plan","text":"Test files large monolithic Duplicate test logic across files clear test hierarchy (unit vs integration) Performance tests mixed correctness tests","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"proposed-test-structure","dir":"","previous_headings":"Phase 3: Unit Test Restructuring","what":"Proposed Test Structure","title":"MONECA Package Revision Plan","text":"","code":"tests/ ├── testthat/ │   ├── unit/ │   │   ├── test-weight-matrix.R          # weight.matrix() unit tests │   │   ├── test-find-segments.R          # find.segments() unit tests │   │   ├── test-segment-membership.R     # membership extraction tests │   │   ├── test-segment-quality.R        # quality metrics tests │   │   ├── test-synthetic-data.R         # data generation tests │   │   └── test-igraph-compat.R          # compatibility layer tests │   │ │   ├── integration/ │   │   ├── test-moneca-pipeline.R        # Full clustering pipeline │   │   ├── test-moneca-fast-equiv.R      # moneca vs moneca_fast equivalence │   │   ├── test-visualization.R          # Plotting integration tests │   │   └── test-tuning-workflow.R        # Auto-tuning workflow │   │ │   ├── performance/ │   │   ├── test-benchmark-clustering.R   # Clustering benchmarks │   │   ├── test-benchmark-optimization.R # Optimization validation │   │   └── test-memory-usage.R           # Memory profiling tests │   │ │   ├── regression/ │   │   ├── test-known-results.R          # Fixed input/output tests │   │   ├── test-edge-cases.R             # Boundary conditions │   │   └── test-infinite-loop.R          # Regression for fixed bugs │   │ │   └── helpers/ │       ├── helper-test-data.R            # Shared test data generators │       ├── helper-assertions.R           # Custom test assertions │       └── helper-fixtures.R             # Test fixtures │ └── testthat.R"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"test-helper-functions","dir":"","previous_headings":"Phase 3: Unit Test Restructuring","what":"Test Helper Functions","title":"MONECA Package Revision Plan","text":"","code":"# helper-test-data.R  #' Generate standard test matrices #' @keywords internal generate_test_matrix <- function(size = c(\"small\", \"medium\", \"large\"),                                   type = c(\"simple\", \"complex\", \"sparse\")) {   size <- match.arg(size)   type <- match.arg(type)    n <- switch(size,     small = 5,     medium = 10,     large = 20   )    seed <- switch(type,     simple = 123,     complex = 456,     sparse = 789   )    generate_mobility_data(n_classes = n, seed = seed) }  #' Assert moneca results equivalence #' @keywords internal expect_moneca_equal <- function(result1, result2, tolerance = 1e-10) {   expect_equal(     result1$segment.list,     result2$segment.list,     tolerance = tolerance   )   expect_equal(     length(result1$mat.list),     length(result2$mat.list)   ) }"},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"current-state-2","dir":"","previous_headings":"Phase 4: Documentation Rework","what":"Current State","title":"MONECA Package Revision Plan","text":"5 vignettes (overlap) README.md installation quick start Roxygen2 documentation exported functions","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"problems","dir":"","previous_headings":"Phase 4: Documentation Rework","what":"Problems","title":"MONECA Package Revision Plan","text":"many vignettes focused package Documentation spread across files examples use deprecated patterns","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"vignettes-consolidate-to-2","dir":"","previous_headings":"Phase 4: Documentation Rework > Proposed Documentation Structure","what":"Vignettes (Consolidate to 2)","title":"MONECA Package Revision Plan","text":"Package overview Installation Basic workflow Interpreting results Visualization options Parameter tuning Performance optimization Working large matrices Custom visualization","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"removearchive","dir":"","previous_headings":"Phase 4: Documentation Rework > Proposed Documentation Structure","what":"Remove/Archive","title":"MONECA Package Revision Plan","text":"algorithm-comparison.Rmd → Archive reference/ moneca-statistics.Rmd → Integrate introduction auto-tuning-guide.Rmd → Merge advanced parameter-calibration.Rmd → Merge advanced","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"priority-1-core-functions-full-rewrite","dir":"","previous_headings":"Phase 4: Documentation Rework > Function Documentation Updates","what":"Priority 1: Core Functions (Full Rewrite)","title":"MONECA Package Revision Plan","text":"moneca() - Complete examples, parameter explanations moneca_fast() - Performance comparison, use weight.matrix() - Mathematical explanation segment.membership() - output formats plot_moneca_ggraph() - Comprehensive visualization guide","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"priority-2-update-examples","dir":"","previous_headings":"Phase 4: Documentation Rework > Function Documentation Updates","what":"Priority 2: Update Examples","title":"MONECA Package Revision Plan","text":"Replace legacy data generate_mobility_data() Show modern ggraph plotting examples Add practical use cases","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"priority-3-cross-references","dir":"","previous_headings":"Phase 4: Documentation Rework > Function Documentation Updates","what":"Priority 3: Cross-references","title":"MONECA Package Revision Plan","text":"Add @seealso related functions Link vignettes function docs Add @family tags grouping","code":""},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"readmemd-updates","dir":"","previous_headings":"Phase 4: Documentation Rework","what":"README.md Updates","title":"MONECA Package Revision Plan","text":"","code":"# moneca  Mobility Network Clustering Analysis - Create weighted networks from mobility tables and use cliques to create discrete and nested clusters.  ## Installation  ```r # Install from GitHub remotes::install_github(\"gmontaletti/moneca\")"},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"MONECA Package Revision Plan","text":"","code":"library(moneca)  # Generate example data data <- generate_mobility_data(n_classes = 10, seed = 42)  # Run clustering result <- moneca_fast(data, segment.levels = 3)  # Get segment memberships segments <- segment.membership(result)  # Visualize plot_moneca_ggraph(result)"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/REVISION_PLAN.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"MONECA Package Revision Plan","text":"R/parallel_moneca.R R/parallel_diagnostics.R R/smart_parallel_switching.R R/temporal_clustering.R R/temporal_stability.R R/temporal_plotting.R R/auto_tuning_enhanced.R R/auto_tuning_helpers.R R/auto_tuning_visualization.R R/joint_tuning.R R/multi_objective_optimization.R R/cutoff_rr_analysis.R R/cutoff_rr_visualization.R R/cutoff_sensitivity_strength.R R/advanced_optimization.R R/test_dependency_updates.R vignettes/algorithm-comparison.Rmd vignettes/moneca-statistics.Rmd vignettes/auto-tuning-guide.Rmd vignettes/parameter-calibration.Rmd tests/testthat/test-parallel-.R tests/testthat/test-temporal-.R tests/testthat/test-auto-tuning*.R (merge first) tests/testthat/test-joint-tuning.R tests/testthat/test-enhanced-joint-tuning.R tests/testthat/test-bayesian-parallel-behavior.R tests/testthat/test-new-moneca.R ```","code":"@software{moneca2025,   author = {Montaletti, Giampaolo},   title = {moneca: Mobility Network Clustering Analysis},   version = {1.0.0},   year = {2025},   url = {https://github.com/gmontaletti/moneca} } ---  ## Implementation Schedule  ### Phase 1: API Consolidation - [ ] Audit all exported functions - [ ] Move internal functions - [ ] Add deprecation warnings - [ ] Update NAMESPACE - [ ] Test backward compatibility  ### Phase 2: Performance Optimization - [ ] Implement `find_segments_optimized()` - [ ] Implement `weight_matrix_optimized()` - [ ] Add data.table dependency - [ ] Create benchmark suite - [ ] Validate result equivalence - [ ] Profile memory usage  ### Phase 3: Test Restructuring - [ ] Create new test directory structure - [ ] Write helper functions - [ ] Migrate and consolidate tests - [ ] Remove deprecated test files - [ ] Verify coverage targets  ### Phase 4: Documentation - [ ] Consolidate vignettes - [ ] Update function documentation - [ ] Revise README.md - [ ] Update CLAUDE.md - [ ] Build and check documentation  ### Final Steps - [ ] Version bump to 1.0.0 - [ ] Update DESCRIPTION - [ ] Full R CMD check - [ ] Update citation in README - [ ] Create release notes  ---  ## Risk Mitigation  1. **Result Compatibility**    - All optimization changes must produce bit-identical results to original    - Comprehensive regression test suite before any changes    - `all.equal()` checks in CI  2. **Breaking Changes**    - Soft deprecation with 2-version grace period    - Clear migration documentation    - Keep working aliases for removed functions  3. **Performance Regression**    - Benchmark on standardized test data    - Automated performance tests in CI    - Fallback to original implementation if issues  ---  ## Appendix: Files to Archive  Move to `../reference/moneca/` (per CLAUDE.md): Test files to archive:"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"moneca (Mobility Network Clustering Analysis) R package analyzes social mobility patterns graph-theoretic approaches. package creates weighted networks mobility tables uses cliques identify discrete nested clusters positions high internal mobility.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"about-this-vignette","dir":"Articles","previous_headings":"Introduction","what":"About This Vignette","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"vignette written Giampaolo Montaletti part comprehensive modernization moneca package (2024). provides complete guide using modern features capabilities package, including new visualization system, synthetic data generation, enhanced analysis tools.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"package-background","dir":"Articles","previous_headings":"Introduction","what":"Package Background","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"moneca package (lowercase) complete rewrite modernization original MONECA package. implements clustering algorithm originally developed Touboel & Larsen (2017), current package features entirely new code visualization, testing, data generation, documentation authored Giampaolo Montaletti.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"key-features","dir":"Articles","previous_headings":"Introduction","what":"Key Features","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Network-based clustering mobility tables Hierarchical segmentation multiple levels Modern visualization ggplot2 ggraph Quality metrics assessing segmentation performance Synthetic data generation testing demonstrations","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"basic-concepts","dir":"Articles","previous_headings":"","what":"Basic Concepts","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Social mobility can represented network : Nodes represent social positions (occupations, classes, etc.) Edges represent mobility flows positions Edge weights represent strength mobility connections Clusters represent groups positions high internal mobility MONECA identifies clusters : Converting mobility tables relative risk matrices Finding cliques weighted network Iteratively aggregating positions segments Creating hierarchical segmentation levels","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"installation-and-setup","dir":"Articles","previous_headings":"","what":"Installation and Setup","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Install from GitHub devtools::install_github(\"gmontaletti/moneca\")  # Load the package library(moneca)  # Load additional packages for visualization library(ggplot2) library(ggraph)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"working-with-synthetic-data","dir":"Articles","previous_headings":"","what":"Working with Synthetic Data","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA includes functions generate synthetic mobility data demonstrations testing.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"creating-basic-synthetic-data","dir":"Articles","previous_headings":"Working with Synthetic Data","what":"Creating Basic Synthetic Data","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"mobility matrix shows: - Rows: Origin classes (people start) - Columns: Destination classes (people end ) - Last row/column: Marginal totals - Diagonal: Immobility (staying class)","code":"# Generate a large 30-class mobility table for better statistical analysis basic_data <- generate_mobility_data(   n_classes = 30,   n_total = 50000,  # Larger population for better statistical power   immobility_strength = 0.7,   class_clustering = 0.2,   class_names = paste(\"Class\", sprintf(\"%02d\", 1:30)),   seed = 42 )  # View a subset of the structure to show key portions cat(\"Mobility matrix dimensions:\", dim(basic_data), \"\\n\") #> Mobility matrix dimensions: 31 31 cat(\"Total population:\", basic_data[31, 31], \"\\n\\n\") #> Total population: 50000  # Show first 8x8 corner with totals to demonstrate structure cat(\"First 8x8 corner of mobility matrix with marginal totals:\\n\") #> First 8x8 corner of mobility matrix with marginal totals: subset_matrix <- basic_data[c(1:8, 31), c(1:8, 31)] print(subset_matrix) #>          Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Class 07 #> Class 01     2377      388      156       11       14        7       11 #> Class 02       78      500       78       41        8        3        7 #> Class 03       73      140      855      141       57        2        5 #> Class 04        3       20       26      266       39       16        1 #> Class 05        2        2       65      121      785       95       52 #> Class 06        1        1        6       22       72      465       60 #> Class 07       19       12        8        9      239      434     2793 #> Class 08        3        1        3        5        3       54      118 #> Total        2667     1189     1303      742     1313     1199     3178 #>          Class 08 Total #> Class 01        7  3231 #> Class 02        2   782 #> Class 03        4  1374 #> Class 04        2   398 #> Class 05        2  1210 #> Class 06       25   707 #> Class 07      395  4399 #> Class 08      809  1255 #> Total        1411 50000  # Show diagonal (immobility) for first 10 classes cat(\"\\nImmobility rates for first 10 classes:\\n\") #>  #> Immobility rates for first 10 classes: diagonal_values <- diag(basic_data[1:30, 1:30])[1:10] row_totals <- basic_data[1:10, 31] immobility_rates <- round(diagonal_values / row_totals * 100, 1) names(immobility_rates) <- paste(\"Class\", sprintf(\"%02d\", 1:10)) print(immobility_rates) #> Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Class 07 Class 08  #>     73.6     63.9     62.2     66.8     64.9     65.8     63.5     64.5  #> Class 09 Class 10  #>     60.1     60.7"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"creating-different-mobility-scenarios","dir":"Articles","previous_headings":"Working with Synthetic Data","what":"Creating Different Mobility Scenarios","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Create example datasets with different mobility patterns # Using generate_mobility_data() with different parameters  # For demonstration of larger networks, create custom 30x30 examples cat(\"Creating custom 30x30 examples for comparison:\\\\n\") #> Creating custom 30x30 examples for comparison:\\n  # Create 30x30 rigid system examples_30x30 <- list() examples_30x30$rigid <- generate_mobility_data(   n_classes = 30,   n_total = 45000,   immobility_strength = 0.85,  # Very rigid   class_clustering = 0.9,   class_names = paste(\"Class\", sprintf(\"%02d\", 1:30)),   seed = 100 )  # Create 30x30 fluid system examples_30x30$fluid <- generate_mobility_data(   n_classes = 30,   n_total = 45000,   immobility_strength = 0.4,  # Very fluid   class_clustering = 0.6,   class_names = paste(\"Class\", sprintf(\"%02d\", 1:30)),   seed = 200 )  # Examine the rigid class system - show key portions cat(\"Rigid class system (30x30 matrix):\\n\") #> Rigid class system (30x30 matrix): cat(\"Matrix dimensions:\", dim(examples_30x30$rigid), \"\\n\") #> Matrix dimensions: 31 31 cat(\"Total population:\", examples_30x30$rigid[31, 31], \"\\n\\n\") #> Total population: 45000  # Show first 6x6 corner with totals cat(\"First 6x6 corner with marginal totals:\\n\") #> First 6x6 corner with marginal totals: rigid_subset <- examples_30x30$rigid[c(1:6, 31), c(1:6, 31)] print(rigid_subset) #>          Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Total #> Class 01      435      239      122        1        2        0   848 #> Class 02       28       63       39       21        0        1   164 #> Class 03      238      479      926      480      234        1  2448 #> Class 04        4      144      287      543      279      142  1448 #> Class 05        2        3      153      339      632      328  1685 #> Class 06        3        0        5       84      149      292   767 #> Total         768      976     1603     1521     1520     1275 45000  # Show immobility rates for first 8 classes cat(\"\\nImmobility rates (%) for first 8 classes in rigid system:\\n\") #>  #> Immobility rates (%) for first 8 classes in rigid system: rigid_diag <- diag(examples_30x30$rigid[1:30, 1:30])[1:8] rigid_totals <- examples_30x30$rigid[1:8, 31] rigid_rates <- round(rigid_diag / rigid_totals * 100, 1) names(rigid_rates) <- paste(\"Class\", sprintf(\"%02d\", 1:8)) print(rigid_rates) #> Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Class 07 Class 08  #>     51.3     38.4     37.8     37.5     37.5     38.1     36.6     36.5  # Examine the fluid (highly mobile) system cat(\"\\nFluid mobility system (30x30 matrix):\\n\") #>  #> Fluid mobility system (30x30 matrix): cat(\"Matrix dimensions:\", dim(examples_30x30$fluid), \"\\n\") #> Matrix dimensions: 31 31 cat(\"Total population:\", examples_30x30$fluid[31, 31], \"\\n\\n\") #> Total population: 45000  # Show first 6x6 corner with totals cat(\"First 6x6 corner with marginal totals:\\n\") #> First 6x6 corner with marginal totals: fluid_subset <- examples_30x30$fluid[c(1:6, 31), c(1:6, 31)] print(fluid_subset) #>          Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Total #> Class 01      599      508      220        7        8        3  1448 #> Class 02      381      517      381      192        8        1  1597 #> Class 03      209      372      564      394      203        7  1853 #> Class 04        3      230      435      546      455      237  2017 #> Class 05        0        4      141      320      400      281  1404 #> Class 06        3        2        2      125      295      336  1216 #> Total        1285     1710     1821     1662     1632     1424 45000  # Show immobility rates for first 8 classes cat(\"\\nImmobility rates (%) for first 8 classes in fluid system:\\n\") #>  #> Immobility rates (%) for first 8 classes in fluid system: fluid_diag <- diag(examples_30x30$fluid[1:30, 1:30])[1:8] fluid_totals <- examples_30x30$fluid[1:8, 31] fluid_rates <- round(fluid_diag / fluid_totals * 100, 1) names(fluid_rates) <- paste(\"Class\", sprintf(\"%02d\", 1:8)) print(fluid_rates) #> Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Class 07 Class 08  #>     41.4     32.4     30.4     27.1     28.5     27.6     29.0     27.8"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"basic-analysis","dir":"Articles","previous_headings":"Running MONECA Analysis","what":"Basic Analysis","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA object contains: - segment.list: Hierarchical clusters level - mat.list: Aggregated mobility matrices level","code":"# Run MONECA on the basic dataset seg <- moneca(basic_data, segment.levels = 3) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |====                                                                  |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  12%  |                                                                              |==========                                                            |  14%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  21%  |                                                                              |================                                                      |  22%  |                                                                              |=================                                                     |  24% #> 25% ready! #>   |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  28%  |                                                                              |=====================                                                 |  29%  |                                                                              |======================                                                |  31%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |=========================                                             |  36%  |                                                                              |===========================                                           |  38%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  45%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |===================================                                   |  50% #> 51% ready! #>   |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |=======================================                               |  55%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  62%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  71%  |                                                                              |===================================================                   |  72%  |                                                                              |====================================================                  |  74% #> 75% ready! #>   |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  78%  |                                                                              |========================================================              |  79%  |                                                                              |=========================================================             |  81%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  86%  |                                                                              |==============================================================        |  88%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  95%  |                                                                              |====================================================================  |  97%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100% #> 100% ready! #>  #>   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20% #> 27% ready! #>   |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50% #> 55% ready! #>   |                                                                              |==========================================                            |  60%  |                                                                              |=================================================                     |  70%  |                                                                              |========================================================              |  80% #> 82% ready! #>   |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100% #> 100% ready!  # View the results print(seg) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    35.4% #> Average Mobility Concentration (all levels):         90.9% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    64.6    76.8    85.3   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    91.0    87.4    85.3   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                30           12            6            1  #> Significant Edges:                     104           12            0            0  #> Network Density:                     0.120        0.091        0.000          NaN  #> Isolated Segments:                       0            0            6            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min    Q1 Median  Mean    Q3   Max #> Level 1 8.77 15.32  20.14 20.55 25.81 39.11 #> Level 2 1.07  2.03   2.57  2.75  3.25  5.56 #> Level 3 0.00  0.00   0.00  0.00  0.00  0.00 #> Level 4 0.00  0.00   0.00  0.00  0.00  0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>          Min   Q1 Median  Mean    Q3   Max #> Level 1 5.36 7.81  10.64 10.27 12.05 15.58 #> Level 2 0.00 0.00   1.14  1.37  2.67  3.31 #> Level 3 0.00 0.00   0.00  0.00  0.00  0.00 #> Level 4 0.00 0.00   0.00  0.00  0.00  0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>          Min   Q1 Median  Mean    Q3   Max #> Level 1 1.87 6.55   9.69 10.27 14.24 26.51 #> Level 2 0.00 0.78   1.12  1.37  1.71  4.39 #> Level 3 0.00 0.00   0.00  0.00  0.00  0.00 #> Level 4 0.00 0.00   0.00  0.00  0.00  0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.61   2.42 2.96 3.76 8.35 #> Level 2 1.04 1.07   1.16 1.37 1.51 2.23 #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"understanding-the-results","dir":"Articles","previous_headings":"Running MONECA Analysis","what":"Understanding the Results","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# View segment membership membership <- segment.membership(seg) cat(\"Segment membership summary:\\n\") #> Segment membership summary: cat(\"Number of levels:\", length(membership), \"\\n\") #> Number of levels: 2 for(i in 1:length(membership)) {   cat(\"Level\", i, \"- Number of segments:\", length(unique(membership[[i]])), \"\\n\") } #> Level 1 - Number of segments: 30  #> Level 2 - Number of segments: 1  # Show first 15 class memberships at each level cat(\"\\nSegment membership for first 15 classes:\\n\") #>  #> Segment membership for first 15 classes: membership_subset <- data.frame(   Class = paste(\"Class\", sprintf(\"%02d\", 1:15)),   Level_1 = membership[[1]][1:15],   Level_2 = membership[[2]][1:15] ) if(length(membership) >= 3) {   membership_subset$Level_3 <- membership[[3]][1:15] } print(membership_subset) #>       Class  Level_1 Level_2 #> 1  Class 01 Class 01     4.1 #> 2  Class 02 Class 02     4.1 #> 3  Class 03 Class 03     4.1 #> 4  Class 04 Class 04     4.1 #> 5  Class 05 Class 05     4.1 #> 6  Class 06 Class 06     4.1 #> 7  Class 07 Class 07     4.1 #> 8  Class 08 Class 08     4.1 #> 9  Class 09 Class 09     4.1 #> 10 Class 10 Class 10     4.1 #> 11 Class 11 Class 11     4.1 #> 12 Class 12 Class 12     4.1 #> 13 Class 13 Class 13     4.1 #> 14 Class 14 Class 14     4.1 #> 15 Class 15 Class 15     4.1  # View the aggregated matrix for level 2 cat(\"\\nLevel 2 aggregated matrix dimensions:\", dim(seg$mat.list[[2]]), \"\\n\") #>  #> Level 2 aggregated matrix dimensions: 13 13 print(\"Level 2 aggregated matrix:\") #> [1] \"Level 2 aggregated matrix:\" print(seg$mat.list[[2]]) #>       1    2    3    4    5    6    7    8    9   10   11   12    31 #> 1  1203   15   12   15   14    6    9  149   82   12    6    7  1530 #> 2    21 1688   22   16   16   15   20   19  177   22    5    7  2028 #> 3    21   10 1516   16   16    6  196   28   25   25   46    6  1911 #> 4    22   32   26 2355   28  240  171   30   39   20   15    4  2982 #> 5    42   45   32   47 3257   23   21   92   53  420   10  129  4171 #> 6    51   37   46  308   47 3343   28   42   37   43   12   19  4013 #> 7    41   49  680  356   36   33 3752   42   39   42   21   15  5106 #> 8   397   62   60   66  225   46   47 5715   78   75   30  442  7243 #> 9   452  523   64   64   58   40   54   52 5303   82   16   19  6727 #> 10   65   71  173   58  424   43   38   70   51 5567  342   26  6928 #> 11   32   30  431   23   22   25   15   21   20  456 2036   12  3123 #> 12   59   48   29   34  629   36   26  609   42   34   14 2678  4238 #> 31 2406 2610 3091 3358 4772 3856 4377 6869 5946 6798 2553 3364 50000"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"modern-visualization-with-ggraph","dir":"Articles","previous_headings":"","what":"Modern Visualization with ggraph","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA now includes modern visualization functions using ggplot2 ggraph, designed accessibility clarity primary concerns.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"visualization-design-principles","dir":"Articles","previous_headings":"Modern Visualization with ggraph","what":"Visualization Design Principles","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA plotting functions follow evidence-based design principles maximum accessibility clarity: Colorblind Accessibility: Uses viridis, plasma, ColorBrewer palettes perceptually uniform distinguishable types color vision High Contrast: Maintains WCAG AA contrast ratios text visual elements Redundant Encoding: Uses color visual properties (size, shape, position) encode information Clear Visual Hierarchy: Guides attention strategic use size, transparency, positioning Minimal Cognitive Load: Reduces visual clutter maintaining analytical depth","code":"# Example of accessibility-focused plotting plot_moneca_ggraph(   seg,   color_palette = \"Set2\",       # Colorblind-safe qualitative palette   node_alpha = 0.85,            # High contrast   edge_alpha = 0.6,             # Balanced visibility   show_segments = TRUE,         # Visual grouping   segment_alpha = 0.2,          # Subtle boundaries   label_size = 3.5              # Readable text )  # For continuous variables, use viridis family plot_moneca_ggraph(   seg,   node_color = \"mobility\",      # Color by mobility rates   color_palette = \"viridis\",    # Colorblind-safe continuous scale   node_alpha = 0.85,   edge_alpha = 0.6 )"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"basic-network-plot-with-colorblind-friendly-design","dir":"Articles","previous_headings":"Modern Visualization with ggraph","what":"Basic Network Plot with Colorblind-Friendly Design","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Create a basic network plot with improved accessibility # Using viridis color palette (colorblind-friendly) and optimized layout # Note: Node colors represent segment membership, sizes show total mobility p1 <- plot_moneca_ggraph(   seg,   title = \"Social Mobility Network: Hierarchical Segmentation\",   layout = \"stress\",  # Better layout for clear network structure   node_color = \"segment\",   node_size = \"total\",   color_palette = \"Set2\",  # Colorblind-friendly palette   node_alpha = 0.85,   edge_alpha = 0.7,   show_segments = TRUE,   segment_alpha = 0.2,   label_size = 3.5 )  print(p1)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"advanced-network-visualization-with-clear-segment-boundaries","dir":"Articles","previous_headings":"Modern Visualization with ggraph","what":"Advanced Network Visualization with Clear Segment Boundaries","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Create an advanced plot emphasizing segment structure for 30-node network # Note: For larger networks, reduce label clutter and focus on structure p2 <- plot_moneca_ggraph(   seg,   layout = \"fr\",  # Force-directed layout for balanced positioning   node_color = \"segment\",   node_size = \"mobility\",  # Size by mobility rate for analytical insight   edge_width = \"weight\",   color_palette = \"Dark2\",  # High-contrast ColorBrewer palette   edge_color = \"grey30\",  # Darker edges for better visibility   theme_style = \"minimal\",   title = \"Advanced MONECA Network Analysis (30 Classes)\",   show_labels = FALSE,  # Turn off labels for 30-node network to reduce clutter   show_segments = TRUE,   segment_alpha = 0.15,   node_alpha = 0.9,   edge_alpha = 0.6 )  print(p2) # Also create a subset visualization focusing on the largest segments cat(\"\\nLargest segments at Level 2:\\n\") #>  #> Largest segments at Level 2: level2_segments <- seg$segment.list[[2]] segment_sizes <- sapply(level2_segments, length) largest_segments <- order(segment_sizes, decreasing = TRUE)[1:3] cat(\"Segment sizes:\", segment_sizes[largest_segments], \"\\n\") #> Segment sizes: 3 3 3"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"ego-network-analysis-focus-on-individual-position-dynamics","dir":"Articles","previous_headings":"Modern Visualization with ggraph","what":"Ego Network Analysis: Focus on Individual Position Dynamics","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Ego networks reveal mobility patterns single focal position, showing incoming outgoing flows:","code":"# Create ego network for class 15 (middle of the range) with enhanced accessibility # Note: Red nodes show focal position and same-segment connections; Flow width indicates volume p3 <- plot_ego_ggraph(   seg,   basic_data,   ego_id = 15,  # Class 15 out of 30 classes   layout = \"stress\",  # Stress layout for cleaner ego networks   title = \"Ego Network Analysis: Class 15 Mobility Patterns (30-Class System)\",   highlight_color = \"#D55E00\",  # Colorblind-safe orange-red   flow_color = \"plasma\",  # Perceptually uniform color scale   node_size_range = c(3, 12),   edge_width_range = c(0.5, 4),   min_weight = 50  # Higher threshold for 30-class system to filter weak connections )  print(p3) # Show ego network statistics cat(\"\\nEgo network statistics for Class 15:\\n\") #>  #> Ego network statistics for Class 15: ego_connections <- which(basic_data[15, 1:30] > 50 | basic_data[1:30, 15] > 50) cat(\"Classes connected to Class 15 (flows > 50):\", length(ego_connections), \"\\n\") #> Classes connected to Class 15 (flows > 50): 5 cat(\"Connected classes:\", paste(ego_connections, collapse = \", \"), \"\\n\") #> Connected classes: 13, 14, 15, 16, 17"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"multi-level-segmentation-hierarchical-structure-visualization","dir":"Articles","previous_headings":"Modern Visualization with ggraph","what":"Multi-Level Segmentation: Hierarchical Structure Visualization","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Create stair plots showing progressive segmentation for 30-class system # Using consistent positioning to track segment evolution across levels stair_plots <- plot_stair_ggraph(   seg,    levels = 2:3,   layout = NULL,  # Use consistent layout.matrix for position stability   segment_naming = \"auto\",   color_palette = \"Set2\",  # Colorblind-friendly qualitative palette   node_size = \"total\",   edge_alpha = 0.6,   node_alpha = 0.85,   segment_alpha = 0.2,   label_size = 2.5  # Smaller labels for 30-node network )  # Display individual plots with improved spacing print(stair_plots$`Level 2`) print(stair_plots$`Level 3`) # Provide numerical summary of segmentation progression cat(\"\\nSegmentation progression summary:\\n\") #>  #> Segmentation progression summary: for(level in 2:3) {   n_segments <- length(seg$segment.list[[level]])   avg_size <- mean(sapply(seg$segment.list[[level]], length))   cat(\"Level\", level, \":\", n_segments, \"segments, average size\", round(avg_size, 1), \"classes\\n\") } #> Level 2 : 10 segments, average size 2.8 classes #> Level 3 : 6 segments, average size 5 classes"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"comparing-different-mobility-regimes","dir":"Articles","previous_headings":"Advanced Analysis Examples","what":"Comparing Different Mobility Regimes","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Analyze the rigid class system (30x30) rigid_seg <- moneca(examples_30x30$rigid, segment.levels = 3) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   9%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  12%  |                                                                              |==========                                                            |  14%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  18%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  23% #> 25% ready! #>   |                                                                              |==================                                                    |  25%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  32%  |                                                                              |========================                                              |  34%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  38%  |                                                                              |============================                                          |  39%  |                                                                              |=============================                                         |  41%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  46%  |                                                                              |==================================                                    |  48%  |                                                                              |===================================                                   |  50% #> 51% ready! #>   |                                                                              |====================================                                  |  52%  |                                                                              |======================================                                |  54%  |                                                                              |=======================================                               |  55%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  61%  |                                                                              |============================================                          |  62%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  66%  |                                                                              |================================================                      |  68%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  75% #> 75% ready! #>   |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |==========================================================            |  82%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  91%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  95%  |                                                                              |====================================================================  |  96%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100% #> 100% ready! #>  #>   |                                                                              |                                                                      |   0%  |                                                                              |=========                                                             |  12%  |                                                                              |==================                                                    |  25% #> 33% ready! #>   |                                                                              |==========================                                            |  38%  |                                                                              |===================================                                   |  50% #> 56% ready! #>   |                                                                              |============================================                          |  62%  |                                                                              |====================================================                  |  75% #> 78% ready! #>   |                                                                              |=============================================================         |  88%  |                                                                              |======================================================================| 100% #> 100% ready!  # Analyze the fluid mobility system (30x30) fluid_seg <- moneca(examples_30x30$fluid, segment.levels = 3) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   9%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  12%  |                                                                              |==========                                                            |  14%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  18%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  23% #> 25% ready! #>   |                                                                              |==================                                                    |  25%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  32%  |                                                                              |========================                                              |  34%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  38%  |                                                                              |============================                                          |  39%  |                                                                              |=============================                                         |  41%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  46%  |                                                                              |==================================                                    |  48%  |                                                                              |===================================                                   |  50% #> 51% ready! #>   |                                                                              |====================================                                  |  52%  |                                                                              |======================================                                |  54%  |                                                                              |=======================================                               |  55%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  61%  |                                                                              |============================================                          |  62%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  66%  |                                                                              |================================================                      |  68%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  75% #> 75% ready! #>   |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |==========================================================            |  82%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  91%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  95%  |                                                                              |====================================================================  |  96%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100% #> 100% ready! #>  #>   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20% #> 27% ready! #>   |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50% #> 55% ready! #>   |                                                                              |==========================================                            |  60%  |                                                                              |=================================================                     |  70%  |                                                                              |========================================================              |  80% #> 82% ready! #>   |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100% #> 100% ready! #>  #>   |                                                                              |                                                                      |   0%  |                                                                              |==============                                                        |  20% #> 33% ready! #>   |                                                                              |============================                                          |  40% #> 50% ready! #>   |                                                                              |==========================================                            |  60%  |                                                                              |========================================================              |  80% #> 83% ready! #>   |                                                                              |======================================================================| 100% #> 100% ready!  # Compare segment memberships - show summary statistics rigid_membership <- segment.membership(rigid_seg) fluid_membership <- segment.membership(fluid_seg)  cat(\"Rigid system segmentation summary:\\n\") #> Rigid system segmentation summary: for(i in 1:length(rigid_membership)) {   n_segments <- length(unique(rigid_membership[[i]]))   segment_sizes <- table(rigid_membership[[i]])   avg_size <- mean(segment_sizes)   max_size <- max(segment_sizes)   cat(\"Level\", i, \":\", n_segments, \"segments, avg size\", round(avg_size, 1),        \", largest segment\", max_size, \"classes\\n\") } #> Level 1 : 30 segments, avg size 1 , largest segment 1 classes #> Level 2 : 1 segments, avg size 30 , largest segment 30 classes  cat(\"\\nFluid system segmentation summary:\\n\") #>  #> Fluid system segmentation summary: for(i in 1:length(fluid_membership)) {   n_segments <- length(unique(fluid_membership[[i]]))   segment_sizes <- table(fluid_membership[[i]])   avg_size <- mean(segment_sizes)   max_size <- max(segment_sizes)   cat(\"Level\", i, \":\", n_segments, \"segments, avg size\", round(avg_size, 1),        \", largest segment\", max_size, \"classes\\n\") } #> Level 1 : 30 segments, avg size 1 , largest segment 1 classes #> Level 2 : 4 segments, avg size 7.5 , largest segment 10 classes  # Show first 12 class memberships for comparison cat(\"\\nSegment membership comparison for first 12 classes:\\n\") #>  #> Segment membership comparison for first 12 classes: comparison_df <- data.frame(   Class = paste(\"Class\", sprintf(\"%02d\", 1:12)),   Rigid_L2 = rigid_membership[[2]][1:12],   Fluid_L2 = fluid_membership[[2]][1:12] ) if(length(rigid_membership) >= 3 && length(fluid_membership) >= 3) {   comparison_df$Rigid_L3 <- rigid_membership[[3]][1:12]   comparison_df$Fluid_L3 <- fluid_membership[[3]][1:12] } print(comparison_df) #>       Class Rigid_L2 Fluid_L2 #> 1  Class 01      4.1      4.1 #> 2  Class 02      4.1      4.1 #> 3  Class 03      4.1      4.1 #> 4  Class 04      4.1      4.1 #> 5  Class 05      4.1      4.1 #> 6  Class 06      4.1      4.1 #> 7  Class 07      4.1      4.1 #> 8  Class 08      4.1      4.2 #> 9  Class 09      4.1      4.2 #> 10 Class 10      4.1      4.2 #> 11 Class 11      4.1      4.2 #> 12 Class 12      4.1      4.2"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"comparing-mobility-regimes-accessibility-focused-visualizations","dir":"Articles","previous_headings":"Advanced Analysis Examples","what":"Comparing Mobility Regimes: Accessibility-Focused Visualizations","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Compare rigid vs fluid systems for 30-class networks # Using colorblind-safe palettes and clear differentiation  # Plot rigid system - emphasis on strong boundaries # Note: High immobility rates create distinct, well-separated segments p_rigid <- plot_moneca_ggraph(   rigid_seg,   title = \"Rigid Class System: Strong Internal Cohesion (30 Classes)\",   layout = \"stress\",   node_color = \"segment\",   node_size = \"total\",   color_palette = \"Oranges\",  # Sequential palette for rigid structure   edge_color = \"grey20\",   show_segments = TRUE,   segment_alpha = 0.25,   node_alpha = 0.9,   edge_alpha = 0.5,   show_labels = FALSE  # No labels for 30-node network )  # Plot fluid system - emphasis on connectivity # Note: Strong cross-segment mobility creates overlapping, less distinct boundaries p_fluid <- plot_moneca_ggraph(   fluid_seg,   title = \"Fluid Mobility System: High Inter-Segment Flow (30 Classes)\",   layout = \"stress\",   node_color = \"segment\",   node_size = \"mobility\",  # Size by mobility rate to show fluidity   color_palette = \"Purples\",  # Different sequential palette for contrast   edge_color = \"grey30\",   show_segments = TRUE,   segment_alpha = 0.15,  # Lower alpha for fluid boundaries   node_alpha = 0.85,   edge_alpha = 0.7,  # Higher edge alpha to show connectivity   show_labels = FALSE  # No labels for 30-node network )  print(p_rigid) print(p_fluid) # Add network density comparison cat(\"\\nNetwork characteristics comparison:\\n\") #>  #> Network characteristics comparison: cat(\"Rigid system - segments at Level 2:\", length(rigid_seg$segment.list[[2]]), \"\\n\") #> Rigid system - segments at Level 2: 10 cat(\"Fluid system - segments at Level 2:\", length(fluid_seg$segment.list[[2]]), \"\\n\") #> Fluid system - segments at Level 2: 10  # Calculate edge densities rigid_edges <- sum(!is.na(segment.edges(rigid_seg, level = 1)) & segment.edges(rigid_seg, level = 1) > 1) fluid_edges <- sum(!is.na(segment.edges(fluid_seg, level = 1)) & segment.edges(fluid_seg, level = 1) > 1) max_edges <- 30 * 29  # Directed graph  cat(\"Rigid system edge density:\", round(rigid_edges / max_edges * 100, 1), \"%\\n\") #> Rigid system edge density: 13.1 % cat(\"Fluid system edge density:\", round(fluid_edges / max_edges * 100, 1), \"%\\n\") #> Fluid system edge density: 13.1 %"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"dendrogram-visualization-for-hierarchical-structure","dir":"Articles","previous_headings":"Advanced Analysis Examples > Advanced Visualization Techniques","what":"Dendrogram Visualization for Hierarchical Structure","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Create a dendrogram showing the hierarchical clustering structure # This provides a clear view of how categories are progressively aggregated dendro_plot <- plot_moneca_dendrogram(   seg,   height_method = \"uniform\",          # Equal spacing between levels   color_segments = TRUE,              # Color branches by final segments   show_labels = TRUE,                 # Show category names   label_size = 3.5,   branch_width = 1.2,   title = \"MONECA Hierarchical Structure\",   subtitle = \"Shows progressive aggregation from individual categories to segments\",   color_palette = \"Set2\",             # Colorblind-friendly palette   theme_style = \"minimal\" )  print(dendro_plot)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"quality-assessment-visualization","dir":"Articles","previous_headings":"Advanced Analysis Examples > Advanced Visualization Techniques","what":"Quality Assessment Visualization","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Comprehensive segment quality analysis quality_overview <- plot_segment_quality(   seg,   plot_type = \"overview\",   level = 2,   color_palette = \"Set3\",   theme_style = \"minimal\",   show_labels = TRUE,   label_size = 3 ) print(quality_overview) #> TableGrob (3 x 2) \"arrange\": 5 grobs #>   z     cells    name                grob #> 1 1 (2-2,1-1) arrange      gtable[layout] #> 2 2 (2-2,2-2) arrange      gtable[layout] #> 3 3 (3-3,1-1) arrange      gtable[layout] #> 4 4 (3-3,2-2) arrange      gtable[layout] #> 5 5 (1-1,1-2) arrange text[GRID.text.397]  # Cohesion vs Size Analysis cohesion_plot <- plot_segment_quality(   seg,   plot_type = \"cohesion\",   level = 2,   title = \"Segment Quality Analysis: Cohesion vs Size\",   color_palette = \"Dark2\",   show_labels = TRUE,   label_size = 3.5 )  print(cohesion_plot)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"custom-segment-naming-for-enhanced-interpretation","dir":"Articles","previous_headings":"Advanced Analysis Examples","what":"Custom Segment Naming for Enhanced Interpretation","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA includes enhanced segment naming functionality allows provide meaningful, domain-specific labels mobility categories. feature dramatically improves interpretability visualizations replacing generic class names substantive descriptions.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"basic-naming-strategies","dir":"Articles","previous_headings":"Advanced Analysis Examples > Custom Segment Naming for Enhanced Interpretation","what":"Basic Naming Strategies","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"segment_naming parameter accepts several types input:","code":"# Generate example data with meaningful class names occupational_data <- generate_mobility_data(   n_classes = 8,   class_names = c(\"Executive\", \"Professional\", \"Manager\", \"Technical\",                    \"Skilled Worker\", \"Service Worker\", \"Clerical\", \"Manual Worker\"),   n_total = 8000,   seed = 100 )  # Run MONECA analysis occ_seg <- moneca(occupational_data, segment.levels = 3) #>   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20% #> 27% ready! #>   |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50% #> 55% ready! #>   |                                                                              |==========================================                            |  60%  |                                                                              |=================================================                     |  70%  |                                                                              |========================================================              |  80% #> 82% ready! #>   |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100% #> 100% ready! #>  #>   |                                                                              |                                                                      |   0% #> 100% ready!  # Example 1: Auto strategy (default) - uses intelligent pattern recognition auto_plot <- plot_moneca_ggraph(   occ_seg,   segment_naming = \"auto\",   title = \"Auto Naming Strategy: Pattern Recognition\",   node_color = \"segment\",   show_segments = TRUE,   color_palette = \"Set2\" )  print(auto_plot) # Example 2: Concatenation strategy - joins names with separator concat_plot <- plot_moneca_ggraph(   occ_seg,   segment_naming = \"concat\",   title = \"Concatenation Strategy: Joined Names\",   node_color = \"segment\",   show_segments = TRUE,   color_palette = \"Dark2\" )  print(concat_plot)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"advanced-custom-naming-with-data-frames","dir":"Articles","previous_headings":"Advanced Analysis Examples > Custom Segment Naming for Enhanced Interpretation","what":"Advanced Custom Naming with Data Frames","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"powerful feature ability provide custom labels using data.frame:","code":"# Create custom segment labels that provide analytical insight custom_labels <- data.frame(   name = c(\"Executive\", \"Professional\", \"Manager\", \"Technical\",             \"Skilled Worker\", \"Service Worker\", \"Clerical\", \"Manual Worker\"),   segment_label = c(     \"Senior Leadership\",      # Executive     \"Knowledge Workers\",      # Professional       \"Middle Management\",      # Manager     \"Technical Specialists\",  # Technical     \"Craft Workers\",         # Skilled Worker     \"Service Industry\",      # Service Worker     \"Administrative Staff\",  # Clerical     \"Production Workers\"     # Manual Worker   ),   stringsAsFactors = FALSE )  print(\"Custom segment labels mapping:\") #> [1] \"Custom segment labels mapping:\" print(custom_labels) #>             name         segment_label #> 1      Executive     Senior Leadership #> 2   Professional     Knowledge Workers #> 3        Manager     Middle Management #> 4      Technical Technical Specialists #> 5 Skilled Worker         Craft Workers #> 6 Service Worker      Service Industry #> 7       Clerical  Administrative Staff #> 8  Manual Worker    Production Workers  # Use custom labels in main network plot custom_plot <- plot_moneca_ggraph(   occ_seg,   segment_naming = custom_labels,   title = \"Custom Segment Naming: Occupational Class Structure\",   node_color = \"segment\",   node_size = \"total\",   show_segments = TRUE,   segment_alpha = 0.2,   color_palette = \"Set3\",   show_labels = TRUE,   label_size = 3.5 )  print(custom_plot) # Show how this works across different plot types # Ego network with custom naming ego_custom <- plot_ego_ggraph(   occ_seg,   occupational_data,   ego_id = 4,  # Technical worker   segment_naming = custom_labels,   title = \"Technical Specialists: Mobility Patterns\",   highlight_color = \"#E31A1C\",   flow_color = \"viridis\",   min_weight = 20 )  print(ego_custom)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"partial-custom-naming","dir":"Articles","previous_headings":"Advanced Analysis Examples > Custom Segment Naming for Enhanced Interpretation","what":"Partial Custom Naming","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"can provide custom names categories, others using default strategies:","code":"# Partial custom naming - focus on key categories key_positions <- data.frame(   name = c(\"Executive\", \"Professional\", \"Manual Worker\"),   segment_label = c(\"Corporate Elite\", \"Professional Class\", \"Working Class\"),   stringsAsFactors = FALSE )  partial_plot <- plot_moneca_ggraph(   occ_seg,   segment_naming = key_positions,   title = \"Partial Custom Naming: Highlighting Key Social Classes\",   node_color = \"segment\",   node_size = \"mobility\",   color_palette = \"Spectral\",   show_segments = TRUE,   segment_alpha = 0.15 )  print(partial_plot) cat(\"\\\\nPartial custom naming allows focus on analytically important categories\\\\n\") #> \\nPartial custom naming allows focus on analytically important categories\\n cat(\"while maintaining readability for other positions.\\\\n\") #> while maintaining readability for other positions.\\n"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"multi-level-analysis-with-custom-naming","dir":"Articles","previous_headings":"Advanced Analysis Examples > Custom Segment Naming for Enhanced Interpretation","what":"Multi-Level Analysis with Custom Naming","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Custom naming works seamlessly across hierarchical levels:","code":"# Multi-level visualization with consistent custom naming multilevel_plots <- plot_stair_ggraph(   occ_seg,   levels = c(2, 3),   segment_naming = custom_labels,   color_palette = \"Set2\",   node_size = \"total\",   show_segments = TRUE,   segment_alpha = 0.2,   label_size = 3 )  print(multilevel_plots$`Level 2`) print(multilevel_plots$`Level 3`) # Show progression of segmentation with meaningful names cat(\"\\\\nMulti-level segmentation progression with custom names:\\\\n\") #> \\nMulti-level segmentation progression with custom names:\\n for(level in 2:3) {   n_segments <- length(occ_seg$segment.list[[level]])   avg_size <- mean(sapply(occ_seg$segment.list[[level]], length))   cat(\"Level\", level, \":\", n_segments, \"occupational segments,\",        \"average\", round(avg_size, 1), \"classes per segment\\\\n\") } #> Level 2 : 3 occupational segments, average 2.7 classes per segment\\nLevel 3 : 1 occupational segments, average 5 classes per segment\\n"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"practical-applications","dir":"Articles","previous_headings":"Advanced Analysis Examples > Custom Segment Naming for Enhanced Interpretation","what":"Practical Applications","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Custom segment naming particularly valuable : Occupational Mobility: Use job titles occupational categories Educational Analysis: Replace generic levels degree types Geographic Studies: Use meaningful place names instead codes Industry Analysis: Employ sector names industry classifications International Comparisons: Apply country-specific terminology","code":"# Example applications for different research contexts  # Educational mobility education_labels <- data.frame(   name = c(\"Level1\", \"Level2\", \"Level3\", \"Level4\"),   segment_label = c(\"No Degree\", \"High School\", \"Bachelor's\", \"Graduate\"),   stringsAsFactors = FALSE )  # Geographic mobility   geographic_labels <- data.frame(   name = c(\"Region_A\", \"Region_B\", \"Region_C\"),   segment_label = c(\"Metropolitan\", \"Suburban\", \"Rural\"),   stringsAsFactors = FALSE )  # Industry sectors industry_labels <- data.frame(   name = c(\"Sector1\", \"Sector2\", \"Sector3\", \"Sector4\"),   segment_label = c(\"Manufacturing\", \"Services\", \"Technology\", \"Healthcare\"),   stringsAsFactors = FALSE )  # Use in analysis plot_moneca_ggraph(seg, segment_naming = education_labels,                    title = \"Educational Mobility Networks\")"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"interpretation-guidelines-for-visualizations","dir":"Articles","previous_headings":"Advanced Analysis Examples","what":"Interpretation Guidelines for Visualizations","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"interpreting MONECA network visualizations, consider key elements:","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"network-layout-interpretation","dir":"Articles","previous_headings":"Advanced Analysis Examples > Interpretation Guidelines for Visualizations","what":"Network Layout Interpretation","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Node Position: Reflects mathematical similarity mobility patterns Edge Thickness: Proportional relative risk mobility positions Cluster Proximity: Positions similar mobility profiles appear closer together Segment Boundaries: Convex hulls show positions high internal mobility","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"color-and-size-encoding","dir":"Articles","previous_headings":"Advanced Analysis Examples > Interpretation Guidelines for Visualizations","what":"Color and Size Encoding","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Node Colors: Represent segment membership specified hierarchical level Node Sizes: Can represent total mobility volume, mobility rates, custom metrics Edge Colors: Often represent flow direction connection strength Transparency: Used manage visual complexity preserving information","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"custom-naming-benefits","dir":"Articles","previous_headings":"Advanced Analysis Examples > Interpretation Guidelines for Visualizations","what":"Custom Naming Benefits","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Enhanced Readability: Meaningful labels improve immediate comprehension Domain Relevance: Context-specific terminology aids interpretation Professional Presentation: Polished visualizations publications reports Analytical Focus: Highlight theoretically important distinctions","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"accessibility-features","dir":"Articles","previous_headings":"Advanced Analysis Examples > Interpretation Guidelines for Visualizations","what":"Accessibility Features","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"plots include several accessibility enhancements:","code":"# Example showing all accessibility features accessible_plot <- plot_moneca_ggraph(   seg,   # Colorblind-safe palettes   color_palette = \"Set2\",           # For categorical: \"Set2\", \"Dark2\", \"Paired\"                                     # For continuous: \"viridis\", \"plasma\", \"inferno\"      # High contrast settings   node_alpha = 0.85,               # Strong node visibility   edge_alpha = 0.6,                # Balanced edge visibility   edge_color = \"grey30\",           # Dark edges for contrast      # Redundant encoding (color + size + position)   node_color = \"segment\",          # Color by segment   node_size = \"total\",             # Size by mobility volume      # Clear labeling   show_labels = TRUE,              # Display node names   label_size = 3.5,                # Readable text size   show_segments = TRUE,            # Segment boundaries      # Informative titles   title = \"Descriptive Title\"      # Clear context )"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"segment-quality-assessment","dir":"Articles","previous_headings":"Analytical Functions","what":"Segment Quality Assessment","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Assess the quality of segmentation for 30-class system level2_matrix <- seg$mat.list[[2]] cat(\"Level 2 aggregated matrix dimensions:\", dim(level2_matrix), \"\\n\") #> Level 2 aggregated matrix dimensions: 13 13 print(\"Level 2 mobility matrix (aggregated):\") #> [1] \"Level 2 mobility matrix (aggregated):\" print(level2_matrix) #>       1    2    3    4    5    6    7    8    9   10   11   12    31 #> 1  1203   15   12   15   14    6    9  149   82   12    6    7  1530 #> 2    21 1688   22   16   16   15   20   19  177   22    5    7  2028 #> 3    21   10 1516   16   16    6  196   28   25   25   46    6  1911 #> 4    22   32   26 2355   28  240  171   30   39   20   15    4  2982 #> 5    42   45   32   47 3257   23   21   92   53  420   10  129  4171 #> 6    51   37   46  308   47 3343   28   42   37   43   12   19  4013 #> 7    41   49  680  356   36   33 3752   42   39   42   21   15  5106 #> 8   397   62   60   66  225   46   47 5715   78   75   30  442  7243 #> 9   452  523   64   64   58   40   54   52 5303   82   16   19  6727 #> 10   65   71  173   58  424   43   38   70   51 5567  342   26  6928 #> 11   32   30  431   23   22   25   15   21   20  456 2036   12  3123 #> 12   59   48   29   34  629   36   26  609   42   34   14 2678  4238 #> 31 2406 2610 3091 3358 4772 3856 4377 6869 5946 6798 2553 3364 50000  # Calculate internal mobility rates for each segment # Use actual number of segments from segment.list instead of matrix dimensions actual_n_segments <- length(seg$segment.list[[2]]) n_segments <- nrow(level2_matrix) - 1  # Ensure we use the correct number of segments (the smaller of the two) active_segments <- min(actual_n_segments, n_segments)  internal_mobility <- diag(level2_matrix[1:active_segments, 1:active_segments]) total_mobility <- level2_matrix[1:active_segments, ncol(level2_matrix)] immobility_rates <- internal_mobility / total_mobility  cat(\"\\nImmobility rates by segment at Level 2:\\n\") #>  #> Immobility rates by segment at Level 2: segment_summary <- data.frame(   Segment = paste(\"Segment\", 1:active_segments),   Size = sapply(seg$segment.list[[2]], length)[1:active_segments],   Total_Population = total_mobility,   Internal_Mobility = internal_mobility,   Immobility_Rate = round(immobility_rates * 100, 1) ) print(segment_summary) #>       Segment Size Total_Population Internal_Mobility Immobility_Rate #> 1   Segment 1    3             1530              1203            78.6 #> 2   Segment 2    3             2028              1688            83.2 #> 3   Segment 3    3             1911              1516            79.3 #> 4   Segment 4    3             2982              2355            79.0 #> 5   Segment 5    3             4171              3257            78.1 #> 6   Segment 6    2             4013              3343            83.3 #> 7   Segment 7    2             5106              3752            73.5 #> 8   Segment 8    3             7243              5715            78.9 #> 9   Segment 9    3             6727              5303            78.8 #> 10 Segment 10    3             6928              5567            80.4  # Calculate overall segmentation quality metrics overall_internal <- sum(internal_mobility) overall_total <- sum(level2_matrix[1:active_segments, 1:active_segments]) overall_immobility_rate <- overall_internal / overall_total  cat(\"\\nOverall Level 2 segmentation quality:\\n\") #>  #> Overall Level 2 segmentation quality: cat(\"Total segments:\", active_segments, \"\\n\") #> Total segments: 10 cat(\"Average segment size:\", round(mean(segment_summary$Size), 1), \"classes\\n\") #> Average segment size: 2.8 classes cat(\"Overall internal mobility rate:\", round(overall_immobility_rate * 100, 1), \"%\\n\") #> Overall internal mobility rate: 81.3 %  # Compare to Level 1 (original classes) level1_internal <- sum(diag(basic_data[1:30, 1:30])) level1_total <- sum(basic_data[1:30, 1:30]) level1_rate <- level1_internal / level1_total  cat(\"Level 1 internal mobility rate:\", round(level1_rate * 100, 1), \"%\\n\") #> Level 1 internal mobility rate: 64.6 % cat(\"Improvement in clustering:\", round((overall_immobility_rate - level1_rate) * 100, 1), \"percentage points\\n\") #> Improvement in clustering: 16.7 percentage points"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"edge-analysis","dir":"Articles","previous_headings":"Analytical Functions","what":"Edge Analysis","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Examine edge weights between classes (Level 1) for 30-class system edges <- segment.edges(seg, level = 1) cat(\"Edge weights matrix dimensions:\", dim(edges), \"\\n\") #> Edge weights matrix dimensions: 30 30 cat(\"Number of significant edges (RR > 1):\", sum(!is.na(edges) & edges > 1), \"\\n\") #> Number of significant edges (RR > 1): 104  # Show subset of edge weights matrix (first 10x10) cat(\"\\nEdge weights matrix (first 10x10 subset):\\n\") #>  #> Edge weights matrix (first 10x10 subset): edges_subset <- edges[1:10, 1:10] print(round(edges_subset, 2)) #>          Class 01 Class 02 Class 03 Class 04 Class 05 Class 06 Class 07 #> Class 01     0.00     5.05     1.85     0.00     0.00     0.00     0.00 #> Class 02     1.87     0.00     3.83     3.53     0.00     0.00     0.00 #> Class 03     0.00     4.28     0.00     6.92     1.58     0.00     0.00 #> Class 04     0.00     2.11     2.51     0.00     3.73     1.68     0.00 #> Class 05     0.00     0.00     2.06     6.74     0.00     3.27     0.00 #> Class 06     0.00     0.00     0.00     2.10     3.88     0.00     1.34 #> Class 07     0.00     0.00     0.00     0.00     2.07     4.11     0.00 #> Class 08     0.00     0.00     0.00     0.00     0.00     1.79     1.48 #> Class 09     0.00     0.00     0.00     0.00     0.00     0.00     0.00 #> Class 10     0.00     0.00     0.00     0.00     0.00     0.00     0.00 #>          Class 08 Class 09 Class 10 #> Class 01     0.00     0.00     0.00 #> Class 02     0.00     0.00     0.00 #> Class 03     0.00     0.00     0.00 #> Class 04     0.00     0.00     0.00 #> Class 05     0.00     0.00     0.00 #> Class 06     1.25     0.00     0.00 #> Class 07     3.18     3.00     0.00 #> Class 08     0.00     5.23     2.96 #> Class 09     3.55     0.00     7.36 #> Class 10     2.44     6.76     0.00  # Focus on strongest connections strong_edges <- edges strong_edges[strong_edges < 2] <- NA strong_connections <- sum(!is.na(strong_edges)) cat(\"\\nNumber of strong connections (relative risk > 2):\", strong_connections, \"\\n\") #>  #> Number of strong connections (relative risk > 2): 66  # Show distribution of edge weights all_edges <- as.vector(edges) valid_edges <- all_edges[!is.na(all_edges) & all_edges > 1] cat(\"\\nEdge weight distribution (RR > 1):\\n\") #>  #> Edge weight distribution (RR > 1): cat(\"Min:\", round(min(valid_edges), 2), \"\\n\") #> Min: 1.02 cat(\"Median:\", round(median(valid_edges), 2), \"\\n\") #> Median: 2.42 cat(\"Mean:\", round(mean(valid_edges), 2), \"\\n\") #> Mean: 2.96 cat(\"Max:\", round(max(valid_edges), 2), \"\\n\") #> Max: 8.35 cat(\"95th percentile:\", round(quantile(valid_edges, 0.95), 2), \"\\n\") #> 95th percentile: 6.75  # Show strongest connections in the network if(length(valid_edges) > 0) {   threshold_95 <- quantile(valid_edges, 0.95)   strongest_indices <- which(edges > threshold_95, arr.ind = TRUE)   if(nrow(strongest_indices) > 0) {     cat(\"\\nStrongest connections (top 5% of edge weights):\\n\")     for(i in 1:min(10, nrow(strongest_indices))) {       row <- strongest_indices[i, 1]       col <- strongest_indices[i, 2]       weight <- edges[row, col]       cat(\"Class\", sprintf(\"%02d\", row), \"-> Class\", sprintf(\"%02d\", col),            \": RR =\", round(weight, 2), \"\\n\")     }   } } #>  #> Strongest connections (top 5% of edge weights): #> Class 03 -> Class 04 : RR = 6.92  #> Class 10 -> Class 09 : RR = 6.76  #> Class 09 -> Class 10 : RR = 7.36  #> Class 22 -> Class 23 : RR = 8.35  #> Class 24 -> Class 23 : RR = 8.29  #> Class 29 -> Class 30 : RR = 7.48"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"working-with-real-data","dir":"Articles","previous_headings":"","what":"Working with Real Data","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"working mobility data, ensure follows MONECA format:","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"data-format-requirements","dir":"Articles","previous_headings":"Working with Real Data","what":"Data Format Requirements","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Your data should be a matrix with: # - Rows: origin positions # - Columns: destination positions   # - Last row: column totals # - Last column: row totals # - Bottom-right cell: grand total  # Example of properly formatted data structure (showing 5x5 for clarity): example_structure <- matrix(c(   180, 25, 15, 8, 2, 230,    # Origin 1: mostly immobile with some movement   20, 190, 30, 12, 3, 255,   # Origin 2: similar pattern   12, 28, 175, 25, 10, 250,  # Origin 3: high diagonal mobility   6, 15, 20, 160, 19, 220,   # Origin 4: concentrated mobility   3, 8, 12, 22, 145, 190,    # Origin 5: strong immobility   221, 266, 252, 227, 179, 1145  # Column totals and grand total ), nrow = 6, ncol = 6)  rownames(example_structure) <- c(\"Class_A\", \"Class_B\", \"Class_C\", \"Class_D\", \"Class_E\", \"Total\") colnames(example_structure) <- c(\"Class_A\", \"Class_B\", \"Class_C\", \"Class_D\", \"Class_E\", \"Total\")  print(\"Properly formatted mobility matrix (5x5 example):\") #> [1] \"Properly formatted mobility matrix (5x5 example):\" print(example_structure) #>         Class_A Class_B Class_C Class_D Class_E Total #> Class_A     180      20      12       6       3   221 #> Class_B      25     190      28      15       8   266 #> Class_C      15      30     175      20      12   252 #> Class_D       8      12      25     160      22   227 #> Class_E       2       3      10      19     145   179 #> Total       230     255     250     220     190  1145  cat(\"\\nKey features of mobility matrix format:\\n\") #>  #> Key features of mobility matrix format: cat(\"- Matrix size: (n+1) x (n+1) where n is number of classes\\n\") #> - Matrix size: (n+1) x (n+1) where n is number of classes cat(\"- Diagonal: immobility (people staying in same class)\\n\") #> - Diagonal: immobility (people staying in same class) cat(\"- Off-diagonal: mobility between classes\\n\") #> - Off-diagonal: mobility between classes cat(\"- Row totals: total outflow from each origin class\\n\") #> - Row totals: total outflow from each origin class cat(\"- Column totals: total inflow to each destination class\\n\") #> - Column totals: total inflow to each destination class cat(\"- Grand total: total population in the mobility table\\n\") #> - Grand total: total population in the mobility table"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"data-validation","dir":"Articles","previous_headings":"Working with Real Data","what":"Data Validation","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"","code":"# Check if your data is properly formatted validate_mobility_matrix <- function(mat) {   n <- nrow(mat) - 1      # Check row totals   calculated_row_totals <- rowSums(mat[1:n, 1:n])   actual_row_totals <- mat[1:n, n + 1]      # Check column totals     calculated_col_totals <- colSums(mat[1:n, 1:n])   actual_col_totals <- mat[n + 1, 1:n]      # Check grand total   calculated_grand_total <- sum(mat[1:n, 1:n])   actual_grand_total <- mat[n + 1, n + 1]      # Additional validation checks for larger matrices   validation_results <- list(     matrix_size = paste(dim(mat), collapse = \" x \"),     n_classes = n,     row_totals_match = all.equal(calculated_row_totals, actual_row_totals),     col_totals_match = all.equal(calculated_col_totals, actual_col_totals),     grand_total_matches = all.equal(calculated_grand_total, actual_grand_total),     has_negative_values = any(mat < 0),     total_population = actual_grand_total,     sparsity = round(sum(mat[1:n, 1:n] == 0) / (n^2) * 100, 1)   )      return(validation_results) }  # Validate our 5x5 example cat(\"Validation of 5x5 example matrix:\\n\") #> Validation of 5x5 example matrix: validation_small <- validate_mobility_matrix(example_structure) print(validation_small) #> $matrix_size #> [1] \"6 x 6\" #>  #> $n_classes #> [1] 5 #>  #> $row_totals_match #> [1] TRUE #>  #> $col_totals_match #> [1] TRUE #>  #> $grand_total_matches #> [1] TRUE #>  #> $has_negative_values #> [1] FALSE #>  #> $total_population #> [1] 1145 #>  #> $sparsity #> [1] 0  # Validate our large 30x30 synthetic data cat(\"\\nValidation of 30x30 synthetic mobility matrix:\\n\") #>  #> Validation of 30x30 synthetic mobility matrix: validation_large <- validate_mobility_matrix(basic_data) print(validation_large) #> $matrix_size #> [1] \"31 x 31\" #>  #> $n_classes #> [1] 30 #>  #> $row_totals_match #> [1] TRUE #>  #> $col_totals_match #> [1] TRUE #>  #> $grand_total_matches #> [1] TRUE #>  #> $has_negative_values #> [1] FALSE #>  #> $total_population #> [1] 50000 #>  #> $sparsity #> [1] 7.9  # Show validation function usage for user data cat(\"\\nTo validate your own data:\\n\") #>  #> To validate your own data: cat(\"validation_results <- validate_mobility_matrix(your_matrix)\\n\") #> validation_results <- validate_mobility_matrix(your_matrix) cat(\"print(validation_results)\\n\") #> print(validation_results)"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"choosing-parameters","dir":"Articles","previous_headings":"Best Practices and Tips","what":"Choosing Parameters","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Number levels: Start 3-4 levels, adjust based data size Cut-values: Default (1.0) works well relative risk; adjust sensitivity Small cell reduction: Use handle sparse data large matrices","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"color-palette-selection","dir":"Articles","previous_headings":"Best Practices and Tips > Visualization Best Practices","what":"Color Palette Selection","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Choose palettes based data type accessibility needs:","code":"# For categorical data (segments) plot_moneca_ggraph(seg, color_palette = \"Set2\")    # Colorblind-safe qualitative plot_moneca_ggraph(seg, color_palette = \"Dark2\")   # High contrast qualitative  # For continuous data (mobility rates) plot_moneca_ggraph(seg, node_color = \"mobility\", color_palette = \"viridis\")  # Perceptually uniform plot_moneca_ggraph(seg, node_color = \"mobility\", color_palette = \"plasma\")   # Alternative continuous  # For comparing different systems plot_moneca_ggraph(rigid_seg, color_palette = \"Oranges\")   # Sequential for one system plot_moneca_ggraph(fluid_seg, color_palette = \"Purples\")   # Different sequential for comparison"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"layout-algorithm-selection","dir":"Articles","previous_headings":"Best Practices and Tips > Visualization Best Practices","what":"Layout Algorithm Selection","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Different layouts work better different network characteristics:","code":"# Force-directed layouts plot_moneca_ggraph(seg, layout = \"fr\")      # Fruchterman-Reingold (balanced) plot_moneca_ggraph(seg, layout = \"kk\")      # Kamada-Kawai (minimize edge crossings)  # Optimization-based layouts plot_moneca_ggraph(seg, layout = \"stress\")  # Stress majorization (clean, clear) plot_moneca_ggraph(seg, layout = \"mds\")     # Multidimensional scaling  # For consistent comparisons consistent_layout <- layout.matrix(seg)     # MONECA's specialized layout plot_moneca_ggraph(seg, layout = consistent_layout)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"node-and-edge-styling","dir":"Articles","previous_headings":"Best Practices and Tips > Visualization Best Practices","what":"Node and Edge Styling","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Optimize visual elements clarity accessibility:","code":"# High contrast for presentations plot_moneca_ggraph(seg,   node_alpha = 0.9,        # Strong nodes   edge_alpha = 0.4,        # Subtle edges   edge_color = \"grey20\",   # Dark edges   label_size = 4           # Large labels )  # Detailed analysis version plot_moneca_ggraph(seg,   node_size = \"mobility\",  # Size by analytical variable   edge_width = \"weight\",   # Width by connection strength   show_segments = TRUE,    # Show cluster boundaries   segment_alpha = 0.15     # Subtle boundaries )"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"interpretation-guidelines","dir":"Articles","previous_headings":"Best Practices and Tips","what":"Interpretation Guidelines","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Segments represent groups high internal mobility Hierarchical structure shows nested clustering different scales Edge weights indicate relative risk compared independence Layout algorithms can emphasize different network properties","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"fast-implementation-with-moneca_fast","dir":"Articles","previous_headings":"Advanced Features","what":"Fast Implementation with moneca_fast()","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"large datasets computational speed important, moneca provides fast implementation produces identical results standard algorithm: moneca_fast() function uses optimized algorithms maintaining full compatibility visualization analysis functions.","code":"# Standard implementation seg_standard <- moneca(basic_data, segment.levels = 3)  # Fast implementation (identical results) seg_fast <- moneca_fast(basic_data, segment.levels = 3)  # Both produce the same clustering identical(seg_standard$segment.list, seg_fast$segment.list)"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"auto-tuning-automatic-parameter-optimization","dir":"Articles","previous_headings":"Advanced Features","what":"Auto-Tuning: Automatic Parameter Optimization","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"package includes auto-tuning capabilities automatically optimize small.cell.reduction parameter: applications, default auto-tuning settings work well. Advanced users can explore different tuning methods auto_tune_small_cell_reduction() function.","code":"# Auto-tune using stability method (recommended) seg_tuned <- moneca(   basic_data,   segment.levels = 3,   auto_tune = TRUE )  # View the selected parameter auto_result <- attr(seg_tuned, \"auto_tune_result\") cat(\"Optimal parameter:\", auto_result$best_parameter, \"\\n\")"},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"performance-considerations","dir":"Articles","previous_headings":"Advanced Features","what":"Performance Considerations","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Large matrices (>50x50) may require increased computation time Use moneca_fast() improved performance large datasets Memory usage grows number levels matrix size Auto-tuning adds overhead: Consider using manual parameters speed critical","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"MONECA provides powerful framework analyzing social mobility network-based clustering. combination : Flexible clustering algorithms Modern visualization capabilities Hierarchical segmentation Quality assessment tools Makes suitable exploring mobility patterns diverse social contexts.","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"further-reading","dir":"Articles","previous_headings":"Conclusion","what":"Further Reading","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Original MONECA methodology papers Network analysis social mobility research Graph-theoretic approaches social structure","code":""},{"path":"https://gmontaletti.github.io/MONECA/articles/moneca-introduction.html","id":"getting-help","dir":"Articles","previous_headings":"Conclusion","what":"Getting Help","title":"Introduction to moneca: Mobility Network Clustering Analysis","text":"Use ?function_name detailed function documentation Check package website updates examples Report issues GitHub repository","code":"# Session information for reproducibility sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices datasets  utils     methods   base      #>  #> other attached packages: #> [1] moneca_1.0.0 #>  #> loaded via a namespace (and not attached): #>  [1] viridis_0.6.5      sass_0.4.10        generics_0.1.4     tidyr_1.3.1        #>  [5] renv_1.1.4         digest_0.6.39      magrittr_2.0.4     evaluate_1.0.5     #>  [9] grid_4.5.2         RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     #> [13] toOrdinal_1.3-0.0  ggrepel_0.9.6      brio_1.1.5         gridExtra_2.3      #> [17] purrr_1.2.0        viridisLite_0.4.2  scales_1.4.0       tweenr_2.0.3       #> [21] textshaping_1.0.4  jquerylib_0.1.4    cli_3.6.5          crayon_1.5.3       #> [25] rlang_1.1.6        graphlayouts_1.2.2 polyclip_1.10-7    tidygraph_1.3.1    #> [29] withr_3.0.2        cachem_1.1.0       yaml_2.3.10        tools_4.5.2        #> [33] memoise_2.0.1      dplyr_1.1.4        ggplot2_4.0.1      vctrs_0.6.5        #> [37] R6_2.6.1           lifecycle_1.0.4    fs_1.6.6           MASS_7.3-65        #> [41] ragg_1.5.0         ggraph_2.2.2       pkgconfig_2.0.3    desc_1.4.3         #> [45] pkgdown_2.2.0      pillar_1.11.1      bslib_0.9.0        gtable_0.3.6       #> [49] glue_1.8.0         Rcpp_1.1.0         ggforce_0.5.0      systemfonts_1.3.1  #> [53] xfun_0.54          tibble_3.3.0       tidyselect_1.2.1   knitr_1.50         #> [57] farver_2.1.2       htmltools_0.5.8.1  igraph_2.2.1       labeling_0.4.3     #> [61] rmarkdown_2.30     testthat_3.3.0     compiler_4.5.2     S7_0.2.1"},{"path":"https://gmontaletti.github.io/MONECA/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Giampaolo Montaletti. Author, maintainer. Jonas Touboel. Author.           Original algorithm methodology Anton Grau Larsen. Contributor.           Original package development","code":""},{"path":"https://gmontaletti.github.io/MONECA/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Montaletti G, Touboel J (2025). moneca: Mobility Network Clustering Analysis. R package version 1.0.0, https://gmontaletti.github.io/MONECA/.","code":"@Manual{,   title = {moneca: Mobility Network Clustering Analysis},   author = {Giampaolo Montaletti and Jonas Touboel},   year = {2025},   note = {R package version 1.0.0},   url = {https://gmontaletti.github.io/MONECA/}, }"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"moneca-mobility-network-clustering-analysis","dir":"","previous_headings":"","what":"Mobility Network Clustering Analysis","title":"Mobility Network Clustering Analysis","text":"Author: Giampaolo Montaletti ORCID: https://orcid.org/0009-0002-5327-1122 Email: giampaolo.montaletti@gmail.com GitHub: https://github.com/gmontaletti moneca (Mobility Network Clustering Analysis) comprehensive R package analyzing social mobility patterns graph-theoretic approaches. package represents complete rewrite modernization original MONECA package, featuring entirely new visualization systems, synthetic data generation capabilities, comprehensive testing, modern R programming practices.","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"package-history","dir":"","previous_headings":"","what":"Package History","title":"Mobility Network Clustering Analysis","text":"moneca (lowercase, 2024-present) current package developed maintained Giampaolo Montaletti. implements core clustering algorithm originally proposed Touboel & Larsen, package features: Entirely new codebase visualization using ggraph tidygraph Original synthetic data generation system reproducible research Comprehensive test suite written scratch Modern documentation vignettes authored Giampaolo Montaletti Complete package infrastructure redesign modernization New analysis functions including enhanced membership analysis quality metrics Original MONECA (uppercase, 2017) Jonas Touboel Anton Grau Larsen provided: - core clustering algorithm mathematical methodology - Basic implementation segmentation approach - Original research theoretical foundation (Touboel & Larsen, 2017)","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"author-and-maintainer","dir":"","previous_headings":"","what":"Author and Maintainer","title":"Mobility Network Clustering Analysis","text":"Giampaolo Montaletti - Package author, developer, maintainer - Complete package modernization rewrite (2024) - Development modern visualization system - Creation synthetic data generation framework - Implementation comprehensive testing suite - Authorship current documentation vignettes","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Mobility Network Clustering Analysis","text":"Network-based clustering mobility tables using graph theory Hierarchical segmentation multiple analytical levels Fast implementation moneca_fast() large datasets Auto-tuning capabilities automatic parameter optimization Modern visualization ggplot2 ggraph Synthetic data generation testing demonstrations Comprehensive testing suite documentation igraph compatibility layer supporting versions 1.3.0+","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Mobility Network Clustering Analysis","text":"","code":"# Install development version from GitHub install.packages(\"devtools\") library(devtools) install_github(\"gmontaletti/moneca\")  # Install dependencies install.packages(c(\"ggplot2\", \"ggraph\", \"igraph\", \"dplyr\", \"tidygraph\",                     \"RColorBrewer\", \"scales\", \"toOrdinal\"))"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Mobility Network Clustering Analysis","text":"","code":"library(moneca)  # Generate synthetic mobility data mobility_data <- generate_mobility_data(   n_classes = 6,   n_total = 5000,   immobility_strength = 0.7,   class_clustering = 0.3,   seed = 123 )  # Run MONECA analysis seg <- moneca(mobility_data, segment.levels = 3) print(seg)  # Modern network visualization plot_moneca_ggraph(seg,                   node_color = \"segment\",                   title = \"Social Mobility Network\")  # Ego network analysis plot_ego_ggraph(seg, mobility_data, ego_id = 3)  # Analyze segment membership membership <- segment.membership(seg) print(membership)"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"core-functions","dir":"","previous_headings":"","what":"Core Functions","title":"Mobility Network Clustering Analysis","text":"streamlined moneca API includes 21 key functions organized functional groups:","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"core-analysis-functions","dir":"","previous_headings":"Core Functions","what":"Core Analysis Functions","title":"Mobility Network Clustering Analysis","text":"moneca() - Main clustering algorithm hierarchical segmentation moneca_fast() - Fast implementation large datasets (identical results) weight.matrix() - Convert mobility tables relative risk matrices","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"data-generation","dir":"","previous_headings":"Core Functions","what":"Data Generation","title":"Mobility Network Clustering Analysis","text":"generate_mobility_data() - Create synthetic mobility matrices testing","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"modern-visualization-ggraph-based","dir":"","previous_headings":"Core Functions","what":"Modern Visualization (ggraph-based)","title":"Mobility Network Clustering Analysis","text":"plot_moneca_ggraph() - Network visualization segment highlighting plot_ego_ggraph() - Ego network analysis visualization plot_stair_ggraph() - Multi-level hierarchical segmentation plots plot_moneca_dendrogram() - Dendrogram visualization hierarchical structure plot_segment_quality() - Quality assessment visualization","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"analysis-tools","dir":"","previous_headings":"Core Functions","what":"Analysis Tools","title":"Mobility Network Clustering Analysis","text":"segment.membership() - Extract segment membership level segment.membership.dataframe() - Membership data frame segment.quality() - Assess segmentation quality metrics segment.edges() - Extract edge weights segments segment.colors() - Get color assignments segments vertex.mobility() - Calculate vertex-level mobility metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"auto-tuning","dir":"","previous_headings":"Core Functions","what":"Auto-Tuning","title":"Mobility Network Clustering Analysis","text":"auto_tune_small_cell_reduction() - Automatic parameter optimization","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"legacy-visualization-backward-compatibility","dir":"","previous_headings":"Core Functions","what":"Legacy Visualization (backward compatibility)","title":"Mobility Network Clustering Analysis","text":"moneca.plot() - Base R network plotting gg.moneca() - Original ggplot2 visualization ego.plot() - Legacy ego network plot stair.plot() - Legacy stair plot layout.matrix() - Custom layout algorithm network positioning","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"fast-implementation","dir":"","previous_headings":"Advanced Usage","what":"Fast Implementation","title":"Mobility Network Clustering Analysis","text":"large datasets, use optimized implementation:","code":"# Fast implementation (identical results to standard moneca) seg_fast <- moneca_fast(mobility_data, segment.levels = 3)  # Works with all visualization and analysis functions plot_moneca_ggraph(seg_fast, node_color = \"segment\")"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"auto-tuning-1","dir":"","previous_headings":"Advanced Usage","what":"Auto-Tuning","title":"Mobility Network Clustering Analysis","text":"Automatically optimize small.cell.reduction parameter:","code":"# Use auto-tuning for parameter optimization seg_tuned <- moneca(mobility_data, segment.levels = 3, auto_tune = TRUE)  # Advanced: use auto_tune_small_cell_reduction() for more control tuning_result <- auto_tune_small_cell_reduction(mobility_data, segment.levels = 3) seg <- moneca(mobility_data,               segment.levels = 3,               small.cell.reduction = tuning_result$best_parameter)"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"enhanced-segment-naming","dir":"","previous_headings":"Advanced Usage","what":"Enhanced Segment Naming","title":"Mobility Network Clustering Analysis","text":"Improve visualization interpretability custom labels:","code":"# Create custom meaningful labels custom_labels <- data.frame(   name = c(\"Class 1\", \"Class 2\", \"Class 3\"),   segment_label = c(\"Executive\", \"Professional\", \"Technical\"),   stringsAsFactors = FALSE )  # Use in plotting functions plot_moneca_ggraph(seg,                   segment_naming = custom_labels,                   title = \"Occupational Mobility Network\")"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Mobility Network Clustering Analysis","text":"Vignette: See vignette(\"moneca-introduction\") comprehensive examples Function help: Use ?function_name detailed documentation Package overview: ?moneca general information","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"development-and-testing","dir":"","previous_headings":"","what":"Development and Testing","title":"Mobility Network Clustering Analysis","text":"package includes comprehensive test suite modern development practices:","code":"# Run tests devtools::test()  # Check package devtools::check()  # Build vignettes devtools::build_vignettes()"},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"methodology","dir":"","previous_headings":"","what":"Methodology","title":"Mobility Network Clustering Analysis","text":"MONECA implements sophisticated algorithm detecting mobility patterns: Mobility Matrix Processing: Converts raw mobility data relative risk matrices Network Construction: Creates weighted networks edges represent mobility flows Clique Detection: Identifies groups high internal connectivity using igraph Hierarchical Clustering: Iteratively aggregates positions nested segments Quality Assessment: Provides metrics evaluating segmentation quality","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Mobility Network Clustering Analysis","text":"use moneca research, please cite:","code":"# Current package: Montaletti, G. (2025). moneca: Mobility Network Clustering Analysis. R package version 1.0.0. https://github.com/gmontaletti/moneca  # Original algorithm and methodology: Touboel, J., & Larsen, A. G. (2017). Mapping the Social Class Structure: From Occupational Mobility to Social Class Categories Using Network Analysis. Sociology, 51(6), 1257-1276."},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Mobility Network Clustering Analysis","text":"GPL-3","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"credits","dir":"","previous_headings":"","what":"Credits","title":"Mobility Network Clustering Analysis","text":"Current Package (moneca): - Giampaolo Montaletti - Package author, developer, maintainer - Complete package rewrite modernization - current documentation vignettes - Modern visualization system (ggraph/tidygraph) - Synthetic data generation framework - Comprehensive testing suite Original Algorithm (MONECA): - Jonas Touboel - Original clustering algorithm mathematical methodology - Anton Grau Larsen - Original MONECA package implementation","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Mobility Network Clustering Analysis","text":"welcome contributions! Please see contributing guidelines : Fork repository Create feature branch Make changes tests Submit pull request","code":""},{"path":"https://gmontaletti.github.io/MONECA/index.html","id":"issues","dir":"","previous_headings":"","what":"Issues","title":"Mobility Network Clustering Analysis","text":"Report bugs feature requests : https://github.com/gmontaletti/moneca/issues","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"executive-summary","dir":"","previous_headings":"","what":"Executive Summary","title":"MONECA Package Performance Analysis Report","text":"report provides detailed technical analysis performance-critical code moneca package, identifying optimization opportunities core segmentation algorithms. analysis focuses two main implementations: find.segments() R/analytical_functions.R (original implementation) find.segments.fast() R/moneca_fast.R (optimized implementation)","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_11-findsegments---original-implementation","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis","what":"1.1 find.segments() - Original Implementation","title":"MONECA Package Performance Analysis Report","text":"Location: R/analytical_functions.R, lines 39-155 Current Complexity: - Overall: O(E × C × N) : - E = number edges cutoff - C = number cliques - N = number nodes - Worst case: O(E × C²) dense graphs Critical Performance Issues:","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"issue-1-nested-loop-in-clique-testing-lines-69-74","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis > 1.1 find.segments() - Original Implementation","what":"Issue 1: Nested Loop in Clique Testing (Lines 69-74)","title":"MONECA Package Performance Analysis Report","text":"Complexity: O(C × K) per call, K = clique size Called: per edge processed (E times) Total impact: O(E × C × K) Problem: Sequential clique iteration repeated subset operations","code":"for (cl in cliques) {   if (all(potential.clique %in% cl)) {     return(TRUE)   } }"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"issue-2-edge-processing-main-loop-lines-94-136","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis > 1.1 find.segments() - Original Implementation","what":"Issue 2: Edge Processing Main Loop (Lines 94-136)","title":"MONECA Package Performance Analysis Report","text":"Complexity: O(E × N²) (max.mat==max(...)) scans entire matrix iteration: O(N²) (group %% group.candidates) scans group vector: O(N) Sequential edge processing prevents vectorization Matrix modified -place requiring repeated scans","code":"for (i in 1:loop.length){   # Find maximum value   max.ind <- which(max.mat==max(max.mat, na.rm=TRUE), arr.ind=TRUE)[1,]   max.mat[max.ind[1], max.ind[2]] <- NA    # Group assignment logic   group.candidates <- group[max.ind]   group.members <- which(group %in% group.candidates)   potential.clique <- unique(sort(c(group.members, candidate)))   test <- clique.test(potential.clique) }"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"issue-3-final-group-reorganization-lines-146-150","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis > 1.1 find.segments() - Original Implementation","what":"Issue 3: Final Group Reorganization (Lines 146-150)","title":"MONECA Package Performance Analysis Report","text":"Complexity: O(L × N) L = number levels Problem: replaced split() vectorized operation","code":"l <- levels(g) ud.list <- list() for (i in 1:length(l)) ud.list[[i]] <- which(g == l[i])"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_12-findsegmentsfast---optimized-implementation","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis","what":"1.2 find.segments.fast() - Optimized Implementation","title":"MONECA Package Performance Analysis Report","text":"Location: R/moneca_fast.R, lines 115-258 Improvements Made: 1. Pre-computed clique membership matrix (lines 193-197) 2. Vectorized edge extraction sorting (lines 174-187) 3. Fast clique testing using matrix operations (line 225) Remaining Bottlenecks:","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"bottleneck-1-clique-membership-matrix-construction-lines-194-197","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis > 1.2 find.segments.fast() - Optimized Implementation","what":"Bottleneck 1: Clique Membership Matrix Construction (Lines 194-197)","title":"MONECA Package Performance Analysis Report","text":"Complexity: O(C × K) C = cliques, K = avg clique size Memory: O(C × N) - can prohibitive dense graphs Optimization potential: HIGH","code":"clique_membership <- matrix(FALSE, nrow = length(cliques), ncol = nrow(mat)) for (i in seq_along(cliques)) {   clique_membership[i, cliques[[i]]] <- TRUE }"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"bottleneck-2-edge-processing-loop-still-sequential-lines-206-233","dir":"","previous_headings":"1. Core Algorithm Complexity Analysis > 1.2 find.segments.fast() - Optimized Implementation","what":"Bottleneck 2: Edge Processing Loop Still Sequential (Lines 206-233)","title":"MONECA Package Performance Analysis Report","text":"Complexity: O(E × C) clique test per edge Problem: Still processes edges one--one Optimization potential: MEDIUM","code":"for (i in seq_len(nrow(edges))) {   # ... group assignment logic ...   is_clique <- any(apply(clique_membership[, potential_clique, drop = FALSE], 1, all)) }"},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_22-opportunities-for-datatable","dir":"","previous_headings":"2. Data Structure Analysis","what":"2.2 Opportunities for data.table","title":"MONECA Package Performance Analysis Report","text":"High Priority Conversions: Fast grouping operations Reference semantics -place updates Efficient sorted merges Reduce memory sparse clique structures Faster subset operations","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_31-critical-vectorize-clique-membership-construction","dir":"","previous_headings":"3. Specific Optimization Recommendations","what":"3.1 CRITICAL: Vectorize Clique Membership Construction","title":"MONECA Package Performance Analysis Report","text":"Current Code (moneca_fast.R, lines 194-197): Optimization Strategy: Use sparse matrix representation vectorized construction: Expected Improvement: 2-5x faster large clique sets, 50-80% memory reduction","code":"clique_membership <- matrix(FALSE, nrow = length(cliques), ncol = nrow(mat)) for (i in seq_along(cliques)) {   clique_membership[i, cliques[[i]]] <- TRUE } # Option 1: Sparse matrix (recommended for large graphs) if (requireNamespace(\"Matrix\", quietly = TRUE)) {   clique_indices <- lapply(seq_along(cliques), function(i) {     cbind(i, cliques[[i]])   })   clique_indices <- do.call(rbind, clique_indices)   clique_membership <- Matrix::sparseMatrix(     i = clique_indices[, 1],     j = clique_indices[, 2],     x = TRUE,     dims = c(length(cliques), nrow(mat))   ) } else {   # Option 2: Vectorized matrix construction   clique_membership <- matrix(FALSE, nrow = length(cliques), ncol = nrow(mat))   indices <- unlist(lapply(seq_along(cliques), function(i) {     cbind(i, cliques[[i]])   }), recursive = FALSE)   clique_membership[indices] <- TRUE }"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_32-high-priority-convert-edge-processing-to-datatable","dir":"","previous_headings":"3. Specific Optimization Recommendations","what":"3.2 HIGH PRIORITY: Convert Edge Processing to data.table","title":"MONECA Package Performance Analysis Report","text":"Current Code (moneca_fast.R, lines 206-233): Optimization Strategy: Use data.table batch operations: Expected Improvement: 3-10x faster large edge sets","code":"for (i in seq_len(nrow(edges))) {   edge <- edges[i, ]   current_groups <- group[edge]   # ... assignment logic ... } library(data.table)  # Convert edges to data.table edge_dt <- data.table(   from = edges[, 1],   to = edges[, 2],   weight = edge_weights[edge_order],   edge_id = seq_len(nrow(edges)) )  # Add group information edge_dt[, from_group := group[from]] edge_dt[, to_group := group[to]]  # Process in batches by group status edge_dt[, both_unassigned := from_group == 0 & to_group == 0] edge_dt[, at_least_one_assigned := from_group != 0 | to_group != 0]  # Vectorized processing for simple cases # (detailed implementation would be more complex)"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_33-medium-priority-optimize-maximum-finding-in-original-findsegments","dir":"","previous_headings":"3. Specific Optimization Recommendations","what":"3.3 MEDIUM PRIORITY: Optimize Maximum Finding in Original find.segments()","title":"MONECA Package Performance Analysis Report","text":"Current Code (analytical_functions.R, lines 110-111): Optimization Strategy: Pre-sort edges instead repeated maximum finding: Expected Improvement: 10-50x faster large matrices (eliminates O(N²) per iteration)","code":"max.ind <- which(max.mat==max(max.mat, na.rm=TRUE), arr.ind=TRUE)[1,] max.mat[max.ind[1], max.ind[2]] <- NA # Before loop: extract and sort all edges once valid_edges <- which(!is.na(mat) & mat > cut.off, arr.ind = TRUE) edge_weights <- mat[valid_edges] edge_order <- order(edge_weights, decreasing = TRUE) sorted_edges <- valid_edges[edge_order, , drop = FALSE]  # Then iterate over sorted edges for (i in seq_len(nrow(sorted_edges))) {   edge <- sorted_edges[i, ]   # ... process edge ... }"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_34-low-priority-vectorize-group-list-creation","dir":"","previous_headings":"3. Specific Optimization Recommendations","what":"3.4 LOW PRIORITY: Vectorize Group List Creation","title":"MONECA Package Performance Analysis Report","text":"Current Code (analytical_functions.R, lines 146-150): Optimization Strategy: Expected Improvement: 2-3x faster, cleaner code","code":"l <- levels(g) ud.list <- list() for (i in 1:length(l)) ud.list[[i]] <- which(g == l[i]) ud.list <- unname(split(seq_along(g), g))"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_41-current-memory-issues","dir":"","previous_headings":"4. Memory Allocation Patterns","what":"4.1 Current Memory Issues","title":"MONECA Package Performance Analysis Report","text":"group vector: GOOD (pre-allocated, line 60) clique_membership matrix: POOR (large allocation dense graphs) Lines 571-588 (analytical_functions.R) already optimized Uses -place operations possible Lines 333-366 (analytical_functions.R) builds lists incrementally benefit pre-allocation max size known","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_42-memory-optimization-recommendations","dir":"","previous_headings":"4. Memory Allocation Patterns","what":"4.2 Memory Optimization Recommendations","title":"MONECA Package Performance Analysis Report","text":"Recommendation 1: Implement Memory-Aware Clique Processing Recommendation 2: Stream Processing Large Graphs graphs >10,000 nodes, implement chunked processing: - Process edges batches - Use disk-backed storage intermediate results - Consider ff bigmemory packages","code":"# Detect if clique membership matrix would be too large clique_memory_mb <- (length(cliques) * nrow(mat)) / 8 / 1024 / 1024 if (clique_memory_mb > 100) {   # Use alternative algorithm (iterate cliques instead of pre-compute)   warning(\"Large clique set detected, using memory-efficient mode\")   use_sparse <- TRUE }"},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_51-practical-performance-estimates","dir":"","previous_headings":"5. Algorithm Complexity Comparison","what":"5.1 Practical Performance Estimates","title":"MONECA Package Performance Analysis Report","text":"typical social mobility matrices: - N = 50-200 nodes (occupational categories) - E = 500-2000 edges (significant ties) - C = 100-1000 cliques - K̄ = 3-5 average clique size Current Performance: - Original: 10-60 seconds N=100 - Fast: 2-15 seconds N=100 Projected Performance (proposed optimizations): - Optimized: 0.5-3 seconds N=100 - Improvement: 5-20x faster original, 2-5x faster current fast version","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"phase-1-critical-optimizations-highest-impact","dir":"","previous_headings":"6. Implementation Priorities","what":"Phase 1: Critical Optimizations (Highest Impact)","title":"MONECA Package Performance Analysis Report","text":"Impact: 10-50x faster Effort: Low (2-3 hours) Risk: Low (maintains algorithmic correctness) Impact: 50-80% memory reduction, 2-5x faster Effort: Medium (4-6 hours) Risk: Medium (requires Matrix package dependency)","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"phase-2-major-refactoring-high-impact","dir":"","previous_headings":"6. Implementation Priorities","what":"Phase 2: Major Refactoring (High Impact)","title":"MONECA Package Performance Analysis Report","text":"Impact: 3-10x faster Effort: High (1-2 days) Risk: High (requires significant testing) Impact: 2-4x faster dense graphs Effort: High (1-2 days) Risk: Medium (algorithmic changes)","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"phase-3-polish-lower-impact","dir":"","previous_headings":"6. Implementation Priorities","what":"Phase 3: Polish (Lower Impact)","title":"MONECA Package Performance Analysis Report","text":"Impact: 2-3x faster (small overall impact) Effort: Low (15 minutes) Risk: None Impact: Prevents crashes large graphs Effort: Medium (4-6 hours) Risk: Low","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"high-priority-lines","dir":"","previous_headings":"7. Specific Code Locations for Optimization","what":"High Priority Lines:","title":"MONECA Package Performance Analysis Report","text":"R/analytical_functions.R: - Lines 69-74: Clique testing loop (CRITICAL) - Lines 94-136: Edge processing loop (CRITICAL) - Lines 110-111: Maximum finding (HIGH) - Lines 146-150: Group list creation (LOW) R/moneca_fast.R: - Lines 194-197: Clique membership construction (CRITICAL) - Lines 206-233: Edge processing loop (HIGH) - Line 225: Clique testing apply (MEDIUM) R/analytical_functions.R (weight.matrix): - Lines 570-588: Already well-optimized (MAINTAIN)","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_8-testing-requirements","dir":"","previous_headings":"","what":"8. Testing Requirements","title":"MONECA Package Performance Analysis Report","text":"optimization: 1. Correctness testing: Ensure identical results original 2. Performance benchmarking: Use microbenchmark package 3. Memory profiling: Use profmem bench packages 4. Edge case testing: - Empty graphs - Complete graphs - Single-node graphs - sparse graphs - dense graphs","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_9-recommended-next-steps","dir":"","previous_headings":"","what":"9. Recommended Next Steps","title":"MONECA Package Performance Analysis Report","text":"Implement pre-sorted edge processing (Section 3.3) Add benchmarking suite Profile current code realistic datasets Implement sparse clique membership (Section 3.1) Add memory monitoring Create performance comparison vignette Evaluate data.table conversion (Section 3.2) Implement benefits justify complexity Create adaptive algorithm selection Investigate parallel processing options Consider Rcpp critical loops Implement streaming algorithms large graphs","code":""},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_10-benchmarking-framework","dir":"","previous_headings":"","what":"10. Benchmarking Framework","title":"MONECA Package Performance Analysis Report","text":"Recommended benchmark code structure:","code":"library(microbenchmark) library(moneca)  # Generate test datasets of varying sizes test_sizes <- c(10, 20, 50, 100, 200) test_data <- lapply(test_sizes, function(n) {   generate_mobility_data(n_classes = n, seed = 123) })  # Benchmark each implementation results <- lapply(test_data, function(mx) {   microbenchmark(     original = moneca(mx, segment.levels = 3),     fast = moneca_fast(mx, segment.levels = 3),     times = 10   ) })  # Profile memory usage library(profmem) mem_profile <- profmem({   moneca_fast(test_data[[3]], segment.levels = 3) })"},{"path":"https://gmontaletti.github.io/MONECA/performance_analysis_report.html","id":"id_11-conclusion","dir":"","previous_headings":"","what":"11. Conclusion","title":"MONECA Package Performance Analysis Report","text":"moneca package significant optimization opportunities, particularly core segmentation algorithm. impactful improvements come : Pre-sorting edges (eliminates repeated O(N²) matrix scans) Sparse clique representation (reduces memory computation) data.table conversion (vectorizes group operations) optimizations deliver 5-20x performance improvement maintaining algorithmic correctness. phased implementation approach allows incremental improvements controlled risk. current moneca_fast implementation already shows good optimization practices (vectorized edge extraction, pre-computed membership), still room substantial improvement edge processing loop memory usage. Report Generated: 2025-11-25 Analysis Version: 1.0 Package Version Analyzed: moneca 0.9.2","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/MONECA-package.html","id":null,"dir":"Reference","previous_headings":"","what":"moneca: Mobility Network Clustering Analysis — moneca-package","title":"moneca: Mobility Network Clustering Analysis — moneca-package","text":"moneca creates weighted networks mobility tables uses cliques identify discrete nested clusters social positions high internal mobility. package provides comprehensive tools analyzing social mobility patterns graph-theoretic approaches modern visualization capabilities.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/MONECA-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"moneca: Mobility Network Clustering Analysis — moneca-package","text":"moneca package implements sophisticated hierarchical clustering algorithm detects mobility patterns social networks. identifies segments high internal mobility finding cliques weighted network representations mobility data, creating nested hierarchical structures reveal underlying organization social mobility. Key Features: Network-based clustering using relative risk matrices Hierarchical segmentation multiple nested levels Modern visualization ggraph ggplot2 Synthetic data generation testing demonstrations Quality metrics assessing segmentation performance Multiple visualization types (network, ego, stair plots) Flexible input formats automatic data validation Core Functions: moneca: Main clustering algorithm find.segments: Core segmentation identification weight.matrix: Relative risk matrix calculation segment.membership: Extract cluster memberships Modern Visualization (Recommended): plot_moneca_ggraph: Network visualization ggraph plot_ego_ggraph: Ego network analysis plot_stair_ggraph: Multi-level segmentation plots Legacy Visualization (Backward Compatibility): gg.moneca: Original ggplot2-based visualization moneca.plot: Base R network plotting ego.plot: Legacy ego network plots stair.plot: Legacy stair plots Data Generation: generate_mobility_data: Create synthetic mobility tables","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/MONECA-package.html","id":"package-dependencies","dir":"Reference","previous_headings":"","what":"Package Dependencies","title":"moneca: Mobility Network Clustering Analysis — moneca-package","text":"Required packages: igraph (>= 1.3.0): Network analysis compatibility layer ggplot2 (>= 3.4.0): Graphics plotting RColorBrewer: Color palettes visualizations scales: Scale transformations formatting Modern visualization packages: ggraph (>= 2.0.0): Advanced network visualization tidygraph (>= 1.2.0): Tidy graph manipulation dplyr (>= 1.0.0): Data manipulation Additional packages: grid: Low-level graphics toOrdinal: Ordinal number formatting","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/MONECA-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"moneca: Mobility Network Clustering Analysis — moneca-package","text":"Maintainer: Giampaolo Montaletti giampaolo.montaletti@gmail.com (ORCID) Authors: Jonas Touboel jt@soc.ku.dk (Original algorithm methodology) contributors: Anton Grau Larsen agl.ioa@cbs.dk (Original package development) [contributor]","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/apply_enhanced_pattern_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Enhanced Pattern Rules for Segment Naming — apply_enhanced_pattern_rules","title":"Apply Enhanced Pattern Rules for Segment Naming — apply_enhanced_pattern_rules","text":"Advanced pattern recognition system uses weighted scoring, semantic analysis, intelligent fallbacks generate meaningful segment names.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/apply_enhanced_pattern_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Enhanced Pattern Rules for Segment Naming — apply_enhanced_pattern_rules","text":"","code":"apply_enhanced_pattern_rules(node_names, pattern_rules, membership_id)"},{"path":"https://gmontaletti.github.io/MONECA/reference/apply_enhanced_pattern_rules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Enhanced Pattern Rules for Segment Naming — apply_enhanced_pattern_rules","text":"node_names Character vector node names segment pattern_rules Enhanced pattern rules create_enhanced_pattern_rules() membership_id Character string membership ID fallback naming","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/apply_enhanced_pattern_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Enhanced Pattern Rules for Segment Naming — apply_enhanced_pattern_rules","text":"Character string intelligently generated name, NULL pattern found","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"Evaluates stability MONECA clustering results given small.cell.reduction parameter using bootstrap resampling. stable parameters produce consistent clustering across data subsamples.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"","code":"assess_clustering_stability(   mx,   small.cell.reduction,   cut.off = 1,   n_bootstrap = 50,   sample_fraction = 0.8,   segment.levels = 3 )"},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"mx Mobility matrix analysis. small.cell.reduction Small cell reduction parameter test. cut.Edge weight threshold network construction. Default 1. n_bootstrap Number bootstrap samples generate. Default 50. sample_fraction Fraction data use bootstrap sample. Default 0.8. segment.levels Number hierarchical levels clustering. Default 3.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"Numeric stability score 0 1, higher values   indicate stable clustering results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"function performs bootstrap resampling : 1. Creating multiple subsamples mobility matrix 2. Running MONECA clustering subsample 3. Extracting clustering signatures (segment memberships) 4. Computing stability metrics based clustering consistency stability score combines multiple measures including: - Consistency segment assignments across bootstrap samples - Stability hierarchical structure - Robustness clique detection","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assess Clustering Stability Using Bootstrap Resampling — assess_clustering_stability","text":"","code":"if (FALSE) { # \\dontrun{ # Generate sample data mobility_data <- generate_mobility_data(n_classes = 6, seed = 123)  # Assess stability for different parameters (uses default n_bootstrap = 50) stability_0 <- assess_clustering_stability(mobility_data,                                           small.cell.reduction = 0) stability_5 <- assess_clustering_stability(mobility_data,                                           small.cell.reduction = 5)  cat(\"Stability with parameter 0:\", stability_0, \"\\n\") cat(\"Stability with parameter 5:\", stability_5, \"\\n\")  # For more thorough assessment, increase n_bootstrap stability_thorough <- assess_clustering_stability(mobility_data,                                                   small.cell.reduction = 2,                                                   n_bootstrap = 100) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":null,"dir":"Reference","previous_headings":"","what":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"Parallel version assess_clustering_stability processes bootstrap samples concurrently significant performance improvements. Uses foreach/doParallel cross-platform compatibility.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"","code":"assess_clustering_stability_parallel(   mx,   small.cell.reduction,   cut.off = 1,   n_bootstrap = 50,   sample_fraction = 0.8,   segment.levels = 3,   n_cores = NULL,   parallel = TRUE,   seed = NULL,   verbose = FALSE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"mx Mobility matrix analysis. small.cell.reduction Small cell reduction parameter test. cut.Edge weight threshold network construction. Default 1. n_bootstrap Number bootstrap samples generate. Default 50. sample_fraction Fraction data use bootstrap sample. Default 0.8. segment.levels Number hierarchical levels clustering. Default 3. n_cores Number CPU cores use. NULL (default) uses available cores - 1. parallel Logical indicating whether use parallel processing. Default TRUE. seed Random seed reproducibility. Default NULL. verbose Logical indicating whether show progress messages. Default FALSE.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"Numeric stability score 0 1, higher values   indicate stable clustering results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"function parallelizes bootstrap sampling process: - Distributes bootstrap samples across available cores - core independently runs moneca_fast assigned samples - Results combined compute overall stability - Falls back sequential processing parallel packages unavailable Performance improvements: - 4 cores: ~3.5x faster sequential - 8 cores: ~6-7x faster sequential - Scales linearly number cores n_bootstrap","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/assess_clustering_stability_parallel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parallel Assessment of Clustering Stability Using Bootstrap Resampling — assess_clustering_stability_parallel","text":"","code":"if (FALSE) { # \\dontrun{ # Generate sample data mobility_data <- generate_mobility_data(n_classes = 6, seed = 123)  # Parallel stability assessment (auto-detect cores, default n_bootstrap = 50) stability_parallel <- assess_clustering_stability_parallel(   mobility_data,   small.cell.reduction = 5,   parallel = TRUE )  # Sequential for comparison stability_seq <- assess_clustering_stability_parallel(   mobility_data,   small.cell.reduction = 5,   parallel = FALSE )  # For more thorough assessment, increase n_bootstrap stability_thorough <- assess_clustering_stability_parallel(   mobility_data,   small.cell.reduction = 5,   n_bootstrap = 100,   parallel = TRUE ) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"Automatically selects optimal small.cell.reduction parameter MONECA clustering using advanced optimization methods including Pareto frontier analysis, cross-validation, Bayesian optimization, performance-aware tuning. enhanced version provides significant speed improvements maintaining improving tuning quality.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"","code":"auto_tune_small_cell_reduction(   mx,   cut.off = 1,   method = \"quality\",   n_trials = 5,   candidate_values = NULL,   performance_weight = 0.3,   min_density = 0.01,   max_candidates = 20,   seed = NULL,   verbose = FALSE,   use_cache = TRUE,   parallel = \"auto\",   early_stopping = TRUE,   pareto_objectives = c(\"quality\", \"performance\"),   cv_folds = 5,   bayesian_iterations = 20 )"},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"mx Mobility matrix analyze. Must square numeric matrix representing mobility flows categories. cut.Numeric threshold edge weights network construction. Default 1. method Character string specifying tuning strategy. Options : \"quality\" (default, RECOMMENDED): Fast clustering quality optimization (10x faster stability) \"stability\": Bootstrap-based stability assessment (thorough slower) \"performance\": Balance quality computational efficiency \"pareto\": Multi-objective optimization Pareto frontier analysis \"cross_validation\": Cross-validation based parameter selection \"bayesian\": Bayesian optimization (requires GPfit package) n_trials Integer number trials stability assessment CV folds. Default 5. Increase 10-20 thorough assessment cost speed. candidate_values Numeric vector candidate values test. NULL, values generated automatically using data-driven methods. performance_weight Numeric weight (0-1) performance vs quality trade-. Higher values prioritize speed quality. Default 0.3. min_density Minimum acceptable network density threshold. Default 0.01. max_candidates Maximum number candidate values evaluate computational efficiency. Default 20. seed Integer seed reproducible results bootstrap sampling. Default NULL. verbose Logical indicating whether show progress messages. Default FALSE. use_cache Logical indicating whether use caching repeated computations. Default TRUE. parallel Character logical indicating parallel processing preference. Can \"auto\" (default, intelligent switching), TRUE/FALSE (force parallel/sequential), \"parallel\"/\"sequential\" explicit control. early_stopping Logical indicating whether use early stopping candidate screening. Default TRUE. pareto_objectives Character vector objectives Pareto optimization. Default c(\"quality\", \"performance\"). cv_folds Integer number cross-validation folds. Default 5. bayesian_iterations Integer number Bayesian optimization iterations. Default 20.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"list containing: optimal_value Recommended small.cell.reduction parameter value stability_scores Stability assessment results candidate quality_metrics Clustering quality metrics candidate performance_metrics Computational performance metrics candidates_tested Vector candidate values evaluated tuning_method Method used parameter selection selection_rationale Text explanation parameter selection network_properties Network density connectivity metrics computation_time Total time spent parameter tuning","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"function implements three tuning strategies: Stability Method: Uses bootstrap resampling assess clustering consistency across data subsamples. Parameters produce stable clustering structures preferred. Quality Method: Optimizes clustering quality using multiple metrics including silhouette coefficients, network modularity, information-theoretic measures. Performance Method: Balances clustering quality computational efficiency, considering analysis time memory requirements. Candidate values automatically generated using percentile-based thresholds, matrix sparsity analysis, network density targets unless explicitly provided.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tune_small_cell_reduction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enhanced Automatic Small Cell Reduction Parameter Tuning with Multi-Objective Optimization — auto_tune_small_cell_reduction","text":"","code":"if (FALSE) { # \\dontrun{ # Generate sample mobility data mobility_data <- generate_mobility_data(n_classes = 6, seed = 123)  # Quality-based tuning (default, fast and recommended) tuning_result <- auto_tune_small_cell_reduction(   mx = mobility_data,   verbose = TRUE )  # Use optimal parameter in moneca analysis segments <- moneca(mobility_data,                   small.cell.reduction = tuning_result$optimal_value)  # Stability-based tuning (slower but more thorough) stability_result <- auto_tune_small_cell_reduction(   mx = mobility_data,   method = \"stability\",   n_trials = 10,   verbose = TRUE )  # Quality-based tuning with custom candidates custom_result <- auto_tune_small_cell_reduction(   mx = mobility_data,   candidate_values = c(0, 1, 2, 5, 10, 20),   verbose = TRUE )  # Performance-aware tuning performance_result <- auto_tune_small_cell_reduction(   mx = mobility_data,   method = \"performance\",   performance_weight = 0.5,  # Equal weight to speed and quality   verbose = TRUE ) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/auto_tuning.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced Auto-Tuning Framework for MONECA Small Cell Reduction Parameter — auto_tuning","title":"Enhanced Auto-Tuning Framework for MONECA Small Cell Reduction Parameter — auto_tuning","text":"module provides comprehensive automatic parameter tuning small.cell.reduction parameter MONECA algorithms. implements stability-based, quality-based, performance-aware tuning methods advanced optimization features including Pareto frontier analysis, cross-validation, Bayesian optimization, performance optimization using data.table enhanced speed.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/benchmark_implementations.html","id":null,"dir":"Reference","previous_headings":"","what":"Benchmark Utility for Performance Testing — benchmark_implementations","title":"Benchmark Utility for Performance Testing — benchmark_implementations","text":"Compares performance original optimized implementations.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/benchmark_implementations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Benchmark Utility for Performance Testing — benchmark_implementations","text":"","code":"benchmark_implementations(mx, n_runs = 3, segment.levels = 3)"},{"path":"https://gmontaletti.github.io/MONECA/reference/benchmark_implementations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Benchmark Utility for Performance Testing — benchmark_implementations","text":"mx Mobility matrix testing n_runs Number benchmark runs segment.levels Number segmentation levels","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/benchmark_implementations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Benchmark Utility for Performance Testing — benchmark_implementations","text":"Data frame timing results","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/cleanup_parallel_processing.html","id":null,"dir":"Reference","previous_headings":"","what":"Cleanup Parallel Processing Resources — cleanup_parallel_processing","title":"Cleanup Parallel Processing Resources — cleanup_parallel_processing","text":"Properly shuts parallel processing cluster.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/cleanup_parallel_processing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cleanup Parallel Processing Resources — cleanup_parallel_processing","text":"","code":"cleanup_parallel_processing(parallel_setup)"},{"path":"https://gmontaletti.github.io/MONECA/reference/cleanup_parallel_processing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cleanup Parallel Processing Resources — cleanup_parallel_processing","text":"parallel_setup Parallel setup object.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_adjusted_rand_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Adjusted Rand Index — compute_adjusted_rand_index","title":"Compute Adjusted Rand Index — compute_adjusted_rand_index","text":"Computes adjusted rand index comparing clustering solutions.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_adjusted_rand_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Adjusted Rand Index — compute_adjusted_rand_index","text":"","code":"compute_adjusted_rand_index(clustering1, clustering2)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_adjusted_rand_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Adjusted Rand Index — compute_adjusted_rand_index","text":"clustering1 First clustering solution. clustering2 Second clustering solution.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_adjusted_rand_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Adjusted Rand Index — compute_adjusted_rand_index","text":"Numeric adjusted rand index.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_centrality_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Centrality Metrics — compute_centrality_metrics","title":"Compute Centrality Metrics — compute_centrality_metrics","text":"Compute Centrality Metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_centrality_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Centrality Metrics — compute_centrality_metrics","text":"","code":"compute_centrality_metrics(segments, level, enhanced_membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_clustering_quality_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Clustering Quality Metrics — compute_clustering_quality_metrics","title":"Compute Clustering Quality Metrics — compute_clustering_quality_metrics","text":"Convenience wrapper compute_tuning_metrics focused clustering quality.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_clustering_quality_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Clustering Quality Metrics — compute_clustering_quality_metrics","text":"","code":"compute_clustering_quality_metrics(weight_matrix, segments = NULL)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_clustering_quality_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Clustering Quality Metrics — compute_clustering_quality_metrics","text":"weight_matrix Weight matrix mobility data. segments Optional MONECA segmentation results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_clustering_quality_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Clustering Quality Metrics — compute_clustering_quality_metrics","text":"List clustering quality metrics.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_metrics_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Graph Metrics Comparison — compute_metrics_comparison","title":"Compute Graph Metrics Comparison — compute_metrics_comparison","text":"Compute Graph Metrics Comparison","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_metrics_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Graph Metrics Comparison — compute_metrics_comparison","text":"","code":"compute_metrics_comparison(segments, max_level)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_mobility_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Mobility Metrics — compute_mobility_metrics","title":"Compute Mobility Metrics — compute_mobility_metrics","text":"Compute Mobility Metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_mobility_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Mobility Metrics — compute_mobility_metrics","text":"","code":"compute_mobility_metrics(segments, level, enhanced_membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_connectivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Network Connectivity Metrics — compute_network_connectivity","title":"Compute Network Connectivity Metrics — compute_network_connectivity","text":"Computes various connectivity metrics network analysis.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_connectivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Network Connectivity Metrics — compute_network_connectivity","text":"","code":"compute_network_connectivity(weight_matrix)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_connectivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Network Connectivity Metrics — compute_network_connectivity","text":"weight_matrix Weight matrix representing network.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_connectivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Network Connectivity Metrics — compute_network_connectivity","text":"List containing connectivity metrics.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_modularity.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Network Modularity — compute_network_modularity","title":"Compute Network Modularity — compute_network_modularity","text":"Computes modularity score network community structure.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_modularity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Network Modularity — compute_network_modularity","text":"","code":"compute_network_modularity(weight_matrix)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_modularity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Network Modularity — compute_network_modularity","text":"weight_matrix Weight matrix representing network.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_modularity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Network Modularity — compute_network_modularity","text":"Numeric modularity score.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_properties.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Network Properties — compute_network_properties","title":"Compute Network Properties — compute_network_properties","text":"Computes comprehensive network structure properties weight matrix.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_properties.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Network Properties — compute_network_properties","text":"","code":"compute_network_properties(weight_matrix)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_properties.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Network Properties — compute_network_properties","text":"weight_matrix Weight matrix representing network connections.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_network_properties.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Network Properties — compute_network_properties","text":"List containing network properties.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_segment_centrality_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Segment Centrality Metrics — compute_segment_centrality_metrics","title":"Compute Segment Centrality Metrics — compute_segment_centrality_metrics","text":"Compute Segment Centrality Metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_segment_centrality_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Segment Centrality Metrics — compute_segment_centrality_metrics","text":"","code":"compute_segment_centrality_metrics(segment_matrix, enhanced_membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_segment_mobility_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Segment Mobility Metrics — compute_segment_mobility_metrics","title":"Compute Segment Mobility Metrics — compute_segment_mobility_metrics","text":"Compute Segment Mobility Metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_segment_mobility_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Segment Mobility Metrics — compute_segment_mobility_metrics","text":"","code":"compute_segment_mobility_metrics(segment_matrix, enhanced_membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_silhouette_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Silhouette Score — compute_silhouette_score","title":"Compute Silhouette Score — compute_silhouette_score","text":"Computes silhouette coefficient clustering quality assessment.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_silhouette_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Silhouette Score — compute_silhouette_score","text":"","code":"compute_silhouette_score(weight_matrix, segments)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_silhouette_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Silhouette Score — compute_silhouette_score","text":"weight_matrix Weight matrix used clustering. segments MONECA segmentation results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_silhouette_score.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Silhouette Score — compute_silhouette_score","text":"Numeric silhouette score.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_stability_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Stability Metrics — compute_stability_metrics","title":"Compute Stability Metrics — compute_stability_metrics","text":"Computes stability scores clustering signatures across bootstrap samples.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_stability_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Stability Metrics — compute_stability_metrics","text":"","code":"compute_stability_metrics(signatures)"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_stability_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Stability Metrics — compute_stability_metrics","text":"signatures List clustering signatures bootstrap samples.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_stability_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Stability Metrics — compute_stability_metrics","text":"Numeric stability score 0 1.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"Computes comprehensive metrics evaluating clustering quality, including silhouette analysis, network modularity, information-theoretic measures.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"","code":"compute_tuning_metrics(   segments = NULL,   weight_matrix = NULL,   include_silhouette = TRUE,   include_modularity = TRUE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"segments MONECA segmentation results (optional, full analysis). weight_matrix Weight matrix mobility data (required). include_silhouette Logical indicating whether compute silhouette coefficients. Default TRUE. include_modularity Logical indicating whether compute network modularity. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"List containing: silhouette Average silhouette coefficient modularity Network modularity score network_density Network density measure connectivity Network connectivity metrics overall Overall quality score combining metrics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"function evaluates clustering quality using multiple complementary metrics: Silhouette Analysis: Measures well-separated clusters comparing within-cluster -cluster distances. Network Modularity: Assesses community structure quality mobility network. Connectivity Metrics: Evaluates network structure properties including density, component structure, edge distribution.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/compute_tuning_metrics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Multi-Objective Optimization Metrics — compute_tuning_metrics","text":"","code":"if (FALSE) { # \\dontrun{ # Generate sample data and create weight matrix mobility_data <- generate_mobility_data(n_classes = 5, seed = 123) weight_matrix <- weight.matrix(mobility_data, small.cell.reduction = 2)  # Compute quality metrics quality <- compute_tuning_metrics(weight_matrix = weight_matrix) print(quality) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/create_enhanced_pattern_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Enhanced Pattern Rules for Segment Naming — create_enhanced_pattern_rules","title":"Create Enhanced Pattern Rules for Segment Naming — create_enhanced_pattern_rules","text":"Creates comprehensive pattern library intelligent segment naming, focusing occupational levels, industries, employment types avoiding generic social class terms.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/create_enhanced_pattern_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Enhanced Pattern Rules for Segment Naming — create_enhanced_pattern_rules","text":"","code":"create_enhanced_pattern_rules()"},{"path":"https://gmontaletti.github.io/MONECA/reference/create_enhanced_pattern_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Enhanced Pattern Rules for Segment Naming — create_enhanced_pattern_rules","text":"List enhanced pattern rules priorities semantic categories","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/create_union_find.html","id":null,"dir":"Reference","previous_headings":"","what":"Union-Find Data Structure for Efficient Group Merging — create_union_find","title":"Union-Find Data Structure for Efficient Group Merging — create_union_find","text":"Implements disjoint-set union (DSU) path compression union rank O(alpha(n)) amortized operations alpha inverse Ackermann function.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/create_union_find.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Union-Find Data Structure for Efficient Group Merging — create_union_find","text":"","code":"create_union_find(n)"},{"path":"https://gmontaletti.github.io/MONECA/reference/determine_analysis_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine Optimal Analysis Level — determine_analysis_level","title":"Determine Optimal Analysis Level — determine_analysis_level","text":"Determine Optimal Analysis Level","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/determine_analysis_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine Optimal Analysis Level — determine_analysis_level","text":"","code":"determine_analysis_level(moneca_results, enhanced_membership, level_selection)"},{"path":"https://gmontaletti.github.io/MONECA/reference/dot-moneca_env.html","id":null,"dir":"Reference","previous_headings":"","what":"igraph Compatibility Layer — .moneca_env","title":"igraph Compatibility Layer — .moneca_env","text":"file provides compatibility functions handle old new igraph API ensuring MONECA works igraph versions 1.3.0 onwards","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/dot-moneca_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"igraph Compatibility Layer — .moneca_env","text":"","code":".moneca_env"},{"path":"https://gmontaletti.github.io/MONECA/reference/dot-moneca_env.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"igraph Compatibility Layer — .moneca_env","text":"object class environment length 9.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Legacy Ego Network Visualization — ego.plot","title":"Legacy Ego Network Visualization — ego.plot","text":"Creates ego network plots showing mobility patterns single focal position using legacy ggplot2 plotting system. modern ego network analysis, use plot_ego_ggraph.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Legacy Ego Network Visualization — ego.plot","text":"","code":"ego.plot(   segments,   mxa.b,   id = 1,   lay = NULL,   edge.size = 0.8,   border.padding = 1,   title.line = TRUE,   vertex.size = \"totals\",   small.cell.reduction = 5,   edge.weight = \"discrete\",   color.scheme = \"RdPu\",   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Legacy Ego Network Visualization — ego.plot","text":"segments moneca object returned moneca. mxa.b original mobility matrix used moneca analysis. id Integer character specifying focal node (ego) analysis. lay Layout matrix node positioning, typically layout.matrix. edge.size Numeric value edge thickness. Default 0.8. border.padding Numeric value segment boundary padding. Default 1. title.line Logical indicating whether add title line. Default TRUE. vertex.size Specification vertex sizes. \"totals\", sizes derived row/column totals mobility matrix. Otherwise, uses specified values. small.cell.reduction Numeric threshold vertices receive different shapes indicate low mobility volumes. Default 5. edge.weight Character string specifying edge weight display. \"discrete\" creates categorical edge weights, otherwise uses continuous weights. color.scheme Character string specifying RColorBrewer color scheme visualization. Default \"RdPu\". ... Additional arguments passed gg.moneca.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Legacy Ego Network Visualization — ego.plot","text":"ggplot2 object showing ego network.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Legacy Ego Network Visualization — ego.plot","text":"function creates focused view mobility patterns single position social structure. highlights incoming outgoing mobility flows uses different visual elements represent: Edge colors/weights relative risk levels Node sizes total mobility volumes Node shapes positions low mobility Node colors mobility share proportions Note: function maintained backward compatibility. new analyses, consider using plot_ego_ggraph offers better performance modern styling options.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/ego.plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Legacy Ego Network Visualization — ego.plot","text":"","code":"if (FALSE) { # \\dontrun{ # Using synthetic data mobility_data <- generate_mobility_data(n_classes = 6, seed = 123) seg <- moneca(mobility_data, segment.levels = 2) ego.plot(seg, mobility_data, id = 2)  # Customized ego plot ego.plot(seg, mobility_data,           id = 3,          edge.size = 1.2,          color.scheme = \"Blues\",          small.cell.reduction = 10) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/estimate_components.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Number of Connected Components — estimate_components","title":"Estimate Number of Connected Components — estimate_components","text":"Simple approximation connected components network.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/estimate_components.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Number of Connected Components — estimate_components","text":"","code":"estimate_components(adj_matrix)"},{"path":"https://gmontaletti.github.io/MONECA/reference/estimate_components.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Number of Connected Components — estimate_components","text":"adj_matrix Binary adjacency matrix.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/estimate_components.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Number of Connected Components — estimate_components","text":"Estimated number connected components.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"Balances clustering quality computational performance identify optimal parameters different use cases constraints.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"","code":"evaluate_performance_trade_offs(   quality_metrics,   performance_metrics,   performance_weight = 0.3 )"},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"quality_metrics List quality metric results candidate. performance_metrics List performance metric results candidate. performance_weight Numeric weight (0-1) performance vs quality trade-. Higher values prioritize speed quality.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"Numeric vector trade-scores candidate.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"function combines normalized quality performance scores using specified weight. Quality scores include clustering metrics like modularity silhouette coefficients. Performance scores consider computational time memory efficiency.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/evaluate_performance_trade_offs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate Performance Trade-offs — evaluate_performance_trade_offs","text":"","code":"if (FALSE) { # \\dontrun{ # This function is typically called internally by auto_tune_small_cell_reduction # Example usage in isolation:  quality_list <- list(   list(overall = 0.8),   list(overall = 0.6),   list(overall = 0.9) )  performance_list <- list(   list(time = 1.2, valid = TRUE),   list(time = 0.8, valid = TRUE),    list(time = 2.1, valid = TRUE) )  trade_offs <- evaluate_performance_trade_offs(   quality_metrics = quality_list,   performance_metrics = performance_list,   performance_weight = 0.3 ) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_clustering_signature.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Clustering Signature — extract_clustering_signature","title":"Extract Clustering Signature — extract_clustering_signature","text":"Extracts standardized signature MONECA clustering results stability comparison across bootstrap samples.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_clustering_signature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Clustering Signature — extract_clustering_signature","text":"","code":"extract_clustering_signature(segments, original_indices = NULL)"},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_clustering_signature.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Clustering Signature — extract_clustering_signature","text":"segments MONECA segmentation results. original_indices Original indices sampled data.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_clustering_signature.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Clustering Signature — extract_clustering_signature","text":"List containing clustering signature components.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_meaningful_terms.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Meaningful Terms from Node Names — extract_meaningful_terms","title":"Extract Meaningful Terms from Node Names — extract_meaningful_terms","text":"Analyzes node names extract semantically meaningful terms generating descriptive segment names.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_meaningful_terms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Meaningful Terms from Node Names — extract_meaningful_terms","text":"","code":"extract_meaningful_terms(node_names)"},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_meaningful_terms.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Meaningful Terms from Node Names — extract_meaningful_terms","text":"node_names Character vector node names","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_meaningful_terms.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Meaningful Terms from Node Names — extract_meaningful_terms","text":"Character string meaningful term-based name, NULL","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_named_matrices.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Named Matrices — extract_named_matrices","title":"Extract Named Matrices — extract_named_matrices","text":"Extract Named Matrices","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_named_matrices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Named Matrices — extract_named_matrices","text":"","code":"extract_named_matrices(segments, max_level, enhanced_membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_segment_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Segment Matrix — extract_segment_matrix","title":"Extract Segment Matrix — extract_segment_matrix","text":"Extract Segment Matrix","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/extract_segment_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Segment Matrix — extract_segment_matrix","text":"","code":"extract_segment_matrix(moneca_results, enhanced_membership, level)"},{"path":"https://gmontaletti.github.io/MONECA/reference/find.segments.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Segments in Mobility Networks — find.segments","title":"Find Segments in Mobility Networks — find.segments","text":"Identifies discrete groups segments based weighted network matrix using clique-based algorithm. function implements core segmentation algorithm iteratively assigns nodes segments based network ties.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find.segments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Segments in Mobility Networks — find.segments","text":"","code":"find.segments(   mat,   cliques,   cut.off = 1,   mode = \"symmetric\",   delete.upper.tri = TRUE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/find.segments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Segments in Mobility Networks — find.segments","text":"mat weighted adjacency matrix representing mobility flows relationships. include row column names representing categories/classes. cliques list cliques (complete subgraphs) network, typically obtained igraph::cliques(). cut.Numeric threshold minimum weight relative risk considered network tie. Default 1. mode Character string specifying handle asymmetric relationships: \"symmetric\" (default): Standard symmetric treatment \"Mutual\": mutual ties (bidirectional) considered \"Unmutual\": Unidirectional ties allowed delete.upper.tri Logical indicating whether process lower triangle matrix efficiency. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find.segments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Segments in Mobility Networks — find.segments","text":"list two components: membership factor indicating segment membership node cliques list element contains indices nodes       belonging segment","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find.segments.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Find Segments in Mobility Networks — find.segments","text":"algorithm works iteratively examining strongest remaining ties network assigning nodes segments based clique membership. uses greedy approach prioritizes stronger connections larger existing segments.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/find_best_level_with_structure.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Best Level With Structure and Names — find_best_level_with_structure","title":"Find Best Level With Structure and Names — find_best_level_with_structure","text":"Find Best Level Structure Names","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find_best_level_with_structure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Best Level With Structure and Names — find_best_level_with_structure","text":"","code":"find_best_level_with_structure(segments, enhanced_membership, max_level)"},{"path":"https://gmontaletti.github.io/MONECA/reference/find_segments_optimized.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimized Segment Finding with Vectorized Operations — find_segments_optimized","title":"Optimized Segment Finding with Vectorized Operations — find_segments_optimized","text":"High-performance implementation segment finding algorithm using: - Pre-sorted edges single-pass processing - Union-find O(alpha(n)) group merging - Vectorized clique membership testing - Optional sparse matrix support","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find_segments_optimized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimized Segment Finding with Vectorized Operations — find_segments_optimized","text":"","code":"find_segments_optimized(mat, cliques, cut.off = 1, progress = FALSE)"},{"path":"https://gmontaletti.github.io/MONECA/reference/find_segments_optimized.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimized Segment Finding with Vectorized Operations — find_segments_optimized","text":"mat Weight matrix weight.matrix() cliques List cliques igraph cut.Minimum weight threshold progress Show progress bar","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/find_segments_optimized.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimized Segment Finding with Vectorized Operations — find_segments_optimized","text":"List membership cliques","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/first.level.summary.html","id":null,"dir":"Reference","previous_headings":"","what":"First level summary — first.level.summary","title":"First level summary — first.level.summary","text":"First level summary","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/first.level.summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"First level summary — first.level.summary","text":"","code":"first.level.summary(   segments,   small.cell.reduction = segments$small.cell.reduction )"},{"path":"https://gmontaletti.github.io/MONECA/reference/force.segments.html","id":null,"dir":"Reference","previous_headings":"","what":"Force Segments — force.segments","title":"Force Segments — force.segments","text":"Creates two-level segment object forced solution based external variable. internal function creating custom segmentation structures.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/force.segments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Force Segments — force.segments","text":"","code":"force.segments(segments, variable)"},{"path":"https://gmontaletti.github.io/MONECA/reference/force.segments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Force Segments — force.segments","text":"segments moneca object returned moneca. variable vector specifying forced segment assignments.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/force.segments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Force Segments — force.segments","text":"moneca object forced segmentation level 2.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Data-Driven Candidate Values — generate_candidate_values","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"Generates candidate values small.cell.reduction parameter using data-driven approaches including percentile analysis, matrix sparsity assessment, network density optimization.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"","code":"generate_candidate_values(   mx,   method = \"hybrid\",   max_candidates = 20,   include_zero = TRUE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"mx Mobility matrix analysis. method Character string specifying generation strategy: \"percentile\": Percentile-based thresholds data distribution \"sparsity\": Matrix sparsity-informed selection \"density\": Network density optimization targets \"hybrid\": Combination multiple strategies (default) max_candidates Maximum number candidates generate. Default 20. include_zero Logical indicating whether include 0 candidate. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"Numeric vector candidate small.cell.reduction values, sorted   ascending order.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"Percentile Method: Generates thresholds based distribution non-zero values mobility matrix. Uses quantiles 5 Sparsity Method: Analyzes matrix sparsity patterns generates candidates preserve different levels network connectivity. Density Method: Targets specific network density levels (0.1, 0.2, etc.) estimating required thresholds. Hybrid Method: Combines approaches selects diverse, non-redundant candidates covering full parameter space.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_candidate_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Data-Driven Candidate Values — generate_candidate_values","text":"","code":"if (FALSE) { # \\dontrun{ # Generate sample data mobility_data <- generate_mobility_data(n_classes = 5, seed = 123)  # Percentile-based candidates candidates_pct <- generate_candidate_values(mobility_data, \"percentile\")  # Sparsity-informed candidates   candidates_sparse <- generate_candidate_values(mobility_data, \"sparsity\")  # Hybrid approach (recommended) candidates_hybrid <- generate_candidate_values(mobility_data, \"hybrid\")  print(candidates_hybrid) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_example_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Predefined Example Datasets — generate_example_datasets","title":"Generate Predefined Example Datasets — generate_example_datasets","text":"Creates collection predefined mobility datasets different structural characteristics. examples useful tutorials, testing different moneca parameters, demonstrating various mobility regime types.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_example_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Predefined Example Datasets — generate_example_datasets","text":"","code":"generate_example_datasets()"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_example_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Predefined Example Datasets — generate_example_datasets","text":"named list containing mobility matrices different characteristics: simple Small 4-class example clear segmentation complex Larger 8-class example hierarchical structure rigid High immobility example showing strong class boundaries fluid Low immobility example extensive mobility polarized Example strong upper/lower class divide gradual Example smooth class transitions matrix standard moneca format row/column totals.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_example_datasets.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Predefined Example Datasets — generate_example_datasets","text":"function provides ready--use examples demonstrate different types social mobility structures: Simple: Good learning moneca basics Complex: Tests algorithm performance larger structures Rigid: Shows segmentation low-mobility societies Fluid: Tests segmentation high-mobility contexts Polarized: Demonstrates class divide patterns Gradual: Shows continuous mobility gradients examples particularly useful : Tutorial teaching materials Comparing moneca parameters across mobility types Testing visualization functions Benchmarking algorithm performance","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_example_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Predefined Example Datasets — generate_example_datasets","text":"","code":"if (FALSE) { # \\dontrun{ # Load all example datasets examples <- generate_example_datasets() names(examples)  # Examine the simple example print(examples$simple)  # Compare different mobility regimes rigid_seg <- moneca(examples$rigid, segment.levels = 3) fluid_seg <- moneca(examples$fluid, segment.levels = 3)  # Visualize different structures plot_moneca_ggraph(rigid_seg, title = \"Rigid Class Structure\") plot_moneca_ggraph(fluid_seg, title = \"Fluid Mobility Regime\") } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_level_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Level Name Based on Strategy — generate_level_name","title":"Generate Level Name Based on Strategy — generate_level_name","text":"Internal helper function generate meaningful level names segments.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_level_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Level Name Based on Strategy — generate_level_name","text":"","code":"generate_level_name(   node_names,   membership_id,   naming_strategy,   custom_names,   separator,   max_concat_length,   pattern_rules )"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_level_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Level Name Based on Strategy — generate_level_name","text":"node_names Character vector node names segment membership_id Character string membership ID (e.g., \"2.1\") naming_strategy Character string specifying naming approach custom_names Named list custom names separator Character string concatenation max_concat_length Maximum nodes concatenate pattern_rules Named list pattern replacement rules","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_level_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Level Name Based on Strategy — generate_level_name","text":"Character string generated level name","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"Creates synthetic social mobility tables configurable patterns mimic real-world mobility structures. function essential testing moneca algorithms, creating examples, understanding different mobility patterns affect segmentation results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"","code":"generate_mobility_data(   n_classes = 10,   n_total = 10000,   immobility_strength = 0.6,   class_clustering = 0.3,   noise_level = 0.1,   class_names = NULL,   seed = NULL )"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"n_classes Integer specifying number social classes occupational categories. Must least 2. Default 10. n_total Integer specifying total sample size (number individuals). Must least large n_classes. Default 10000. immobility_strength Numeric value (0-1) controlling strength diagonal immobility (tendency remain origin class). Higher values create rigid class structures. Default 0.6. class_clustering Numeric value (0-1) controlling tendency mobility adjacent classes social hierarchy. Higher values create gradual, short-distance mobility. Default 0.3. noise_level Numeric value (0-1) controlling amount random mobility non-adjacent classes. Higher values create chaotic mobility patterns. Default 0.1. class_names Character vector names social classes. NULL, classes named \"Class 1\", \"Class 2\", etc. Length must equal n_classes. seed Integer random seed ensure reproducible results. Default NULL (seed set).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"square matrix moneca format : Core matrix Upper-left (n_classes x n_classes) contains mobility flows Row margins Last column contains origin class totals Column margins Last row contains destination class totals Grand total Bottom-right cell contains total sample size matrix includes row column names easy interpretation.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"function generates mobility data using hierarchical model reflects common patterns social mobility research: Diagonal Dominance: people remain origin class Distance Effects: Mobility likely adjacent classes Marginal Heterogeneity: Class sizes vary realistically Random Component: unpredictable mobility occurs generated data can used test different mobility regimes affect moneca segmentation create realistic examples demonstrations. Parameter combinations: High immobility + low clustering = rigid class boundaries Low immobility + high clustering = fluid structured mobility High noise = chaotic mobility patterns Balanced parameters = realistic social mobility","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_mobility_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Realistic Synthetic Mobility Data — generate_mobility_data","text":"","code":"# Basic synthetic data with default parameters basic_data <- generate_mobility_data() print(basic_data[1:6, 1:6])  # Show first 5 classes plus totals #>         Class 1 Class 2 Class 3 Class 4 Class 5 Class 6 #> Class 1     495     125      85       9      10       7 #> Class 2     212     784     220     111       9      13 #> Class 3      30      49     242      58      24       2 #> Class 4       1       8      17      55      17       9 #> Class 5      10      10      97     199     753     201 #> Class 6       5       7       6      38      72     237  # Small example for quick testing test_data <- generate_mobility_data(   n_classes = 5,   n_total = 1000,   immobility_strength = 0.7,   class_clustering = 0.2,   seed = 42 )  # Professional class structure with custom names professional_data <- generate_mobility_data(   n_classes = 6,   n_total = 5000,   class_names = c(\"Upper\", \"Upper-Middle\", \"Middle\",                    \"Lower-Middle\", \"Working\", \"Lower\"),   immobility_strength = 0.5,   class_clustering = 0.4,   seed = 123 )  # Highly fluid mobility regime fluid_data <- generate_mobility_data(   n_classes = 8,   immobility_strength = 0.3,   class_clustering = 0.1,   noise_level = 0.3 )  # Use in moneca analysis seg <- moneca(test_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0% #> 33% ready! #>    |                                                                               |===================================                                   |  50% #> 67% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>  if (FALSE) { # \\dontrun{ plot_moneca_ggraph(seg, title = \"Synthetic Mobility Analysis\") } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_segment_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Segment Network Plot — generate_segment_plot","title":"Generate Segment Network Plot — generate_segment_plot","text":"Generate Segment Network Plot","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_segment_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Segment Network Plot — generate_segment_plot","text":"","code":"generate_segment_plot(   segment_matrix,   enhanced_membership,   mobility_metrics,   centrality_metrics,   plot_layout,   plot_node_color,   node_size_metric )"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_semantic_fallback.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Semantic Fallback Name — generate_semantic_fallback","title":"Generate Semantic Fallback Name — generate_semantic_fallback","text":"Creates intelligent fallback names using segment composition analysis clear patterns detected.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_semantic_fallback.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Semantic Fallback Name — generate_semantic_fallback","text":"","code":"generate_semantic_fallback(node_names, membership_id)"},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_semantic_fallback.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Semantic Fallback Name — generate_semantic_fallback","text":"node_names Character vector node names membership_id Character string membership ID","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_semantic_fallback.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Semantic Fallback Name — generate_semantic_fallback","text":"Character string semantic fallback name","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_summary_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Summary Report as Data Frame — generate_summary_report","title":"Generate Summary Report as Data Frame — generate_summary_report","text":"Generate Summary Report Data Frame","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/generate_summary_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Summary Report as Data Frame — generate_summary_report","text":"","code":"generate_summary_report(   results,   segments,   max_level,   analysis_level = max_level )"},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":null,"dir":"Reference","previous_headings":"","what":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"Creates network visualizations moneca clustering results using ggplot2. function provides extensive customization options superseded plot_moneca_ggraph use cases.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"","code":"gg.moneca(   segments,   level = NULL,   layout = NULL,   edges = NULL,   mode = \"directed\",   vertex.size = \"total\",   vertex.fill = \"segment\",   vertex.alpha = 1,   vertex.color = \"black\",   vertex.shape = 21,   show.edges = TRUE,   edge.size = 1,   edge.alpha = \"weight\",   edge.color = \"weight\",   edge.line = \"solid\",   show.text = TRUE,   text.size = 3,   text.color = \"black\",   text.alpha = 1,   text.vjust = 1.5,   show.borders = TRUE,   border.size = 1,   border.fill = NA,   border.color = \"black\",   border.alpha = 1,   border.padding = 0.7,   border.text = TRUE,   border.labels = \"segments\",   border.text.size = 4,   border.text.color = \"black\",   border.text.vjust = -0.2,   border.text.hjust = 1,   midpoints = TRUE,   midpoint.arrow = arrow(angle = 20, length = unit(0.33, \"cm\"), ends = \"last\", type =     \"closed\"),   edge.text = FALSE,   edge.text.size = 3,   edge.text.alpha = 0.9,   legend = \"side\" )"},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"segments moneca object returned moneca. level Integer vector specifying hierarchical levels display. layout Matrix node coordinates layout function result. edges Edge matrix transformed edge weights visualization. mode Character string specifying graph mode (\"directed\" \"undirected\"). vertex.size Aesthetic vertex size. Can \"total\", \"mobility\", numeric. vertex.fill Aesthetic vertex fill color. Can \"segment\" color specification. vertex.alpha Numeric value (0-1) vertex transparency. vertex.color Color vertex borders. vertex.shape Numeric code vertex shape (see ggplot2 shapes). show.edges Logical indicating whether display edges. edge.size Size specification edges. edge.alpha Transparency edges. Can \"weight\" numeric. edge.color Color specification edges. Can \"weight\" color name. edge.line Line type edges (\"solid\", \"dashed\", etc.). show.text Logical indicating whether show vertex labels. text.size Numeric size vertex labels. text.color Color vertex labels. text.alpha Transparency vertex labels. text.vjust Vertical adjustment labels. show.borders Logical indicating whether show segment boundaries. border.size Size segment borders. border.fill Fill color segment boundaries. border.color Color segment border lines. border.alpha Transparency segment borders. border.padding Padding around segment boundaries. border.text Logical indicating whether show segment labels. border.labels Character vector custom segment labels. border.text.size Size segment labels. border.text.color Color segment labels. border.text.vjust Vertical adjustment segment labels. border.text.hjust Horizontal adjustment segment labels. midpoints Logical indicating whether show edge midpoints. midpoint.arrow Logical indicating whether show arrows midpoints. edge.text Logical indicating whether show edge labels. edge.text.size Size edge labels. edge.text.alpha Transparency edge labels. legend Position legend (\"side\", \"bottom\", \"none\", etc.).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"ggplot2 object.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"function provides highly customizable complex interface creating moneca visualizations. requires eliter package functionality. users, plot_moneca_ggraph offers modern user-friendly interface better defaults. Note: function maintained backward compatibility longer actively developed. New features added ggraph-based plotting functions instead.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/gg.moneca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Legacy ggplot2 Visualization for moneca Objects — gg.moneca","text":"","code":"if (FALSE) { # \\dontrun{ # Using synthetic data mobility_data <- generate_mobility_data(n_classes = 5, seed = 123) seg <- moneca(mobility_data, segment.levels = 2) gg.moneca(seg)  # Custom styling gg.moneca(seg,           vertex.fill = \"red\",          edge.color = \"blue\",          show.borders = FALSE) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/initialize_tuning_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize Tuning Cache for Performance Optimization — initialize_tuning_cache","title":"Initialize Tuning Cache for Performance Optimization — initialize_tuning_cache","text":"Creates cache structure store computed results avoid redundant calculations parameter tuning.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/initialize_tuning_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize Tuning Cache for Performance Optimization — initialize_tuning_cache","text":"","code":"initialize_tuning_cache()"},{"path":"https://gmontaletti.github.io/MONECA/reference/initialize_tuning_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize Tuning Cache for Performance Optimization — initialize_tuning_cache","text":"List containing cache structure.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/layout.matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Layout matrix — layout.matrix","title":"Layout matrix — layout.matrix","text":"matrix coordinates segments using Fruchterman-Reingold algorithm.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/layout.matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Layout matrix — layout.matrix","text":"","code":"layout.matrix(   segments,   attraction = c(320, 40, 10, 4, 2),   level = seq(segments$segment.list),   mode = \"directed\",   weight.adjustment = 1,   start.temp = 20,   niter = 10000,   tie.adjustment = 0.4,   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/layout.matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Layout matrix — layout.matrix","text":"segments segment object moneca(). attraction distance segment points level. level included levels. mode mode (directed undirected). weight.adjustment Weight adjustment factor. start.temp Starting temperature algorithm. niter Number iterations. tie.adjustment Tie adjustment factor. ... Additional arguments passed layout algorithm.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/layout.matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Layout matrix — layout.matrix","text":"matrix x,y coordinates node.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Mobility Matrix — mob.mat","title":"Example Mobility Matrix — mob.mat","text":"mobility matrix showing occupational transitions sample population. example data demonstrating moneca functionality.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.mat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Mobility Matrix — mob.mat","text":"numeric matrix row column names representing occupational categories.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.mat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Mobility Matrix — mob.mat","text":"Example data generated package demonstration.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.seg.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Segmentation Results — mob.seg","title":"Example Segmentation Results — mob.seg","text":"Pre-computed moneca segmentation results mob.mat example data. example data demonstrating moneca functionality.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.seg.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Segmentation Results — mob.seg","text":"moneca object containing segmentation results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/mob.seg.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Segmentation Results — mob.seg","text":"Generated mob.mat using moneca().","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/modern_plotting.html","id":null,"dir":"Reference","previous_headings":"","what":"Modern MONECA Plotting with ggraph — modern_plotting","title":"Modern MONECA Plotting with ggraph — modern_plotting","text":"Enhanced plotting functions using ggplot2 ggraph moneca objects. functions replace old plotting system modern, customizable network visualizations.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":null,"dir":"Reference","previous_headings":"","what":"MONECA - Mobility Network Clustering Analysis — moneca","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"Main function performing hierarchical clustering analysis mobility tables. MONECA creates weighted networks mobility data uses cliques identify discrete nested clusters positions high internal mobility.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"","code":"moneca(   mx = mx,   segment.levels = 3,   cut.off = 1,   mode = \"symmetric\",   delete.upper.tri = TRUE,   small.cell.reduction = 0,   auto_tune = FALSE,   tune_method = \"stability\",   tune_verbose = FALSE,   use_maximal_cliques = FALSE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"mx mobility table (square matrix) row column totals last row/column. Row names identify categories/classes. segment.levels Integer specifying number hierarchical segmentation levels compute. Default 3. algorithm may return fewer levels meaningful segmentation possible. cut.Numeric threshold minimum relative risk considered significant tie. Default 1 (mobility random expectation required). mode Character string specifying edge mode (\"symmetric\", \"Mutual\", \"Unmutual\"). Currently fully implemented - uses symmetric mode. delete.upper.tri Logical indicating whether use lower triangle efficiency. Default TRUE. small.cell.reduction Numeric value handle small cell counts. Cells counts threshold set 0. Default 0 (reduction). auto_tune Logical indicating whether automatically tune small.cell.reduction parameter. TRUE, uses optimization methods select best value. Default FALSE. tune_method Character string specifying auto-tuning method auto_tune TRUE. Options \"stability\" (default), \"quality\", \"performance\". See auto_tune_small_cell_reduction details. tune_verbose Logical indicating whether print verbose messages auto-tuning. Default FALSE. use_maximal_cliques Logical indicating whether use maximal cliques (faster, fewer cliques) instead cliques (slower, complete enumeration). Default FALSE (use cliques algorithmic correctness). Set TRUE performance optimization dense graphs.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"object class \"moneca\" containing: segment.list list segment memberships hierarchical level.       element list vectors containing original row indices. mat.list list aggregated mobility matrices level,       rows/columns represent segments instead original categories. small.cell.reduction small cell reduction parameter used.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"original antongrau/MONECA implementation progress bar functionality. memory-optimized version, use moneca_fast(). MONECA implements iterative algorithm : Converts mobility table relative risk matrix Identifies network cliques based threshold Groups nodes segments using clique structure Aggregates mobility table segments Repeats process specified number levels algorithm stops early segmentation possible (e.g., nodes collapse single segment).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"Toubøl, J., & Larsen, . G. (2017). Mapping Social Class Structure: Occupational Mobility Social Class Categories Using Network Analysis. Sociology, 51(6), 1257-1276.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MONECA - Mobility Network Clustering Analysis — moneca","text":"","code":"# Generate synthetic mobility data mobility_data <- generate_mobility_data(n_classes = 6, seed = 42)  # Run moneca analysis seg <- moneca(mobility_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |============                                                          |  17% #> 29% ready! #>    |                                                                               |=======================                                               |  33%   |                                                                               |===================================                                   |  50% #> 57% ready! #>    |                                                                               |===============================================                       |  67%   |                                                                               |==========================================================            |  83% #> 86% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>  #>    |                                                                               |                                                                      |   0% #> 100% ready! #>  print(seg) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================  # Run moneca with auto-tuning for optimal small.cell.reduction seg_tuned <- moneca(mobility_data, segment.levels = 3,                      auto_tune = TRUE, tune_method = \"stability\",                      tune_verbose = TRUE) #> Auto-tuning small.cell.reduction parameter using method: stability #> Parallel decision: NO ( 1 cores) #> Starting auto-tuning for small.cell.reduction parameter... #> Method: stability  #> Matrix size: 7 x 7  #> Parallel processing: NO  #> Generated 20 candidate values #>  #> Evaluating 20 candidates using optimized batch processing... #>    |                                                                               |                                                                      |   0%   |                                                                               |====                                                                  |   5%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |=======                                                               |  10%   |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |==========                                                            |  15%   |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |==============                                                        |  20%   |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==================                                                    |  25%   |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |=====================                                                 |  30%   |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |========================                                              |  35%   |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |============================                                          |  40%   |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |================================                                      |  45%   |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |===================================                                   |  50%   |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |======================================                                |  55%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==========================================                            |  60%   |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |==============================================                        |  65%   |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |=================================================                     |  70%   |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |====================================================                  |  75%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |========================================================              |  80%   |                                                                               |============================================================          |  85%   |                                                                               |===============================================================       |  90%   |                                                                               |==================================================================    |  95%   |                                                                               |======================================================================| 100% #>  #>  #> Batch evaluation completed #> - Valid results: 15 of 20  #> - Mean stability score: 0.613  #> - Mean quality score: 0.502  #> - Weight matrices cached: 20  #>  #> Optimal small.cell.reduction: 51  #> Total tuning time: 40.56 seconds #> Selected optimal small.cell.reduction: 51 #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20% #> 33% ready! #>    |                                                                               |============================                                          |  40% #> 50% ready! #>    |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80% #> 83% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>  #> Auto-tuning small.cell.reduction parameter using method: stability #> Parallel decision: NO ( 1 cores) #> Starting auto-tuning for small.cell.reduction parameter... #> Method: stability  #> Matrix size: 4 x 4  #> Parallel processing: NO  #> Generated 20 candidate values #>  #> Evaluating 20 candidates using optimized batch processing... #>    |                                                                               |                                                                      |   0%   |                                                                               |====                                                                  |   5%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |=======                                                               |  10%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==========                                                            |  15%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==============                                                        |  20%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==================                                                    |  25%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |=====================                                                 |  30%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |========================                                              |  35%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |============================                                          |  40%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |================================                                      |  45%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================                                |  55%   |                                                                               |==========================================                            |  60%   |                                                                               |==============================================                        |  65%   |                                                                               |=================================================                     |  70%   |                                                                               |====================================================                  |  75%   |                                                                               |========================================================              |  80%   |                                                                               |============================================================          |  85%   |                                                                               |===============================================================       |  90%   |                                                                               |==================================================================    |  95%   |                                                                               |======================================================================| 100% #>  #>  #> Batch evaluation completed #> - Valid results: 8 of 20  #> - Mean stability score: 0.35  #> - Mean quality score: 0.247  #> - Weight matrices cached: 20  #>  #> Optimal small.cell.reduction: 1  #> Total tuning time: 15.83 seconds #> Selected optimal small.cell.reduction: 1 #>    |                                                                               |                                                                      |   0% #> 100% ready! #>  #> Auto-tuning small.cell.reduction parameter using method: stability #> Parallel decision: NO ( 1 cores) #> Starting auto-tuning for small.cell.reduction parameter... #> Method: stability  #> Matrix size: 3 x 3  #> Parallel processing: NO  #> Generated 20 candidate values #>  #> Evaluating 20 candidates using optimized batch processing... #>    |                                                                               |                                                                      |   0%   |                                                                               |====                                                                  |   5%   |                                                                               |=======                                                               |  10%   |                                                                               |==========                                                            |  15%   |                                                                               |==============                                                        |  20%   |                                                                               |==================                                                    |  25%   |                                                                               |=====================                                                 |  30%   |                                                                               |========================                                              |  35%   |                                                                               |============================                                          |  40%   |                                                                               |================================                                      |  45%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================                                |  55%   |                                                                               |==========================================                            |  60%   |                                                                               |==============================================                        |  65%   |                                                                               |=================================================                     |  70%   |                                                                               |====================================================                  |  75%   |                                                                               |========================================================              |  80%   |                                                                               |============================================================          |  85%   |                                                                               |===============================================================       |  90%   |                                                                               |==================================================================    |  95%   |                                                                               |======================================================================| 100% #>  #>  #> Batch evaluation completed #> - Valid results: 0 of 20  #> - Mean stability score: 0  #> - Mean quality score: 0  #> - Weight matrices cached: 20  #>  #> Optimal small.cell.reduction: 0  #> Total tuning time: 4.1 seconds #> Selected optimal small.cell.reduction: 0 print(seg_tuned) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================  # Examine segment membership membership <- segment.membership(seg) print(membership) #>      name membership #> 1 Class 1        4.1 #> 2 Class 2        4.1 #> 3 Class 3        4.1 #> 4 Class 4        4.1 #> 5 Class 5        4.1 #> 6 Class 6        4.1"},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Legacy Network Plot for MONECA Results — moneca.plot","title":"Legacy Network Plot for MONECA Results — moneca.plot","text":"Creates network visualization MONECA segmentation results using base graphics igraph. modern visualizations, use plot_moneca_ggraph.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Legacy Network Plot for MONECA Results — moneca.plot","text":"","code":"moneca.plot(   segments,   layout = NULL,   edges = NULL,   mode = \"directed\",   level = NULL,   vertex.size = 5,   vertex.frame.color = \"black\",   edge.curved = FALSE,   vertex.color = \"grey50\",   vertex.label.color = \"black\",   vertex.label.cex = 0.5,   vertex.label.dist = 0.12,   edge.arrow.size = 0.1,   mark.col = NULL,   mark.expand = 10,   border.col = \"black\",   edge.width = 1,   edge.color = \"black\" )"},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Legacy Network Plot for MONECA Results — moneca.plot","text":"segments moneca object returned moneca. layout matrix node coordinates, typically layout.matrix. edges adjacency matrix edges, typically segment.edges. mode Character string specifying graph mode (\"directed\" \"undirected\"). level Integer vector hierarchical levels visualize. vertex.size Numeric value vertex size. Default 5. vertex.frame.color Color vertex borders. Default \"black\". edge.curved Logical curved edges. Default FALSE. vertex.color Color vertices. Default \"grey50\". vertex.label.color Color vertex labels. Default \"black\". vertex.label.cex Size multiplier labels. Default 0.5. vertex.label.dist Distance labels vertices. Default 0.12. edge.arrow.size Size edge arrows. Default 0.1. mark.col Color segment markers. Default NULL. mark.expand Expansion factor segment boundaries. Default 10. border.col Color segment borders. Default \"black\". edge.width Width edges. Default 1. edge.color Color edges. Can color name matrix. Default \"black\".","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Legacy Network Plot for MONECA Results — moneca.plot","text":"NULL (creates plot side effect).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca.plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Legacy Network Plot for MONECA Results — moneca.plot","text":"function provides backward compatibility earlier versions MONECA. new analyses, consider using plot_moneca_ggraph offers modern styling customization options.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":null,"dir":"Reference","previous_headings":"","what":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"Memory-optimized version main function performing hierarchical clustering analysis mobility tables. MONECA creates weighted networks mobility data uses cliques identify discrete nested clusters positions high internal mobility. optimized version moneca algorithm improved performance large datasets. Implements various performance optimizations including vectorization early stopping.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"","code":"moneca_fast(   mx = mx,   segment.levels = 3,   cut.off = 1,   mode = \"symmetric\",   delete.upper.tri = TRUE,   small.cell.reduction = 0,   use.sparse = FALSE,   min.density = 0,   max.clique.size = NULL,   progress = TRUE,   auto_tune = FALSE,   tune_method = \"stability\",   tune_verbose = FALSE,   use_maximal_cliques = FALSE )  moneca_fast(   mx = mx,   segment.levels = 3,   cut.off = 1,   mode = \"symmetric\",   delete.upper.tri = TRUE,   small.cell.reduction = 0,   use.sparse = FALSE,   min.density = 0,   max.clique.size = NULL,   progress = TRUE,   auto_tune = FALSE,   tune_method = \"stability\",   tune_verbose = FALSE,   use_maximal_cliques = FALSE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"mx mobility table (square matrix) row column totals last row/column. Row names identify categories/classes. segment.levels Integer specifying number hierarchical segmentation levels compute. Default 3. cut.Numeric threshold minimum relative risk considered significant tie. Default 1. mode Character string specifying edge mode. Currently uses symmetric mode. delete.upper.tri Logical indicating whether use lower triangle. Default TRUE. small.cell.reduction Numeric value handle small cell counts. Default 0. use.sparse Logical indicating whether use sparse matrices large data. Default FALSE. min.density Minimum strength-based density continue processing. Calculated mean(strength)/max(strength). Default 0 (disabled algorithmic fidelity). Set 0.01 higher early stopping optimization sparse graphs. max.clique.size Maximum size cliques consider (NULL limit). Default NULL. progress Logical indicating whether show progress bars. Default TRUE. auto_tune Logical indicating whether automatically tune small.cell.reduction parameter. TRUE, uses optimization methods select best value. Default FALSE. tune_method Character string specifying auto-tuning method auto_tune TRUE. Options \"stability\" (default), \"quality\", \"performance\". See auto_tune_small_cell_reduction details. tune_verbose Logical indicating whether print verbose messages auto-tuning. Default FALSE. use_maximal_cliques Logical indicating whether use maximal cliques (faster, fewer cliques) instead cliques (slower, complete enumeration). Default FALSE (use cliques algorithmic correctness). Set TRUE performance optimization dense graphs.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"object class \"moneca\" containing: segment.list list segment memberships hierarchical level.       element list vectors containing original row indices. mat.list list aggregated mobility matrices level,       rows/columns represent segments instead original categories. small.cell.reduction small cell reduction parameter used. object class \"moneca\" structure original moneca() function.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"version includes intelligent memory management dense graphs optimized clique enumeration prevent memory issues large datasets. MONECA implements iterative algorithm : Converts mobility table relative risk matrix Identifies network cliques based threshold Groups nodes segments using clique structure Aggregates mobility table segments Repeats process specified number levels algorithm stops early segmentation possible (e.g., nodes collapse single segment). **Algorithm Features:** Simple memory-efficient clique testing using direct subset checking Intelligent dense graph detection fallback maximal cliques Streamlined implementation based original bejler.test approach Maintains algorithmic correctness minimizing memory overhead implementation optimized single-core performance using: Vectorized matrix operations improved speed Optional sparse matrix support via use.sparse parameter Early stopping via min.density threshold (disabled default) Clique size limiting via max.clique.size parameter Produces identical results moneca using default parameters. use: system - recommended use cases Small large datasets want explicit control optimization parameters","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"Toubøl, J., & Larsen, . G. (2017). Mapping Social Class Structure: Occupational Mobility Social Class Categories Using Network Analysis. Sociology, 51(6), 1257-1276.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_fast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MONECA Fast - Memory-Optimized Mobility Network Clustering Analysis — moneca_fast","text":"","code":"# Generate synthetic mobility data mobility_data <- generate_mobility_data(n_classes = 6, seed = 42)  # Run moneca analysis (fast version) seg <- moneca_fast(mobility_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |============                                                          |  17%   |                                                                               |=======================                                               |  33%   |                                                                               |===================================                                   |  50%   |                                                                               |===============================================                       |  67%   |                                                                               |==========================================================            |  83%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% print(seg) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================  # Run with auto-tuning for optimal parameters seg_tuned <- moneca_fast(mobility_data, segment.levels = 3,                           auto_tune = TRUE, tune_method = \"stability\") #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |=======================                                               |  33%   |                                                                               |===============================================                       |  67%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0%   |                                                                               |==============                                                        |  20%   |                                                                               |============================                                          |  40%   |                                                                               |==========================================                            |  60%   |                                                                               |========================================================              |  80%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% print(seg_tuned) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================  # Examine segment membership membership <- segment.membership(seg) print(membership) #>      name membership #> 1 Class 1        4.1 #> 2 Class 2        4.1 #> 3 Class 3        4.1 #> 4 Class 4        4.1 #> 5 Class 5        4.1 #> 6 Class 6        4.1  # Visualize with modern plotting if (FALSE) { # \\dontrun{ plot_moneca_ggraph(seg, node_color = \"segment\", title = \"MONECA Clustering\") } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_graph_from_adjacency.html","id":null,"dir":"Reference","previous_headings":"","what":"Export fast moneca functions for use in package — moneca_graph_from_adjacency","title":"Export fast moneca functions for use in package — moneca_graph_from_adjacency","text":"Export fast moneca functions use package","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/moneca_graph_from_adjacency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export fast moneca functions for use in package — moneca_graph_from_adjacency","text":"","code":"moneca_graph_from_adjacency(...)"},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":null,"dir":"Reference","previous_headings":"","what":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"variant MONECA uses maximal cliques improved performance. Maximal cliques complete subgraphs extended adding another node, providing faster computation cost potentially different clustering results compared standard algorithm.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"","code":"new_moneca(   mx = mx,   segment.levels = 3,   cut.off = 1,   mode = \"symmetric\",   delete.upper.tri = TRUE,   small.cell.reduction = 0,   auto_tune = FALSE,   tune_method = \"stability\",   tune_verbose = FALSE,   max.clique.size = NULL,   progress = FALSE,   use.sparse = FALSE,   min.density = 0 )"},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"mx mobility table (square matrix) row column totals last row/column. Row names identify categories/classes. segment.levels Integer specifying number hierarchical segmentation levels compute. Default 3. algorithm may return fewer levels meaningful segmentation possible. cut.Numeric threshold minimum relative risk considered significant tie. Default 1 (mobility random expectation required). mode Character string specifying edge mode (\"symmetric\", \"Mutual\", \"Unmutual\"). Currently fully implemented - uses symmetric mode. delete.upper.tri Logical indicating whether use lower triangle efficiency. Default TRUE. small.cell.reduction Numeric value handle small cell counts. Cells counts threshold set 0. Default 0 (reduction). auto_tune Logical indicating whether automatically tune small.cell.reduction parameter. TRUE, uses optimization methods select best value. Default FALSE. tune_method Character string specifying auto-tuning method auto_tune TRUE. Options \"stability\" (default), \"quality\", \"performance\". See auto_tune_small_cell_reduction details. tune_verbose Logical indicating whether print verbose messages auto-tuning. Default FALSE. max.clique.size Maximum size cliques consider (NULL limit). Default NULL. Useful preventing memory issues dense graphs. specified, uses optimized moneca_fast implementation. progress Logical indicating whether show progress bars computation. Default FALSE. Set TRUE long-running analyses. use.sparse Logical indicating whether use sparse matrices large data. Default FALSE. applicable max.clique.size specified. min.density Minimum strength-based density continue processing. Calculated mean(strength)/max(strength). Default 0 (disabled). applicable max.clique.size specified. Set 0.01 higher early stopping optimization sparse graphs.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"object class \"moneca\" containing: segment.list list segment memberships hierarchical level.       element list vectors containing original row indices. mat.list list aggregated mobility matrices level,       rows/columns represent segments instead original categories. small.cell.reduction small cell reduction parameter used.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"function always uses maximal cliques (via igraph::max_cliques()), typically results : Faster computation: Maximal cliques fewer number     faster find cliques Different results: Clustering may differ standard MONECA     maximal cliques restrictive Better scalability: Recommended large networks (>20 nodes)     dense graphs function intelligently selects underlying implementation: max.clique.size, progress, use.sparse,     min.density specified, uses moneca_fast     advanced performance features Otherwise, uses standard moneca implementation use new_moneca(): Working large networks (>20 nodes) Dense mobility tables standard MONECA slow computational speed prioritized exhaustive clique enumeration Exploratory analysis approximate clustering acceptable use standard moneca(): Small medium networks (<20 nodes) need comprehensive clique-based segmentation Publication-quality results requiring original algorithm computational time constraint","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"performance-considerations","dir":"Reference","previous_headings":"","what":"Performance Considerations","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"performance gain using maximal cliques depends graph density: Sparse graphs: 2-5x speedup Medium density: 5-20x speedup Dense graphs: 20-100x speedup","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"result-differences","dir":"Reference","previous_headings":"","what":"Result Differences","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"Maximal cliques produce different valid results represent restrictive interpretation network structure. Key differences: Maximal cliques may merge segments -cliques separate Hierarchical structure may fewer levels Overall clustering quality remains high interpretation differs","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"Toubøl, J., & Larsen, . G. (2017). Mapping Social Class Structure: Occupational Mobility Social Class Categories Using Network Analysis. Sociology, 51(6), 1257-1276.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/new_moneca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"New MONECA - Fast Clustering with Maximal Cliques — new_moneca","text":"","code":"if (FALSE) { # \\dontrun{ # Generate synthetic mobility data mobility_data <- generate_mobility_data(n_classes = 6, seed = 42)  # Basic usage - uses maximal cliques seg_new <- new_moneca(mobility_data, segment.levels = 3) print(seg_new)  # Compare with standard moneca seg_standard <- moneca(mobility_data, segment.levels = 3)  # Visualize results plot_moneca_ggraph(seg_new, node_color = \"segment\") } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/optimized_algorithms.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimized Algorithms for MONECA Clustering — optimized_algorithms","title":"Optimized Algorithms for MONECA Clustering — optimized_algorithms","text":"module provides highly optimized implementations core MONECA algorithms using vectorization, efficient data structures, optional data.table integration maximum performance.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":null,"dir":"Reference","previous_headings":"","what":"Ego Network Visualization with ggraph — plot_ego_ggraph","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"Creates focused visualizations mobility patterns single focal node (ego). function shows incoming outgoing mobility flows specific category, making ideal understanding individual position dynamics.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"","code":"plot_ego_ggraph(   segments,   mobility_matrix,   ego_id,   min_weight = 0,   layout = \"stress\",   highlight_color = \"red\",   flow_color = \"viridis\",   node_size_range = c(2, 8),   edge_width_range = c(0.2, 3),   title = NULL,   segment_naming = \"auto\",   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"segments moneca object returned moneca. mobility_matrix original mobility matrix used moneca analysis. include row column totals. ego_id Integer character specifying focal node. Can : Integer: Row/column index mobility matrix Character: Row/column name mobility matrix min_weight Numeric threshold minimum edge weight include nodes. nodes connected ego edge weights >= min_weight shown. Default 0 (show connected nodes). Use higher values focus stronger mobility flows. layout Character string specifying layout algorithm. Default \"stress\" often works well ego networks. options include \"fr\", \"kk\", \"dh\". highlight_color Color ego (focal) node. Default \"red\". flow_color Character string specifying color scheme mobility flows. Default \"viridis\". Can viridis variant (\"viridis\", \"plasma\", \"inferno\", etc.). node_size_range Numeric vector length 2 specifying range node sizes. Default c(3, 12). edge_width_range Numeric vector length 2 specifying range edge widths. Default c(0.5, 3). title Character string plot title. Default NULL. segment_naming Specifies name segments visualization. Can : Character string: \"auto\" (default), \"concat\", \"pattern\", \"custom\" -     passed segment.membership.enhanced automatic naming data.frame: Custom segment labels columns \"name\" (node names     mobility matrix) \"segment_label\" (desired custom labels). allows complete     control segment naming NULL: Uses default \"auto\" strategy data.frame provided, custom labels override automatically generated names. data.frame approach useful meaningful business names multilingual applications. ... Additional arguments passed ggraph layout function.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"ggplot2 object showing ego network visualization.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"Ego networks particularly useful understanding mobility patterns specific social positions. visualization highlights: focal position (ego) distinct color Incoming mobility flows (edges pointing ego) Outgoing mobility flows (edges ego) relative strength different flows edge width color non-zero mobility flows displayed reduce visual clutter. Edge colors widths scaled represent volume mobility flows.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_ego_ggraph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ego Network Visualization with ggraph — plot_ego_ggraph","text":"","code":"if (FALSE) { # \\dontrun{ # Generate synthetic data and run MONECA mobility_data <- generate_mobility_data(n_classes = 6, seed = 123) seg <- moneca(mobility_data, segment.levels = 3)  # Ego network for the middle category (index 3) plot_ego_ggraph(seg, mobility_data, ego_id = 3,                 title = \"Mobility from Middle Class\") } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"Creates dendrogram-like visualization hierarchical clustering results moneca analysis. function shows categories progressively aggregated across segmentation levels, making hierarchical structure clear.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"","code":"plot_moneca_dendrogram(   segments,   height_method = \"uniform\",   color_segments = TRUE,   show_labels = TRUE,   label_size = 3,   branch_width = 1,   title = \"MONECA Hierarchical Clustering\",   subtitle = NULL,   color_palette = \"Set3\",   theme_style = \"minimal\",   vertical = TRUE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"segments moneca object returned moneca. height_method Character string specifying calculate dendrogram heights: \"uniform\" (default): Equal spacing levels \"mobility\": Height based mobility reduction levels \"segments\": Height based number segments level color_segments Logical indicating whether color branches final segment membership. Default TRUE. show_labels Logical indicating whether show category labels bottom. Default TRUE. label_size Numeric size labels. Default 3. branch_width Numeric width dendrogram branches. Default 1. title Character string plot title. Default \"MONECA Hierarchical Clustering\". subtitle Character string plot subtitle. Default NULL. color_palette Character string specifying RColorBrewer palette segment colors. Default \"Set3\". theme_style Character string specifying plot theme. Options \"minimal\" (default), \"classic\", \"void\". vertical Logical indicating whether plot vertically (TRUE, default) horizontally (FALSE).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"ggplot2 object representing dendrogram.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"function creates dendrogram visualization clearly shows: individual categories (leaves) grouped level hierarchical relationships segments progressive aggregation individual categories larger segments dendrogram branches show merging points categories segments combined based MONECA algorithm's clique detection. Unlike traditional hierarchical clustering, MONECA can create non-binary trees multiple categories merge simultaneously. Visual Features: Curved branches: Uses smooth curves instead angular segments better aesthetics Horizontal layout: Levels progress horizontally (left right) categories arranged vertically -Crossing Layout: Categories automatically ordered using hierarchical algorithm completely eliminates line crossings levels algorithm processes segments aggregated level , ensuring level, categories grouped optimally prevent crossing lines. creates clearest possible visualization hierarchical structure.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_dendrogram.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot MONECA Results as Dendrogram — plot_moneca_dendrogram","text":"","code":"if (FALSE) { # \\dontrun{ # Generate synthetic data and run MONECA mobility_data <- generate_mobility_data(n_classes = 8, seed = 123) seg <- moneca(mobility_data, segment.levels = 3)  # Basic dendrogram plot_moneca_dendrogram(seg) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":null,"dir":"Reference","previous_headings":"","what":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"Creates sophisticated network visualizations MONECA clustering results using ggraph ggplot2. function provides modern, highly customizable plots support multiple layout algorithms, node aesthetics, segment highlighting.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"","code":"plot_moneca_ggraph(   segments,   level = NULL,   layout = \"fr\",   edges = \"auto\",   node_size = \"total\",   node_color = \"segment\",   node_alpha = 0.8,   edge_width = \"weight\",   edge_color = \"grey50\",   edge_alpha = 0.6,   show_labels = TRUE,   label_size = 3,   show_segments = TRUE,   segment_alpha = 0.3,   color_palette = \"Set3\",   theme_style = \"void\",   title = NULL,   segment_naming = \"auto\",   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"segments moneca object returned moneca. level Integer vector specifying hierarchical levels visualize. Default displays levels except first (represents individual categories). layout Character string matrix specifying layout algorithm: \"fr\" (default): Fruchterman-Reingold force-directed layout \"kk\": Kamada-Kawai layout \"dh\": Davidson-Harel layout \"mds\": Multidimensional scaling \"stress\": Stress majorization Matrix: Custom coordinate matrix (n_nodes x 2) edges Edge matrix \"auto\" automatically generate using segment.edges. Default \"auto\". node_size Aesthetic mapping node size: \"total\": Size total mobility volume (default) \"mobility\": Size -diagonal mobility rate Numeric vector: Custom sizes node Single numeric: Fixed size nodes node_color Aesthetic mapping node color: \"segment\" (default): Color segment membership \"mobility\": Color mobility rate Character vector: Custom colors node Single color: Fixed color nodes node_alpha Numeric value (0-1) node transparency. Default 0.8. edge_width Aesthetic edge width: \"weight\" (default): Width proportional edge weight Numeric: Fixed width edges edge_color Color edges. Default \"grey50\". edge_alpha Numeric value (0-1) edge transparency. Default 0.6. show_labels Logical indicating whether display node labels. Default TRUE. label_size Numeric size node labels. Default 3. show_segments Logical indicating whether highlight segment boundaries. Default TRUE. segment_alpha Numeric value (0-1) segment boundary transparency. Default 0.3. color_palette Character string specifying color palette segments. Can RColorBrewer palette name. Default \"Set3\". theme_style Character string specifying plot theme: \"void\" (default): Clean background axes \"minimal\": Minimal theme subtle gridlines \"classic\": Traditional ggplot2 theme title Character string plot title. Default NULL (title). segment_naming Specifies name segments visualization. Can : Character string: \"auto\" (default), \"concat\", \"pattern\", \"custom\" -     passed segment.membership.enhanced automatic naming data.frame: Custom segment labels columns \"name\" (node names     mobility matrix) \"segment_label\" (desired custom labels). allows complete     control segment naming NULL: Uses default \"auto\" strategy data.frame provided, custom labels override automatically generated names. data.frame approach useful meaningful business names (e.g., \"Upper Management\" instead \"Segment 1\") multilingual applications. ... Additional arguments passed ggraph layout functions.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"ggplot2 object can customized displayed.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"function creates publication-quality network visualizations extensive customization options. automatically handles node positioning, edge rendering, segment highlighting. resulting plot can modified using standard ggplot2 syntax. interactive exploration, different layout algorithms may work better different network structures. Force-directed layouts (\"fr\") work well cases, \"stress\" layouts often produce cleaner results dense networks. Segment Naming: new data.frame approach segment_naming provides complete control segments labeled. particularly useful : Business applications meaningful names essential (e.g., \"Senior Management\" vs \"Segment 1\") Multilingual visualizations labels need translation Presentations consistent, professional terminology required Partial customization specific segments need custom names","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_moneca_ggraph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modern Network Visualization for MONECA Results — plot_moneca_ggraph","text":"","code":"if (FALSE) { # \\dontrun{ # Generate synthetic data and run MONECA mobility_data <- generate_mobility_data(n_classes = 6, seed = 123) seg <- moneca(mobility_data, segment.levels = 3)  # Basic network plot plot_moneca_ggraph(seg)  # Customized plot with different aesthetics plot_moneca_ggraph(seg,   layout = \"stress\",   node_color = \"mobility\",   color_palette = \"Spectral\",   title = \"Social Mobility Network\" ) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize Segment Quality Metrics — plot_segment_quality","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"Creates comprehensive visualizations segment quality metrics MONECA analysis. function provides multiple plot types help assess quality characteristics segmentation.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"","code":"plot_segment_quality(   segments,   plot_type = \"overview\",   level = 2,   metrics = NULL,   color_palette = NULL,   theme_style = \"minimal\",   title = NULL,   show_labels = TRUE,   label_size = 3,   segment_naming = \"auto\" )"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"segments moneca object returned moneca. plot_type Character string specifying type visualization: \"overview\" (default): Multi-panel overview key metrics \"cohesion\": Within-mobility vs segment size scatter plot \"radar\": Radar/spider plot normalized metrics per segment \"heatmap\": Heatmap metrics across levels \"evolution\": Line plot showing metric evolution across levels level Integer specifying hierarchical level visualize. Default 2. Use NULL levels (valid plot types). metrics Character vector metrics include. Default includes . Options: \"within.mobility\", \"share..mobility\", \"Density\", \"Nodes\", \"Max.path\", \"share..total\" color_palette Character string specifying RColorBrewer palette. Default \"Set3\" categorical data, \"RdYlBu\" continuous. theme_style Character string specifying plot theme: \"minimal\" (default), \"classic\", \"void\". title Character string plot title. Default auto-generated based plot type. show_labels Logical indicating whether show segment labels. Default TRUE. label_size Numeric size labels. Default 3. segment_naming Specifies name segments visualization. Can : Character string: \"auto\" (default), \"concat\", \"pattern\", \"custom\" -     passed segment.membership.enhanced automatic naming data.frame: Custom segment labels required columns \"name\" \"segment_label\".     parameter accepts direct output segment.membership.enhanced,     making easy maintain consistent segment naming across visualizations.     data.frame must : \"name\": Node names original mobility matrix \"segment_label\": Meaningful segment names (e.g., \"Executive_Leadership\") NULL: Uses default \"auto\" strategy Recommended workflow: Generate enhanced membership enhanced <- segment.membership.enhanced(segments, naming_strategy = \"pattern\") pass directly: plot_segment_quality(segments, segment_naming = enhanced). ensures consistent, meaningful segment names across plot types visualizations.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"ggplot2 object (list ggplot2 objects \"overview\" type).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"plot type serves different analytical purpose: Overview: Four-panel display showing: Within-mobility segment (bar chart) Segment sizes (nodes) Network density Share total mobility Cohesion: Scatter plot within-mobility y-axis segment size x-axis. Ideal segments appear upper-right (large cohesive). Points sized share mobility. Radar: Multi-dimensional comparison showing metrics normalized 0-1 scale. Useful comparing segment profiles. Heatmap: Shows metrics across levels segments. Colors indicate metric values, making patterns easy spot. Evolution: Line plots showing metric changes across hierarchical levels segment lineage.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_segment_quality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize Segment Quality Metrics — plot_segment_quality","text":"","code":"if (FALSE) { # \\dontrun{ # Generate data and run MONECA mobility_data <- generate_mobility_data(n_classes = 8, seed = 123) seg <- moneca(mobility_data, segment.levels = 3)  # Overview of level 2 quality plot_segment_quality(seg)  # Radar plot for segment comparison plot_segment_quality(seg, plot_type = \"radar\", level = 2) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"Creates series network plots showing segmentation evolves across hierarchical levels moneca analysis. \"stair plot\" provides insight progressive clustering social positions.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"","code":"plot_stair_ggraph(   segments,   levels = seq_along(segments$segment.list),   layout = NULL,   ncol = 2,   segment_naming = \"auto\",   include_first_level = TRUE,   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"segments moneca object returned moneca. levels Integer vector specifying hierarchical levels visualize. Default includes levels. layout Layout specification consistency across plots. Can : NULL (default): Use layout.matrix() consistent positioning Character string: Layout algorithm name (\"fr\", \"kk\", \"stress\", etc.) Matrix: Custom coordinate matrix node positions ncol Integer specifying number columns plot grid. Default 2. Set 1 vertical arrangement. segment_naming Specifies name segments across visualization levels. Can : Character string: \"auto\" (default), \"concat\", \"pattern\", \"custom\" -     passed segment.membership.enhanced automatic naming data.frame: Custom segment labels columns \"name\" (node names     mobility matrix) \"segment_label\" (desired custom labels). allows complete     control segment naming across hierarchical levels NULL: Uses default \"auto\" strategy data.frame provided, custom labels override automatically generated names consistently across levels. data.frame approach particularly useful stair plots maintains consistent naming across hierarchical progression. include_first_level Logical indicating whether include first level (individual classes without segmentation). Default TRUE. ... Additional arguments passed plot_moneca_ggraph.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"combine_plots = TRUE, returns combined plot grid object. combine_plots = FALSE, returns list ggplot objects, one level.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"stair plot helps visualize hierarchical nature MONECA segmentation showing larger segments higher levels break smaller, specific segments lower levels. particularly useful : Understanding segmentation process Identifying optimal levels analysis Presenting results different audiences Comparing segmentation stability across levels using consistent layout across plots, relative positions nodes remain , making easier track segments evolve.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/plot_stair_ggraph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Multi-Level Segmentation Visualization (Stair Plot) — plot_stair_ggraph","text":"","code":"if (FALSE) { # \\dontrun{ # Generate synthetic data and run MONECA mobility_data <- generate_mobility_data(n_classes = 6, seed = 123) seg <- moneca(mobility_data, segment.levels = 4)  # Basic stair plot stair_plots <- plot_stair_ggraph(seg)  # Customized stair plot with specific levels custom_stair <- plot_stair_ggraph(seg,                                  levels = c(2, 3),                                  layout = \"stress\",                                  ncol = 1) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.descriptive.moneca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","title":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","text":"Internal function formats displays detailed statistics calculated print.moneca method. function creates formatted tables showing network properties mobility statistics across hierarchical levels.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.descriptive.moneca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","text":"","code":"# S3 method for class 'descriptive.moneca' print(x, ...)"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.descriptive.moneca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","text":"x descriptive.moneca object containing calculated statistics. ... Additional arguments (currently unused).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.descriptive.moneca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","text":"NULL (called side effects - printing formatted output).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.descriptive.moneca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print Method for Descriptive MONECA Statistics — print.descriptive.moneca","text":"internal function responsible formatted display MONECA analysis results. creates several summary tables: Degree distributions (, , ) level Edge weight distributions level Diagonal mobility percentages Network density connectivity statistics","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.first_level_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Print first level summary — print.first_level_summary","title":"Print first level summary — print.first_level_summary","text":"Print first level summary","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.first_level_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print first level summary — print.first_level_summary","text":"","code":"# S3 method for class 'first_level_summary' print(x, ...)"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.first_level_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print first level summary — print.first_level_summary","text":"x first_level_summary object. ... Additional arguments (unused).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.first_level_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print first level summary — print.first_level_summary","text":"Invisibly returns object.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for moneca Objects (Enhanced) — print.moneca","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"Displays comprehensive mobility analysis results moneca clustering clear, interpretable statistics improved labeling. Output structured follow natural flow analysis overall patterns detailed metrics.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"","code":"# S3 method for class 'moneca' print(   x,   small.cell.reduction = x$small.cell.reduction,   show.degree.stats = TRUE,   digits = 1,   ... )"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"x moneca object returned moneca. small.cell.reduction Numeric threshold small cell handling. NULL, uses value moneca object. show.degree.stats Logical. TRUE (default), displays detailed degree distribution statistics hierarchical level. digits Integer. Number decimal places numeric output (default 1). ... Additional arguments (currently unused).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"Invisibly returns NULL. function called side effect   printing formatted summary.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"output organized four main sections follow analysis workflow: Section 1: OVERALL MOBILITY PATTERNS Overall Population Mobility Rate: Percentage total     population experiences form mobility (moves origin     different destination). Calculated : (total -diagonal cells) / (grand total).     rate 20 Average Mobility Concentration: Mean percentage mobility     captured significant pathways (edges relative risk > 1) across     segmentation levels. Higher values indicate mobility concentrated     fewer, stronger pathways rather dispersed randomly. Section 2: HIERARCHICAL SEGMENTATION ANALYSIS Internal Mobility Within Segments (percent): Shows percentage mobility remains within segment boundaries     level. Level 1 represents original categories (always 100     category segment). Higher levels show increasing aggregation. Values decrease higher levels segments combine different origin     categories, naturally reducing internal cohesion. High values (>70 Mobility Concentration Significant Pathways Level (percent): Percentage total mobility flowing edges relative risk > 1. Indicates much mobility follows stronger--expected pathways     versus random distribution. Higher values suggest clearer mobility structure; lower values indicate     dispersed patterns. Network Structure Level: Active Segments/Classes: Number nodes network.     Decreases higher levels categories aggregate segments. Significant Edges: Count mobility pathways relative     risk > 1. represent stronger--expected mobility connections. Network Density: Proportion possible edges exist.     Calculated : (actual edges) / (possible edges). Range 0-1. Isolated Segments: Number segments significant     connections segments. Isolates represent positions exchange     members primarily internally weak external connections. Section 3: DETAILED WEIGHTED DEGREE DISTRIBUTIONS (optional) Shows distribution statistics (Min, Q1, Median, Mean, Q3, Max) : Total Weighted Connections: Sum weighted incoming outgoing     connections (strength) node. Represents total volume mobility     flows, just count connections. Outward Mobility Strength: Sum weights outgoing edges     origin. High -strength indicates positions send large volumes     destinations, weighted relative risk. Inward Mobility Strength: Sum weights incoming edges     destination. High -strength indicates positions receive large     volumes origins, weighted relative risk. Edge Weight Distribution: Distribution relative risk values     significant edges. Values > 1 indicate mobility expected levels.     Higher values represent stronger mobility pathways.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"technical-terms","dir":"Reference","previous_headings":"","what":"Technical Terms","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"Isolate node (category segment) significant     connections nodes. mobility analysis, isolates represent     positions either high internal retention weak     exchange positions. necessarily problematic - may indicate     genuinely distinct positions. Relative Risk Ratio observed expected mobility     independence. Values > 1 indicate mobility exceeds random expectation;     < 1 indicates expectation. Used edge weights network. Network Density Proportion possible connections     actually exist. fully connected network (density = 1), every position     significant mobility every position. Low density indicates     mobility channeled specific pathways. Degree/Strength weighted networks, use strength     instead simple degree: sum edge weights connected node.     -strength = sum incoming edge weights, -strength = sum outgoing     edge weights, total strength = sum . High strength nodes handle large     volumes mobility flow, just many connections. Segmentation Level Hierarchical aggregation level. Level 1 =     original categories, Level 2 = first aggregation based cliques, etc.     Higher levels represent coarser groupings.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print Method for moneca Objects (Enhanced) — print.moneca","text":"","code":"# Generate data and run analysis mobility_data <- generate_mobility_data(n_classes = 6, seed = 42) seg <- moneca(mobility_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |============                                                          |  17% #> 29% ready! #>    |                                                                               |=======================                                               |  33%   |                                                                               |===================================                                   |  50% #> 57% ready! #>    |                                                                               |===============================================                       |  67%   |                                                                               |==========================================================            |  83% #> 86% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>  #>    |                                                                               |                                                                      |   0% #> 100% ready! #>   # Print comprehensive summary with all statistics print(seg) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================  # Hide detailed degree distributions for cleaner output print(seg, show.degree.stats = FALSE) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>    60.7    74.0    89.2   100.0  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>    79.5    74.0    89.2   100.0  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> ================================================================================  # Show more decimal places for precision print(seg, digits = 2) #>  #> ================================================================================ #>                         moneca MOBILITY ANALYSIS RESULTS                         #> ================================================================================ #>  #> OVERALL MOBILITY PATTERNS #> ------------------------------------------------------------------------------- #> Overall Population Mobility Rate:                    39.3% #> Average Mobility Concentration (all levels):         85.7% #>  #> HIERARCHICAL SEGMENTATION ANALYSIS #> ------------------------------------------------------------------------------- #>  #> Internal Mobility Within Segments (%): #> Level 1 Level 2 Level 3 Level 4  #>   60.68   74.03   89.21  100.00  #>  #> Mobility Concentration in Significant Pathways by Level (%): #> Level 1 Level 2 Level 3 Level 4  #>   79.48   74.03   89.21  100.00  #>  #> Network Structure by Level: #>                                    Level 1      Level 2      Level 3      Level 4  #> ------------------------------------------------------------------------------- #> Active Segments/Classes:                 6            3            2            1  #> Significant Edges:                       7            0            0            0  #> Network Density:                     0.233        0.000        0.000          NaN  #> Isolated Segments:                       0            3            2            1  #>  #> DETAILED WEIGHTED DEGREE DISTRIBUTIONS (STRENGTH) #> ------------------------------------------------------------------------------- #>  #> Total Weighted Connections (Strength In + Out): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.11 1.16   2.64 2.97 4.62 5.47 #> Level 2 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 3 0.00 0.00   0.00 0.00 0.00 0.00 #> Level 4 0.00 0.00   0.00 0.00 0.00 0.00 #>  #> Outward Mobility Strength (Weighted Out-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 1.04   1.21 1.48 2.09 3.12 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Inward Mobility Strength (Weighted In-Degree): #>         Min   Q1 Median Mean   Q3  Max #> Level 1   0 0.28   1.36 1.48 2.17 3.82 #> Level 2   0 0.00   0.00 0.00 0.00 0.00 #> Level 3   0 0.00   0.00 0.00 0.00 0.00 #> Level 4   0 0.00   0.00 0.00 0.00 0.00 #>  #> Edge Weight Distribution (Relative Risk Values): #>          Min   Q1 Median Mean   Q3  Max #> Level 1 1.02 1.06    1.3 1.27 1.42 1.62 #> Level 2   NA   NA     NA  NaN   NA   NA #> Level 3   NA   NA     NA  NaN   NA   NA #> Level 4   NA   NA     NA  NaN   NA   NA #>  #> ================================================================================"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca_tuning.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for MONECA Tuning Results — print.moneca_tuning","title":"Print Method for MONECA Tuning Results — print.moneca_tuning","text":"Provides formatted output auto-tuning results.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca_tuning.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for MONECA Tuning Results — print.moneca_tuning","text":"","code":"# S3 method for class 'moneca_tuning' print(x, ...)"},{"path":"https://gmontaletti.github.io/MONECA/reference/print.moneca_tuning.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for MONECA Tuning Results — print.moneca_tuning","text":"x Object class \"moneca_tuning\". ... Additional arguments (unused).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.colors.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Colors for Segments — segment.colors","title":"Generate Colors for Segments — segment.colors","text":"Creates grayscale color scheme MONECA segments based internal mobility rates. Darker colors indicate higher immobility (lower internal mobility).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.colors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Colors for Segments — segment.colors","text":"","code":"segment.colors(segments)"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.colors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Colors for Segments — segment.colors","text":"segments moneca object returned moneca.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.colors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Colors for Segments — segment.colors","text":"list color vectors, one hierarchical level.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.colors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Colors for Segments — segment.colors","text":"function calculates grayscale colors intensity reflects immobility rate within segment. Segments higher immobility (stable positions) receive darker colors.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.edges.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Segment Edge Matrix — segment.edges","title":"Extract Segment Edge Matrix — segment.edges","text":"Creates adjacency matrix representing edges segments based mobility flows. function used network visualization analysis.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.edges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Segment Edge Matrix — segment.edges","text":"","code":"segment.edges(   segments,   cut.off = 1,   mode = \"directed\",   level = NULL,   segment.reduction = NULL,   method = \"all\",   top = 3,   diagonal = NULL,   small.cell.reduction = 0 )"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.edges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Segment Edge Matrix — segment.edges","text":"segments moneca object returned moneca. cut.Numeric threshold minimum relative risk include edge. Default 1. mode Character string specifying graph mode (\"directed\" \"undirected\"). Default \"directed\". level Integer vector specifying hierarchical levels include. Default includes levels. segment.reduction Integer vector specifying levels remove internal segment edges. Default includes levels. method Character string specifying edge filtering method: \"\" (default): Include edges threshold \"top.\": Keep top outgoing edges per node \"top.\": Keep top incoming edges per node top Integer specifying many top edges keep using \"top.\" \"top.\" methods. Default 3. diagonal Controls diagonal values. NULL (default), diagonal zeroed. small.cell.reduction Numeric threshold small cell handling.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.edges.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Segment Edge Matrix — segment.edges","text":"square matrix representing edge weights nodes/segments.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","title":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","text":"Creates dataframe showing segment membership row original mobility matrix across segmentation levels positional code format.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","text":"","code":"segment.membership.dataframe(moneca_results, names = TRUE)"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","text":"moneca_results moneca object returned moneca moneca_fast. names Logical indicating whether generate descriptive labels level (default TRUE). TRUE, creates additional columns segment labels showing representative node name count members.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.dataframe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","text":"dataframe : name: name row original matrix index: index row original matrix level_X: segmentation level X (excluding level 1), segment       assignment using progressive numbering (001, 002, etc.) name_level_X: (names=TRUE) Descriptive labels level showing       representative node count members format \"NodeName (+N)\" id_full: Positional code format \"xxx.xxx.xxx\" representing hierarchical position","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.dataframe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Segment Membership Dataframe from MONECA Results — segment.membership.dataframe","text":"","code":"# Generate example data mx <- generate_mobility_data(n_classes = 5, immobility_strength = 0.7)  # Run moneca analysis seg <- moneca_fast(mx, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25%   |                                                                               |===================================                                   |  50%   |                                                                               |====================================================                  |  75%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%  # Generate membership dataframe membership_df <- segment.membership.dataframe(seg) print(membership_df) #>      name index level_2 name_level_2 level_3 name_level_3 level_4 name_level_4 #> 1 Class 1     1     002 Class 2 (+1)     002 Class 2 (+1)     001 Class 2 (+4) #> 2 Class 2     2     002 Class 2 (+1)     002 Class 2 (+1)     001 Class 2 (+4) #> 3 Class 3     3     003 Class 3 (+0)     001 Class 3 (+2)     001 Class 2 (+4) #> 4 Class 4     4     001 Class 4 (+1)     001 Class 3 (+2)     001 Class 2 (+4) #> 5 Class 5     5     001 Class 4 (+1)     001 Class 3 (+2)     001 Class 2 (+4) #>           id_full #> 1 001.002.002.001 #> 2 001.002.002.002 #> 3 001.001.003.003 #> 4 001.001.001.004 #> 5 001.001.001.005"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"Returns segment membership information additional column containing meaningful segment names derived constituent nodes. function extends segment.membership adding intelligent naming strategies aggregated segments.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"","code":"segment.membership.enhanced(   segments,   level = seq(segments$segment.list),   naming_strategy = \"auto\",   custom_names = NULL,   separator = \" + \",   max_concat_length = 2,   pattern_rules = NULL )"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"segments moneca object returned moneca. level Integer vector specifying hierarchical levels include. Default includes available levels. naming_strategy Character string specifying naming approach: \"auto\" (default): Automatic naming based segment composition \"concat\": Concatenate node names separator \"pattern\": Use pattern recognition common suffixes/prefixes \"custom\": Use user-provided names custom_names parameter custom_names Named list providing custom names specific segments. Format: list(\"level.segment\" = \"Custom Name\"), e.g., list(\"2.1\" = \"Blue Collar\") separator Character string used separate names concatenating. Default \" + \". max_concat_length Maximum number names concatenate switching pattern-based naming. Default 2. pattern_rules Enhanced pattern rules list priorities semantic categories. Default includes comprehensive occupational industry patterns (avoiding generic social class terms).","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"data frame three columns: name Character vector original category names membership Character vector indicating segment membership, formatted       \"level.segment\" (e.g., \"2.1\" level 2, segment 1) segment_label Character vector meaningful segment names derived       constituent nodes user-provided names","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"function applies different naming strategies based segment composition: Individual nodes: Keep original name unchanged Small segments (<= max_concat_length): Concatenate names Large segments: Apply pattern recognition use generic names Custom names: Override automatic naming user-provided names enhanced pattern recognition system uses weighted scoring identify occupational hierarchies, industry sectors, employment types. creates semantically meaningful names like \"Executive_Leadership\", \"Professional_Services\", \"Technical_Specialists\" based segment composition, avoiding generic terms.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.enhanced.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enhanced Segment Membership with Meaningful Names — segment.membership.enhanced","text":"","code":"if (FALSE) { # \\dontrun{ # Generate data and run analysis mob_data <- generate_mobility_data(n_classes = 6, seed = 42) seg <- moneca(mob_data, segment.levels = 3)  # Get enhanced membership with automatic naming enhanced <- segment.membership.enhanced(seg) print(enhanced) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Segment Membership Information — segment.membership","title":"Extract Segment Membership Information — segment.membership","text":"Returns data frame showing segment original category belongs across specified hierarchical levels moneca analysis.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Segment Membership Information — segment.membership","text":"","code":"segment.membership(segments, level = seq(segments$segment.list))"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Segment Membership Information — segment.membership","text":"segments moneca object returned moneca. level Integer vector specifying hierarchical levels include. Default includes available levels.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Segment Membership Information — segment.membership","text":"data frame two columns: name Character vector original category names membership Character vector indicating segment membership, formatted       \"level.segment\" (e.g., \"2.1\" level 2, segment 1)","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Segment Membership Information — segment.membership","text":"membership strings indicate hierarchical level specific segment within level. example, \"2.3\" means category belongs segment 3 level 2 hierarchy.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.membership.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Segment Membership Information — segment.membership","text":"","code":"# Generate data and run analysis mob_data <- generate_mobility_data(n_classes = 5, seed = 42) seg <- moneca(mob_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |==================                                                    |  25% #> 40% ready! #>    |                                                                               |===================================                                   |  50% #> 60% ready! #>    |                                                                               |====================================================                  |  75% #> 80% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>  #>    |                                                                               |                                                                      |   0% #> 50% ready! #>    |                                                                               |======================================================================| 100% #> 100% ready! #>   # Get membership information membership <- segment.membership(seg) print(membership) #>      name membership #> 1 Class 1        4.1 #> 2 Class 2        4.1 #> 3 Class 3        4.1 #> 4 Class 4        4.1 #> 5 Class 5        4.1  # Get membership for specific levels only membership_level2 <- segment.membership(seg, level = 2)"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate Segment Quality Metrics — segment.quality","title":"Evaluate Segment Quality Metrics — segment.quality","text":"Calculates comprehensive quality metrics segment across hierarchical levels moneca analysis. function provides detailed statistics segment cohesion, size, network properties, mobility patterns.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate Segment Quality Metrics — segment.quality","text":"","code":"segment.quality(segments, final.solution = FALSE, segment_naming = \"auto\")"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate Segment Quality Metrics — segment.quality","text":"segments moneca object returned moneca. final.solution Logical indicating whether return final (aggregated) solution unique segment. Default FALSE, returns metrics levels. segment_naming Character string data frame specifying name segments. Used create readable segment labels output. Options include: \"auto\" (default): Use simple \"Segment X\" format \"concat\": Concatenate member names \"pattern\": Use pattern-based naming \"custom\": Custom naming strategy Data frame: Must columns \"name\" \"segment_label\" custom mapping using data frame, function match original category names custom labels use segment naming. creates \"segment_label\" column output can used plotting functions.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate Segment Quality Metrics — segment.quality","text":"data frame following columns hierarchical level: Membership Segment membership identifier format \"level.segment\"       (e.g., \"2.1\" means level 2, segment 1) [Level]: Segment Integer segment identifier level [Level]: within.mobility Proportion mobility stays within       segment (diagonal/total). Higher values indicate cohesive segments.       Range: 0-1, 1 means mobility internal. [Level]: share..mobility Segment's share total mobility       system. Indicates relative importance/size segment.       Range: 0-1, values sum 1 across segments. [Level]: Density Network density within segment (proportion       possible edges exist). Higher values indicate interconnected nodes.       Range: 0-1, 1 means fully connected. [Level]: Nodes Number original categories/nodes segment [Level]: Max.path Maximum shortest path length (diameter) within       segment. Lower values indicate compact segments. [Level]: share..total Segment's share total population/observations       based marginal totals. Differs share..mobility considering       population size rather flow volume. final.solution = TRUE, returns simplified data frame   aggregated metrics unique segment.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate Segment Quality Metrics — segment.quality","text":"function evaluates multiple aspects segmentation quality: Cohesion Metrics: within.mobility: Key quality indicator - proportion mobility     contained within segment boundaries. Values > 0.7 suggest strong segments. Density: interconnected nodes within segment.     Dense segments (> 0.5) indicate tight communities. Size Metrics: share..mobility: Relative importance based flow volume share..total: Relative size based population Nodes: Absolute size terms categories Structure Metrics: Max.path: Network diameter - smaller values indicate     compact, well-connected segments output ordered final level's segment sizes easier interpretation.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/segment.quality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate Segment Quality Metrics — segment.quality","text":"","code":"# Generate data and run MONECA mobility_data <- generate_mobility_data(n_classes = 8, seed = 123) seg <- moneca(mobility_data, segment.levels = 3) #>    |                                                                               |                                                                      |   0%   |                                                                               |=======                                                               |  10%   |                                                                               |==============                                                        |  20% #> 27% ready! #>    |                                                                               |=====================                                                 |  30%   |                                                                               |============================                                          |  40%   |                                                                               |===================================                                   |  50% #> 55% ready! #>    |                                                                               |==========================================                            |  60%   |                                                                               |=================================================                     |  70%   |                                                                               |========================================================              |  80% #> 82% ready! #>    |                                                                               |===============================================================       |  90%   |                                                                               |======================================================================| 100% #> 100% ready! #>  #>    |                                                                               |                                                                      |   0% #> 100% ready! #>   # Get detailed quality metrics for all levels quality_full <- segment.quality(seg) print(quality_full) #>         Membership 1: Segment 1: within.mobility 1: share.of.mobility #> Class 5        4.1          5              0.648                0.284 #> Class 4        4.1          4              0.491                0.139 #> Class 3        4.1          3              0.108                0.054 #> Class 6        4.1          6              0.567                0.158 #> Class 7        4.1          7              0.319                0.048 #> Class 8        4.1          8              0.290                0.021 #> Class 2        4.1          2              0.676                0.215 #> Class 1        4.1          1              0.559                0.082 #>         1: Density 1: Nodes 1: Max.path 1: share.of.total 2: Segment #> Class 5        NaN        1           0             0.284          3 #> Class 4        NaN        1           0             0.139          3 #> Class 3        NaN        1           0             0.054          3 #> Class 6        NaN        1           0             0.158          1 #> Class 7        NaN        1           0             0.048          1 #> Class 8        NaN        1           0             0.021          1 #> Class 2        NaN        1           0             0.215          2 #> Class 1        NaN        1           0             0.082          2 #>         2: within.mobility 2: share.of.mobility 2: Density 2: Nodes 2: Max.path #> Class 5              0.777                0.476  0.3333333        3           1 #> Class 4              0.777                0.476  0.3333333        3           1 #> Class 3              0.777                0.476  0.3333333        3           1 #> Class 6              0.692                0.227  0.8333333        3           2 #> Class 7              0.692                0.227  0.8333333        3           2 #> Class 8              0.692                0.227  0.8333333        3           2 #> Class 2              0.825                0.297  1.0000000        2           1 #> Class 1              0.825                0.297  1.0000000        2           1 #>         2: share.of.total 3: Segment 3: within.mobility 3: share.of.mobility #> Class 5             0.476          1              0.926                0.703 #> Class 4             0.476          1              0.926                0.703 #> Class 3             0.476          1              0.926                0.703 #> Class 6             0.227          1              0.926                0.703 #> Class 7             0.227          1              0.926                0.703 #> Class 8             0.227          1              0.926                0.703 #> Class 2             0.297         NA                 NA                   NA #> Class 1             0.297         NA                 NA                   NA #>         3: Density 3: Nodes 3: Max.path 3: share.of.total 4: Segment #> Class 5  0.2666667        6           3             0.703          1 #> Class 4  0.2666667        6           3             0.703          1 #> Class 3  0.2666667        6           3             0.703          1 #> Class 6  0.2666667        6           3             0.703          1 #> Class 7  0.2666667        6           3             0.703          1 #> Class 8  0.2666667        6           3             0.703          1 #> Class 2         NA       NA          NA                NA          1 #> Class 1         NA       NA          NA                NA          1 #>         4: within.mobility 4: share.of.mobility 4: Density 4: Nodes 4: Max.path #> Class 5                  1                    1  0.2142857        8           3 #> Class 4                  1                    1  0.2142857        8           3 #> Class 3                  1                    1  0.2142857        8           3 #> Class 6                  1                    1  0.2142857        8           3 #> Class 7                  1                    1  0.2142857        8           3 #> Class 8                  1                    1  0.2142857        8           3 #> Class 2                  1                    1  0.2142857        8           3 #> Class 1                  1                    1  0.2142857        8           3 #>         4: share.of.total #> Class 5                 1 #> Class 4                 1 #> Class 3                 1 #> Class 6                 1 #> Class 7                 1 #> Class 8                 1 #> Class 2                 1 #> Class 1                 1  # Get only final solution summary quality_final <- segment.quality(seg, final.solution = TRUE) print(quality_final) #>         Membership within.mobility share.of.mobility   Density Nodes Max.path #> Class 5        4.1               1                 1 0.2142857     8        3 #>         share.of.total Segment segment_label #> Class 5              1     4.1     Segment 1  # Use custom segment naming with final solution custom_names <- data.frame(   name = c(\"Class1\", \"Class2\", \"Class3\"),   segment_label = c(\"Executive\", \"Professional\", \"Technical\"),   stringsAsFactors = FALSE ) quality_labeled <- segment.quality(seg, final.solution = TRUE, segment_naming = custom_names) print(quality_labeled) #>         Membership within.mobility share.of.mobility   Density Nodes Max.path #> Class 5        4.1               1                 1 0.2142857     8        3 #>         share.of.total Segment segment_label #> Class 5              1     4.1     Segment 1  if (FALSE) { # \\dontrun{ # Visualize segment quality plot_segment_quality(seg) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment_matrix_optimized.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast Segment Matrix Aggregation — segment_matrix_optimized","title":"Fast Segment Matrix Aggregation — segment_matrix_optimized","text":"Aggregates mobility matrix segment membership using optimized matrix operations.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment_matrix_optimized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast Segment Matrix Aggregation — segment_matrix_optimized","text":"","code":"segment_matrix_optimized(mx, membership)"},{"path":"https://gmontaletti.github.io/MONECA/reference/segment_matrix_optimized.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast Segment Matrix Aggregation — segment_matrix_optimized","text":"mx Mobility matrix membership Factor integer vector segment assignments","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/segment_matrix_optimized.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast Segment Matrix Aggregation — segment_matrix_optimized","text":"Aggregated matrix segments","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/setup_parallel_processing.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup Parallel Processing for Auto-Tuning — setup_parallel_processing","title":"Setup Parallel Processing for Auto-Tuning — setup_parallel_processing","text":"Configures parallel processing cluster enhanced performance.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/setup_parallel_processing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup Parallel Processing for Auto-Tuning — setup_parallel_processing","text":"","code":"setup_parallel_processing(n_cores = NULL, verbose = FALSE)"},{"path":"https://gmontaletti.github.io/MONECA/reference/setup_parallel_processing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup Parallel Processing for Auto-Tuning — setup_parallel_processing","text":"n_cores Number cores use. NULL, auto-detects optimal number. verbose Logical indicating whether print setup messages.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/setup_parallel_processing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Setup Parallel Processing for Auto-Tuning — setup_parallel_processing","text":"List containing parallel setup information.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Legacy Multi-Level Stair Plot — stair.plot","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"Creates series plots showing segmentation evolves across hierarchical levels using legacy ggplot2 system. modern stair plots, use plot_stair_ggraph.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"","code":"stair.plot(   segments,   level = NULL,   layout = NULL,   edges = NULL,   mode = \"directed\",   vertex.size = \"total\",   vertex.alpha = 1,   vertex.color = \"black\",   vertex.shape = 21,   show.edges = TRUE,   edge.size = 0.5,   edge.alpha = \"weight\",   edge.color = \"black\",   edge.line = \"solid\",   show.text = FALSE,   text.size = 3,   text.color = \"black\",   text.alpha = 1,   text.vjust = 1.5,   show.borders = TRUE,   border.size = 1,   border.fill = NA,   border.color = \"black\",   border.alpha = 1,   border.padding = 1,   border.text = TRUE,   border.labels = \"segments\",   border.text.size = 4,   border.text.color = \"black\",   border.text.vjust = -0.2,   border.text.hjust = 1,   midpoints = TRUE,   midpoint.arrow = arrow(angle = 20, length = unit(0.33, \"cm\"), ends = \"last\", type =     \"closed\"),   edge.text = FALSE,   edge.text.size = 3,   edge.text.alpha = 0.9,   legend = \"side\",   level.title = \"Level\" )"},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"segments moneca object returned moneca. level Integer vector specifying levels include stair plot. layout Layout matrix consistent node positioning across plots. edges Edge matrix specification network edges. mode Character string specifying graph mode (\"directed\" \"undirected\"). vertex.size Specification vertex sizes (\"total\" numeric). vertex.alpha Numeric transparency vertices (0-1). vertex.color Color specification vertex borders. vertex.shape Numeric shape code vertices. show.edges Logical indicating whether display edges. edge.size Numeric size edges. edge.alpha Transparency edges (\"weight\" numeric). edge.color Color specification edges. edge.line Line type edges (\"solid\", \"dashed\", etc.). show.text Logical indicating whether show vertex labels. text.size Numeric size text labels. text.color Color text labels. text.alpha Transparency text labels. text.vjust Vertical adjustment text labels. show.borders Logical indicating whether show segment boundaries. border.size Size segment borders. border.fill Fill color segment boundaries. border.color Color segment border lines. border.alpha Transparency segment borders. border.padding Padding around segment boundaries. border.text Logical indicating whether show segment labels. border.labels Specification segment labels. border.text.size Size segment labels. border.text.color Color segment labels. border.text.vjust Vertical adjustment segment labels. border.text.hjust Horizontal adjustment segment labels. midpoints Logical indicating whether show edge midpoints. midpoint.arrow Logical indicating whether show arrows midpoints. edge.text Logical indicating whether show edge labels. edge.text.size Size edge labels. edge.text.alpha Transparency edge labels. legend Position specification legend. level.title Specification level titles.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"list ggplot2 objects, one segmentation level.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"function creates multiple plots showing progression segmentation across hierarchical levels. plot uses layout maintain consistency, making easy see segments merge split across levels. Note: function maintained backward compatibility requires eliter package. new analyses, use plot_stair_ggraph offers better performance modern styling.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/stair.plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Legacy Multi-Level Stair Plot — stair.plot","text":"","code":"if (FALSE) { # \\dontrun{ # Using synthetic data mobility_data <- generate_mobility_data(n_classes = 6, seed = 123) seg <- moneca(mobility_data, segment.levels = 3) plots <- stair.plot(seg) plots[[2]]  # Display second level  # Customized stair plot custom_stairs <- stair.plot(seg,                            level = c(2, 3, 4),                            vertex.size = \"total\",                            show.borders = TRUE,                            border.text.size = 5) } # }"},{"path":"https://gmontaletti.github.io/MONECA/reference/vertex.mobility.html","id":null,"dir":"Reference","previous_headings":"","what":"Vertex mobility — vertex.mobility","title":"Vertex mobility — vertex.mobility","text":"Calculate mobility metrics vertex network.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/vertex.mobility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vertex mobility — vertex.mobility","text":"","code":"vertex.mobility(segments)"},{"path":"https://gmontaletti.github.io/MONECA/reference/vertex.mobility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vertex mobility — vertex.mobility","text":"segments moneca object moneca().","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/vertex.mobility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vertex mobility — vertex.mobility","text":"data frame mobility metrics vertex.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Relative Risk Weight Matrix — weight.matrix","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"Converts mobility table relative risk matrix comparing observed mobility flows expected flows independence. matrix forms basis network construction moneca analysis.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"","code":"weight.matrix(   mx,   cut.off = 1,   symmetric = TRUE,   diagonal = NULL,   small.cell.reduction = 0,   auto_tune = FALSE,   tune_method = \"stability\",   tune_verbose = FALSE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"mx mobility table (square matrix) row column totals last row/column. cut.Numeric threshold minimum relative risk. Values set NA. Default 1. symmetric Logical indicating whether force matrix symmetric adding transpose. Default TRUE. diagonal Controls diagonal values. NULL (default), diagonal set NA. Otherwise, diagonal values preserved. small.cell.reduction Numeric value handling small cells. Cells counts threshold set 0 calculating relative risks. Default 0. auto_tune Logical indicating whether automatically tune small.cell.reduction parameter. TRUE, uses optimization methods select best value. Default FALSE. tune_method Character string specifying auto-tuning method auto_tune TRUE. Options \"stability\" (default), \"quality\", \"performance\". See auto_tune_small_cell_reduction details. tune_verbose Logical indicating whether print verbose messages auto-tuning. Default FALSE.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"matrix relative risks : Values > 1 indicate mobility expected levels Values < 1 indicate mobility expected levels Values cut.set NA auto_tune TRUE, matrix includes additional attributes: auto_tuning: Complete results auto-tuning process auto_tuned: Logical flag indicating auto-tuning used tuned_small_cell_reduction: selected optimal value","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"relative risk cell (,j) calculated : $$RR_{ij} = O_{ij} / E_{ij}$$ \\(O_{ij}\\) observed count \\(E_{ij}\\) expected count independence: \\(E_{ij} = (n_i * n_j) / N\\)","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/reference/weight.matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Relative Risk Weight Matrix — weight.matrix","text":"","code":"# Create a simple mobility table mob_table <- matrix(c(100, 20, 10, 130,                       15, 80, 25, 120,                         5,  10, 50,  65,                       120, 110, 85, 315),                      nrow = 4, byrow = TRUE) rownames(mob_table) <- colnames(mob_table) <- c(\"A\", \"B\", \"C\", \"Total\")  # Calculate relative risk matrix rr_matrix <- weight.matrix(mob_table, cut.off = 1.5)  # Use automatic tuning for small.cell.reduction parameter rr_matrix_tuned <- weight.matrix(mob_table, auto_tune = TRUE,                                   tune_method = \"stability\", tune_verbose = TRUE) #> Auto-tuning small.cell.reduction parameter using method: stability #> Parallel decision: NO ( 1 cores) #> Starting auto-tuning for small.cell.reduction parameter... #> Method: stability  #> Matrix size: 4 x 4  #> Parallel processing: NO  #> Generated 20 candidate values #>  #> Evaluating 20 candidates using optimized batch processing... #>    |                                                                               |                                                                      |   0%   |                                                                               |====                                                                  |   5%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |=======                                                               |  10%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==========                                                            |  15%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==============                                                        |  20%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |==================                                                    |  25%   |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |                                                                      |   0% #>    |                                                                               |=====================                                                 |  30%   |                                                                               |========================                                              |  35%   |                                                                               |============================                                          |  40%   |                                                                               |================================                                      |  45%   |                                                                               |===================================                                   |  50%   |                                                                               |======================================                                |  55%   |                                                                               |==========================================                            |  60%   |                                                                               |==============================================                        |  65%   |                                                                               |=================================================                     |  70%   |                                                                               |====================================================                  |  75%   |                                                                               |========================================================              |  80%   |                                                                               |============================================================          |  85%   |                                                                               |===============================================================       |  90%   |                                                                               |==================================================================    |  95%   |                                                                               |======================================================================| 100% #>  #>  #> Batch evaluation completed #> - Valid results: 5 of 20  #> - Mean stability score: 0.25  #> - Mean quality score: 0.154  #> - Weight matrices cached: 20  #>  #> Optimal small.cell.reduction: 0  #> Total tuning time: 10.8 seconds #> Selected optimal small.cell.reduction: 0  # Check tuning results if (attr(rr_matrix_tuned, \"auto_tuned\", exact = TRUE)) {   optimal_value <- attr(rr_matrix_tuned, \"tuned_small_cell_reduction\", exact = TRUE)   message(\"Optimal small.cell.reduction: \", optimal_value) } #> Optimal small.cell.reduction: 0"},{"path":"https://gmontaletti.github.io/MONECA/reference/weight_matrix_optimized.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimized Weight Matrix Calculation — weight_matrix_optimized","title":"Optimized Weight Matrix Calculation — weight_matrix_optimized","text":"Vectorized computation relative risk weight matrix optional data.table acceleration large matrices.","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight_matrix_optimized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimized Weight Matrix Calculation — weight_matrix_optimized","text":"","code":"weight_matrix_optimized(   mx,   cut.off = 1,   small.cell.reduction = 0,   symmetric = TRUE )"},{"path":"https://gmontaletti.github.io/MONECA/reference/weight_matrix_optimized.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimized Weight Matrix Calculation — weight_matrix_optimized","text":"mx Mobility matrix totals cut.Minimum relative risk threshold small.cell.reduction Minimum cell count symmetric Whether symmetrize matrix","code":""},{"path":"https://gmontaletti.github.io/MONECA/reference/weight_matrix_optimized.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimized Weight Matrix Calculation — weight_matrix_optimized","text":"Weight matrix NA values cutoff","code":""},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-9-2","dir":"Changelog","previous_headings":"Maintenance Release","what":"Bug Fixes","title":"moneca 0.9.2","text":"Fixed moneca_fast() algorithmic correctness: function now produces identical results moneca() implementing consistent clique progression logic. Previously, moneca_fast() sometimes miss valid cliques moneca() find, leading different clustering outcomes. Fixed print.moneca() edge case: print method now correctly handles 1x1 matrices without errors. Previously, attempting print moneca object single-element matrix level cause indexing error.","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"documentation-0-9-2","dir":"Changelog","previous_headings":"Maintenance Release","what":"Documentation","title":"moneca 0.9.2","text":"Added performance analyses: Comprehensive benchmarking comparing moneca(), moneca_fast(), moneca_parallel() implementations. Results show three now produce identical outputs offering different performance characteristics various dataset sizes.","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"project-maintenance-0-9-2","dir":"Changelog","previous_headings":"Maintenance Release","what":"Project Maintenance","title":"moneca 0.9.2","text":"Cleaned repository structure: Moved development scripts, benchmarks, analysis files reference directory maintain clean R package structure.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"maintenance-release-0-9-1","dir":"Changelog","previous_headings":"","what":"Maintenance Release","title":"moneca 0.9.1","text":"Version bump maintenance documentation updates core functionality remains stable v0.9.0","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"breaking-changes-0-9-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"moneca 0.9.0","text":"Removed moneca_fast_fixed() function: experimental function outdated inconsistent v0.9.0 fixes. Users use moneca_fast() instead, now includes optimizations use_maximal_cliques parameter explicit control. Fixed clique detection inconsistencies across implementations: three implementations (moneca(), moneca_fast(), moneca_parallel()) now use cliques default algorithmic correctness reproducibility. Previously: moneca() moneca_parallel() silently switching maximal cliques graphs edge_density > 0.6 && n_vertices > 15 moneca_fast() always using maximal cliques caused three implementations produce different clustering results New explicit user control: Added use_maximal_cliques parameter three functions: Default: FALSE (use cliques - algorithmic fidelity) Set TRUE performance optimization dense graphs automatic switching - user makes explicit choice Removed automatic fallback logic igraph compatibility layer prevent unintended behavior changes","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"impact-0-9-0","dir":"Changelog","previous_headings":"","what":"Impact","title":"moneca 0.9.0","text":"Scientific correctness: implementations now produce identical results default Reproducibility: Results consistent across moneca(), moneca_fast(), moneca_parallel() Performance: Users dense graphs can explicitly enable use_maximal_cliques=TRUE Migration: relying previous behavior, set use_maximal_cliques=TRUE explicitly","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-9-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.9.0","text":"Algorithm equivalence tests: Added comprehensive test suite (test-algorithm-equivalence.R) validating implementations produce identical results","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-9-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.9.0","text":"Fixed architectural issue wrapper layer (igraph_compatibility.R) overriding algorithm-level clique selection decisions Removed conflicting threshold checks (0.6/15 wrapper vs 0.7/20 algorithm layer) Changed moneca_fast() default min.density 0.01 0 (disabled) ensure algorithmic fidelity. Users wanting early stopping optimization can explicitly set min.density > 0.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-8-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.8.1","text":"Fixed calculate_gini() Gini coefficient calculation: function now correctly includes zero values inequality calculation, aligning standard mathematical definition documented behavior. Previously, function incorrectly filtered zeros calculation, led underestimating inequality distributions isolates highly centralized networks (e.g., star networks). fix improves accuracy network structure metrics cutoff sensitivity analysis.","code":""},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"temporal-analysis-framework-0-7-0","dir":"Changelog","previous_headings":"Major New Features","what":"Temporal Analysis Framework","title":"moneca 0.7.0","text":"moneca_temporal(): Moving window clustering time series mobility matrices Maintains stable segment labels across time periods using Hungarian algorithm Tracks segment evolution transitions time Supports multiple aggregation methods (mean, sum, weighted) temporal windows Parallel processing support efficient temporal analysis temporal_stability_analysis(): Comprehensive stability metrics time assess_clustering_stability_parallel(): Multi-core stability evaluation Tracks clustering consistency across different time windows Provides stability scores temporal robustness metrics plot_temporal_segments(): Network evolution visualization across time plot_alluvial_diagram(): Flow-based visualization segment transitions plot_segment_timeline(): Temporal progression individual segments plot_transition_heatmap(): Heatmap visualization segment transitions plot_stability_metrics(): Temporal stability trend visualization aggregate_mobility_window(): Efficient temporal window aggregation match_segments_across_time(): Intelligent segment matching time periods compute_transition_matrix(): Segment--segment transition analysis export_node_trajectories(): Node-level temporal trajectory extraction","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"enhanced-documentation-0-7-0","dir":"Changelog","previous_headings":"Major New Features","what":"Enhanced Documentation","title":"moneca 0.7.0","text":"Added example_temporal_analysis.R practical workflows Complete documentation temporal functions roxygen2 Integration examples showing temporal analysis auto-tuning Performance optimization guides large temporal datasets test-temporal-clustering.R: Core temporal functionality validation test-temporal-stability.R: Stability analysis testing Comprehensive edge case handling error validation","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"temporal-processing-optimization-0-7-0","dir":"Changelog","previous_headings":"Performance Improvements","what":"Temporal Processing Optimization","title":"moneca 0.7.0","text":"Parallel temporal analysis: Multi-core processing temporal windows Memory-efficient aggregation: Optimized matrix operations large time series Progressive stability assessment: Efficient bootstrap-based temporal stability Caching system: Avoid redundant computations across temporal windows","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"temporal-analysis-integration-0-7-0","dir":"Changelog","previous_headings":"API Enhancements","what":"Temporal Analysis Integration","title":"moneca 0.7.0","text":"temporal functions integrate seamlessly existing moneca workflow Temporal results maintain full compatibility standard moneca objects Enhanced print methods temporal analysis results Comprehensive progress reporting long-running temporal analyses","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-s3-classes-0-7-0","dir":"Changelog","previous_headings":"API Enhancements","what":"New S3 Classes","title":"moneca 0.7.0","text":"moneca_temporal: Primary temporal analysis results object temporal_stability: Stability analysis results specialized methods Custom print methods clear temporal result interpretation","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"breaking-changes-0-7-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"moneca 0.7.0","text":"None - Full backward compatibility maintained. temporal functionality additive.","code":""},{"path":[]},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"comprehensive-auto-tuning-framework-0-6-0","dir":"Changelog","previous_headings":"Major New Features","what":"Comprehensive Auto-Tuning Framework","title":"moneca 0.6.0","text":"Automatic selection optimal small.cell.reduction parameter values Six sophisticated optimization methods available Eliminates manual parameter selection improves clustering quality Fully integrated main MONECA functions stability: Bootstrap-based stability assessment (recommended default) quality: Clustering quality optimization using silhouette modularity performance: Balanced approach optimizing quality vs computational speed pareto: Multi-objective optimization Pareto frontier analysis cross_validation: K-fold cross-validation conservative parameter selection bayesian: Gaussian Process optimization (requires GPfit package) moneca(): Core function auto_tune auto_tune_method parameters moneca_fast(): Optimized version auto-tuning capabilities moneca_fast_fixed(): Fixed-algorithm version auto-tuning moneca_parallel(): Parallel processing version auto-tuning weight.matrix(): Weight matrix computation parameter optimization weight.matrix.parallel(): Parallel weight matrix auto-tuning","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"core-auto-tuning-functions-0-6-0","dir":"Changelog","previous_headings":"New Functions","what":"Core Auto-Tuning Functions","title":"moneca 0.6.0","text":"auto_tune_small_cell_reduction(): Main auto-tuning function comprehensive optimization strategies auto_tune_small_cell_reduction_enhanced(): Enhanced version advanced features performance improvements generate_candidate_values(): Intelligent candidate parameter generation using data-driven methods assess_clustering_stability(): Bootstrap-based stability assessment parameter evaluation compute_tuning_metrics(): Comprehensive clustering quality metrics computation compute_extended_quality_metrics(): Extended quality assessment additional measures select_optimal_parameter(): Parameter selection multiple optimization strategies","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"multi-objective-optimization-0-6-0","dir":"Changelog","previous_headings":"New Functions","what":"Multi-Objective Optimization","title":"moneca 0.6.0","text":"pareto_optimization(): Multi-objective optimization Pareto frontier analysis compute_pareto_front(): Pareto front computation quality/performance trade-offs bayesian_parameter_optimization(): Bayesian optimization using Gaussian Processes cross_validation_tuning(): Cross-validation based parameter selection adaptive_candidate_generation(): Dynamic candidate generation based search progress","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"performance-optimization-0-6-0","dir":"Changelog","previous_headings":"New Functions","what":"Performance Optimization","title":"moneca 0.6.0","text":"parallel_stability_assessment(): Multi-core stability assessment faster tuning cached_weight_matrix_computation(): Caching system repeated weight matrix calculations performance_aware_tuning(): Speed-optimized tuning large datasets early_stopping_optimization(): Early termination efficient candidate screening","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"visualization-and-analysis-0-6-0","dir":"Changelog","previous_headings":"New Functions","what":"Visualization and Analysis","title":"moneca 0.6.0","text":"plot_tuning_results(): Comprehensive visualization auto-tuning results plot_pareto_front(): Pareto frontier visualization multi-objective results parameter_sensitivity_plot(): Sensitivity analysis visualization tuning_convergence_plot(): Convergence analysis optimization methods","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-vignettes-0-6-0","dir":"Changelog","previous_headings":"Enhanced Documentation","what":"New Vignettes","title":"moneca 0.6.0","text":"Detailed explanation auto-tuning methods Performance comparison benchmarking Best practices method selection guidelines Advanced use cases troubleshooting Real-world examples /comparisons Practical examples showing manual vs auto-tuned results Method comparison visualizations Parameter selection guidelines Performance optimization tips","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"enhanced-function-documentation-0-6-0","dir":"Changelog","previous_headings":"Enhanced Documentation","what":"Enhanced Function Documentation","title":"moneca 0.6.0","text":"Complete roxygen2 documentation auto-tuning functions Comprehensive examples demonstrating optimization methods Cross-references related functions Parameter selection guidance best practices","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"backward-compatibility-0-6-0","dir":"Changelog","previous_headings":"API Enhancements","what":"Backward Compatibility","title":"moneca 0.6.0","text":"existing functions maintain full backward compatibility Auto-tuning opt-(auto_tune = FALSE default) Manual parameter specification continues work unchanged breaking changes existing workflows","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-parameters-across-main-functions-0-6-0","dir":"Changelog","previous_headings":"API Enhancements","what":"New Parameters Across Main Functions","title":"moneca 0.6.0","text":"auto_tune: Enable/disable automatic parameter optimization auto_tune_method: Select optimization strategy n_trials: Number trials stability assessment performance_weight: Balance quality speed (0-1 scale) candidate_values: Custom parameter ranges testing seed: Reproducibility control optimization verbose: Progress reporting auto-tuning parallel_cores: Multi-core processing faster optimization","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"auto-tuning-result-attributes-0-6-0","dir":"Changelog","previous_headings":"API Enhancements","what":"Auto-Tuning Result Attributes","title":"moneca 0.6.0","text":"auto_tune_result: Complete optimization results best_parameter: Selected optimal parameter value best_score: Optimization score achieved method: Auto-tuning method used evaluation_time: Time spent optimization all_results: Complete candidate evaluation results","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"computational-efficiency-0-6-0","dir":"Changelog","previous_headings":"Performance Improvements","what":"Computational Efficiency","title":"moneca 0.6.0","text":"Multi-core processing: Parallel evaluation parameter candidates Caching system: Avoid redundant weight matrix computations Early stopping: Intelligent termination faster optimization Memory optimization: Efficient handling large mobility matrices Progress reporting: Real-time feedback long-running optimizations","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"speed-optimizations-0-6-0","dir":"Changelog","previous_headings":"Performance Improvements","what":"Speed Optimizations","title":"moneca 0.6.0","text":"Performance-aware tuning method time-constrained scenarios Adaptive candidate generation reducing unnecessary evaluations Optimized stability assessment using efficient resampling strategies Parallel processing support across auto-tuning methods","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"enhanced-clustering-assessment-0-6-0","dir":"Changelog","previous_headings":"Quality Improvements","what":"Enhanced Clustering Assessment","title":"moneca 0.6.0","text":"Multiple quality metrics: silhouette score, modularity, clustering coefficient Network density connectivity analysis Stability assessment across data perturbations Cross-validation robust parameter selection Extended quality metrics comprehensive evaluation","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"robust-optimization-0-6-0","dir":"Changelog","previous_headings":"Quality Improvements","what":"Robust Optimization","title":"moneca 0.6.0","text":"Multiple independent trials stability assessment Bootstrap resampling robust quality estimation Cross-validation prevent overfitting Multi-objective optimization considering multiple criteria simultaneously","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"dependencies-and-compatibility-0-6-0","dir":"Changelog","previous_headings":"Technical Infrastructure","what":"Dependencies and Compatibility","title":"moneca 0.6.0","text":"Added GPfit Suggests Bayesian optimization (optional) Enhanced parallel processing using parallel package Maintained full igraph compatibility (>= 1.3.0) auto-tuning functions work existing MONECA data structures","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"code-architecture-0-6-0","dir":"Changelog","previous_headings":"Technical Infrastructure","what":"Code Architecture","title":"moneca 0.6.0","text":"Modular auto-tuning framework clean separation concerns Consistent API across optimization methods Comprehensive error handling validation Extensive unit tests auto-tuning functionality","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"for-new-users-0-6-0","dir":"Changelog","previous_headings":"Migration Guide","what":"For New Users","title":"moneca 0.6.0","text":"","code":"# Recommended workflow with auto-tuning library(moneca) data <- generate_mobility_data(n_classes = 6, seed = 123)  # Use stability method for general analysis result <- moneca(data, segment.levels = 2,                   auto_tune = TRUE, auto_tune_method = \"stability\")  # Check auto-tuning results auto_info <- attr(result, \"auto_tune_result\") print(paste(\"Optimal parameter:\", auto_info$best_parameter))"},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"for-existing-users-0-6-0","dir":"Changelog","previous_headings":"Migration Guide","what":"For Existing Users","title":"moneca 0.6.0","text":"Existing code continues work unchanged Add auto_tune = TRUE enable optimization Compare results: moneca(data, auto_tune = TRUE) vs manual parameters Gradual migration: test auto-tuning subset analyses first","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"breaking-changes-0-6-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"moneca 0.6.0","text":"None - Full backward compatibility maintained","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-5-9","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.5.9","text":"New optimized implementation adaptive clustering strategies Automatic algorithm selection based graph density Hybrid approach combining maximal clique enumeration greedy processing Maintains full API compatibility existing moneca functions three implementations (original, fast, fast_fixed) remain active available Implemented find.segments.greedy() high-density graphs (density > 0.8) Optimized clique membership matrix processing moderate-sized problems Direct clique testing large-scale problems reduce memory usage Early stopping conditions based edge density thresholds","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"performance-improvements-0-5-9","dir":"Changelog","previous_headings":"","what":"Performance Improvements","title":"moneca 0.5.9","text":"Resolved exponential clique explosion issue caused hanging 270x270+ matrices Performance improvement: reduces computation time hours seconds large matrices Memory-efficient processing sparse matrix support Enhanced progress reporting error handling large-scale analyses Density > 0.8: Uses greedy edge processing (similar original moneca approach) Moderate density: Uses maximal clique enumeration size limits Sparse networks: Early termination individual node segments Automatic fallback mechanisms ensure robust performance across network types","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"technical-improvements-0-5-9","dir":"Changelog","previous_headings":"","what":"Technical Improvements","title":"moneca 0.5.9","text":"Robust version detection igraph >= 1.3.0 Automatic function mapping old new igraph APIs Custom wrapper functions consistent behavior across versions existing functions continue work unchanged Identical output structure format across implementations Parameter compatibility ensures seamless migration implementations","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-5-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.5.1","text":"Resolved parameter conflict ‘show_segments’ passed multiple times plot_moneca_ggraph() Fixed duplicate parameter passing caused vignette build failures Improved parameter handling stair plot visualization function","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-5-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.5.0","text":"plot_moneca_ggraph(), plot_ego_ggraph(), plot_stair_ggraph() now support advanced segment naming options Added support custom dataframe-based segment labeling via segment_naming parameter Can now provide dataframe segment label columns custom segment names Maintains full backward compatibility existing boolean string options Enhanced documentation comprehensive examples naming options","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-5-0","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.5.0","text":"Support dataframe input: data.frame(segment = c(1, 2), label = c(\"Group \", \"Group B\")) Automatic matching segment numbers custom labels Robust error handling invalid dataframe formats Clear validation messages proper dataframe structure plotting function examples now demonstrate new segment naming capabilities Enhanced vignette practical examples custom segment labeling Improved function documentation detailed parameter descriptions","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"technical-changes-0-5-0","dir":"Changelog","previous_headings":"","what":"Technical Changes","title":"moneca 0.5.0","text":"Enhanced parameter validation segment naming options Improved error messages invalid segment naming inputs Better integration custom labels existing plotting workflows","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"major-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Major Changes","title":"moneca 0.4.0","text":"references updated throughout codebase Installation command now: install_github(\"gmontaletti/moneca\") Load : library(moneca) now maintained fork original MONECA package Full attribution original authors preserved Active maintenance development continues Jonas Touboel: Original algorithm design methodology Anton Grau Larsen: Original package development implementation Giampaolo Montaletti: Current maintainer, modernization, new features","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"documentation-updates-0-4-0","dir":"Changelog","previous_headings":"","what":"Documentation Updates","title":"moneca 0.4.0","text":"README.md: Added comprehensive “Fork” section : Clear explanation fork relationship original MONECA Full credits original authors Summary key improvements modernizations Updated installation instructions DESCRIPTION: Updated proper Authors@R field ORCID information Package documentation: Updated throughout reflect new package name","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"technical-notes-0-4-0","dir":"Changelog","previous_headings":"","what":"Technical Notes","title":"moneca 0.4.0","text":"existing functionality remains unchanged Backward compatibility maintained functions breaking changes user-facing APIs Package namespace updated moneca throughout","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-3-3","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.3.3 (former MONECA)","text":"print.moneca() now uses strength (weighted degree) instead simple degree counts Statistics now represent mobility volume rather just connection counts accurate representation node importance weighted mobility networks Updated documentation explains difference degree strength Section renamed “Detailed Weighted Degree Distributions (Strength)”","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"technical-changes-0-3-3","dir":"Changelog","previous_headings":"","what":"Technical Changes","title":"moneca 0.3.3 (former MONECA)","text":"Replaced degree() strength() network statistics calculations “Total Weighted Connections (Strength + )” “Outward Mobility Strength (Weighted -Degree)” “Inward Mobility Strength (Weighted -Degree)” Enhanced technical documentation strength vs degree definitions","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"breaking-changes-0-3-2","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"moneca 0.3.2","text":"Removed moneca_comprehensive_analysis() - functionality integrated enhanced print method Removed segment_mobility_analysis() - use standard analysis functions instead functions experimental better served existing core functions","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-3-2","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.3.2","text":"Now displays previously hidden statistics default Clearer labeling organization output Shows level-specific mobility concentration (just average) Includes detailed degree distributions show.degree.stats = TRUE (default) Better formatted output clear section headers New vignette: “moneca-statistics” explaining statistics detail","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"documentation-0-3-2","dir":"Changelog","previous_headings":"","what":"Documentation","title":"moneca 0.3.2","text":"Comprehensive guide interpreting moneca statistics Clear explanations metric examples Practical interpretation guidelines","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-3-1","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.3.1","text":"Segment-level mobility analysis: New segment_mobility_analysis() function Enhanced dendrogram visualization: Improved plot_moneca_dendrogram() better styling","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.3.0","text":"Perfect dendrogram visualization: Zero crossing lines hierarchical plots Comprehensive analysis function: New moneca_comprehensive_analysis()","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-9","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.9","text":"Enhanced documentation visualizations Better error handling analysis functions","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-2-8","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.2.8","text":"Comprehensive comparison moneca() vs moneca_fast() algorithms Detailed step--step workflow explanations algorithms Performance benchmarking practical usage guidelines Parameter tuning recommendations moneca_fast() Neutral analysis pros cons approach","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-2-8","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.2.8","text":"Removed inappropriate guide_colourbar() warning edge colors plot_ego_ggraph() Added guide = \"none\" scale_edge_color_viridis() suppress unwanted legend Completely restructured hull rendering place hulls background layer Fixed coordinate extraction properly align hulls node positions Eliminated duplicate hull rendering code Improved layer ordering: hulls → edges → nodes → labels","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-8","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.8","text":"Cleaner visualization output proper layer ordering Better hull positioning actually contains nodes robust coordinate handling custom layouts Enhanced documentation detailed algorithm internals","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-2-7","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.2.7","text":"Added wrapper functions moneca_cliques() moneca_max_cliques() automatically convert directed graphs undirected clique calculations Eliminated “Edge directions ignored maximal clique calculation” warning Enhanced igraph compatibility layer proper clique handling","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-7","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.7","text":"Cleaner console output suppressed igraph warnings Better handling directed vs undirected graphs clique operations","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"code-modernization-0-2-6","dir":"Changelog","previous_headings":"","what":"Code Modernization","title":"moneca 0.2.6","text":"Translated Danish comments English throughout codebase gruppe → group grupper → groups niv.nu → level.current niv.ned → level.bejler → candidate klike → clique potentiel.klike → potential.clique Updated function names: bejler.test → clique.test Improved code readability accessibility international users","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-6","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.6","text":"Better code documentation clear English comments intuitive variable naming throughout package Enhanced maintainability future development","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"major-fixes-0-2-5","dir":"Changelog","previous_headings":"","what":"Major Fixes","title":"moneca 0.2.5","text":"Hulls now properly contain vertices using actual ggraph layout coordinates Improved coordinate extraction match node positions exactly Fixed layer ordering issues caused hulls appear disconnected segment hull now renders individually better visual accuracy","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-2-5","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.2.5","text":"Added include_first_level = TRUE parameter show individual classes Level 1 shows individual classes without segmentation Complete progression visualization individual classes final segments Better understanding segmentation evolution across hierarchical levels","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-5","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.5","text":"robust hull rendering works automatic custom layouts Consistent visualization approach across modern plotting functions Better documentation stair plot parameters","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-2-4","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.2.4","text":"Hulls now properly contain vertices instead plotted aside Improved coordinate extraction align ggraph layout system Better handling automatic layouts (“fr”, “stress”) custom coordinate matrices Fixed variable scope issues hull label positioning","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"technical-improvements-0-2-4","dir":"Changelog","previous_headings":"","what":"Technical Improvements","title":"moneca 0.2.4","text":"Enhanced layout coordinate handling better hull-vertex alignment robust segment boundary rendering across different layout types","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-2-3","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.2.3","text":"Hulls now render background layer instead covering nodes Proper rendering order: hulls → edges → nodes → labels Applies plot_moneca_ggraph() plot_stair_ggraph() plot_ego_ggraph() now uses individual profession names instead segment names Better interpretability ego network analysis","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-3","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.3","text":"Cleaned redundant hull rendering code plot_stair_ggraph() consistent behavior across modern plotting functions","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-2","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.2","text":"Removed arrow heads edges cleaner network visualization Made edge alpha proportional edge weight better visual hierarchy Implemented rounded convex hulls ggforce package available Replaced individual node labels segment labels showing hulls Removed legends maximize plot space Added segment labels connected hull boundaries Reduced title size spacing compact plots","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"visual-enhancements-0-2-2","dir":"Changelog","previous_headings":"","what":"Visual Enhancements","title":"moneca 0.2.2","text":"Segment visualization now uses meaningful group names instead concatenated profession names Hull labels positioned segment boundaries bold text Edge transparency now reflects connection strength Cleaner, professional network visualizations","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"new-features-0-2-1","dir":"Changelog","previous_headings":"","what":"New Features","title":"moneca 0.2.1","text":"Uses maximal cliques instead cliques better performance dense networks Implements vectorized operations segmentation algorithm Adds support sparse matrices via Matrix package Includes early stopping conditions based edge density Adds option limit maximum clique size Maintains full compatibility existing MONECA output structure","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"improvements-0-2-1","dir":"Changelog","previous_headings":"","what":"Improvements","title":"moneca 0.2.1","text":"Performance optimizations reduce computation time, especially larger mobility tables use.sparse: Enable sparse matrix operations large datasets min.density: Set minimum edge density threshold early stopping max.clique.size: Limit clique sizes improve performance dense networks progress: Control progress bar display","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"documentation-0-2-1","dir":"Changelog","previous_headings":"","what":"Documentation","title":"moneca 0.2.1","text":"Added comprehensive tests moneca_fast() Added example demonstrating performance improvements inst/examples/moneca_fast_example.R","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"major-update---comprehensive-modernization-0-2-0","dir":"Changelog","previous_headings":"","what":"Major Update - Comprehensive Modernization","title":"moneca 0.2.0","text":"release represents major stabilization modernization MONECA package, including modern visualization, synthetic data generation, complete testing, enhanced documentation.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"modern-visualization-system-0-2-0","dir":"Changelog","previous_headings":"New Features","what":"Modern Visualization System","title":"moneca 0.2.0","text":"plot_moneca_ggraph() - Modern network visualization using ggraph plot_ego_ggraph() - Ego network analysis plots contemporary styling plot_stair_ggraph() - Multi-level segmentation visualization Support various layouts: Fruchterman-Reingold, Kamada-Kawai, stress-based Customizable node aesthetics (size, color, shape segment/mobility) Advanced edge styling (width, color, transparency weight)","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"synthetic-data-generation-0-2-0","dir":"Changelog","previous_headings":"New Features","what":"Synthetic Data Generation","title":"moneca 0.2.0","text":"generate_mobility_data() - Create realistic synthetic mobility matrices generate_example_datasets() - Pre-configured datasets testing Customizable parameters: immobility strength, class clustering, noise levels Support custom class names reproducible generation seeds","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"testing-framework-0-2-0","dir":"Changelog","previous_headings":"New Features","what":"Testing Framework","title":"moneca 0.2.0","text":"Comprehensive test suite 30+ tests across major functions Tests core algorithms, plotting functions, data generation igraph compatibility testing across versions Edge case handling error validation","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"igraph-compatibility-0-2-0","dir":"Changelog","previous_headings":"Improvements","what":"igraph Compatibility","title":"moneca 0.2.0","text":"Sophisticated compatibility layer igraph >= 1.3.0 Automatic function mapping old new APIs Custom implementation removed functions (e.g., norm_coords) Runtime version detection adaptation","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"code-quality-0-2-0","dir":"Changelog","previous_headings":"Improvements","what":"Code Quality","title":"moneca 0.2.0","text":"Fixed critical bugs matrix validation edge calculations Improved error messages input validation Better handling edge cases small datasets Memory usage optimizations","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"documentation-0-2-0","dir":"Changelog","previous_headings":"Improvements","what":"Documentation","title":"moneca 0.2.0","text":"New comprehensive vignette modern examples examples now use synthetic data (external dependencies) Updated README modern workflow Complete roxygen2 documentation functions","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"moneca 0.2.0","text":"Fixed viewport error plotting functions Resolved matrix validation issues moneca.plot() Fixed edge calculation bugs find.segments() Corrected vignette build errors tidygraph functions Fixed “closure” object subsetting error","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"backward-compatibility-0-2-0","dir":"Changelog","previous_headings":"","what":"Backward Compatibility","title":"moneca 0.2.0","text":"existing functions remain fully functional Legacy plotting functions (gg.moneca, moneca.plot) preserved Original API unchanged adding new features","code":""},{"path":"https://gmontaletti.github.io/MONECA/news/index.html","id":"dependencies-0-2-0","dir":"Changelog","previous_headings":"","what":"Dependencies","title":"moneca 0.2.0","text":"Now requires: ggraph (>= 2.0.0), tidygraph (>= 1.2.0), dplyr (>= 1.0.0) Maintains compatibility R >= 3.5.0 Full compatibility latest igraph versions","code":""}]
