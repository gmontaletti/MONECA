% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modern_plotting.R
\name{plot_moneca_ggraph}
\alias{plot_moneca_ggraph}
\title{Modern Network Visualization for MONECA Results}
\usage{
plot_moneca_ggraph(
  segments,
  level = NULL,
  layout = "fr",
  edges = "auto",
  node_size = "total",
  node_color = "segment",
  node_alpha = 0.8,
  edge_width = "weight",
  edge_color = "grey50",
  edge_alpha = 0.6,
  show_labels = FALSE,
  label_size = 3,
  show_segments = TRUE,
  segment_alpha = 0.3,
  color_palette = "okabe-ito",
  theme_style = "void",
  title = NULL,
  segment_naming = "auto",
  node_shape = "none",
  ...
)
}
\arguments{
\item{segments}{A moneca object returned by \code{\link{moneca}}.}

\item{level}{Integer vector specifying which hierarchical levels to visualize.
Default displays all levels except the first (which represents individual categories).}

\item{layout}{Character string or matrix specifying the layout algorithm:
\itemize{
  \item "fr" (default): Fruchterman-Reingold force-directed layout
  \item "kk": Kamada-Kawai layout
  \item "dh": Davidson-Harel layout
  \item "mds": Multidimensional scaling
  \item "stress": Stress majorization
  \item Matrix: Custom coordinate matrix (n_nodes x 2)
}}

\item{edges}{Edge matrix or "auto" to automatically generate using
\code{\link{segment.edges}}. Default is "auto".}

\item{node_size}{Aesthetic mapping for node size:
\itemize{
  \item "total": Size by total mobility volume (default)
  \item "mobility": Size by off-diagonal mobility rate
  \item Numeric vector: Custom sizes for each node
  \item Single numeric: Fixed size for all nodes
}}

\item{node_color}{Aesthetic mapping for node color:
\itemize{
  \item "segment" (default): Color by segment membership
  \item "mobility": Color by mobility rate
  \item Character vector: Custom colors for each node
  \item Single color: Fixed color for all nodes
}}

\item{node_alpha}{Numeric value (0-1) for node transparency. Default is 0.8.}

\item{edge_width}{Aesthetic for edge width:
\itemize{
  \item "weight" (default): Width proportional to edge weight
  \item Numeric: Fixed width for all edges
}}

\item{edge_color}{Color for edges. Default is "grey50".}

\item{edge_alpha}{Numeric value (0-1) for edge transparency. Default is 0.6.}

\item{show_labels}{Logical indicating whether to display individual node labels.
Default is FALSE (only segment/cluster labels are shown).}

\item{label_size}{Numeric size for node labels. Default is 3.}

\item{show_segments}{Logical indicating whether to highlight segment boundaries.
Default is TRUE.}

\item{segment_alpha}{Numeric value (0-1) for segment boundary transparency.
Default is 0.3.}

\item{color_palette}{Character string specifying the color palette for segments:
\itemize{
  \item \code{"okabe-ito"} (default): 8-color CVD-safe Okabe-Ito palette.
    For >8 segments, falls back to viridis.
  \item \code{"viridis"}, \code{"plasma"}, \code{"inferno"}, \code{"cividis"},
    \code{"magma"}: Perceptually uniform viridis palettes (requires viridis package).
  \item Any RColorBrewer qualitative palette name (e.g., \code{"Set3"}, \code{"Paired"}).
}}

\item{theme_style}{Character string specifying the plot theme:
\itemize{
  \item "void" (default): Clean background with no axes
  \item "minimal": Minimal theme with subtle gridlines
  \item "classic": Traditional ggplot2 theme
}}

\item{title}{Character string for plot title. Default is NULL (no title).}

\item{segment_naming}{Specifies how to name segments in the visualization. Can be:
\itemize{
  \item Character string: "auto" (default), "concat", "pattern", or "custom" -
    these are passed to \code{\link{segment.membership.enhanced}} for automatic naming
  \item data.frame: Custom segment labels with columns "name" (node names from the
    mobility matrix) and "segment_label" (desired custom labels). This allows complete
    control over segment naming
  \item NULL: Uses default "auto" strategy
}
When a data.frame is provided, custom labels override automatically generated names.
The data.frame approach is useful for meaningful business names (e.g., "Upper Management"
instead of "Segment 1") or multilingual applications.}

\item{node_shape}{Controls shape encoding for nodes:
\itemize{
  \item \code{"none"} (default): All nodes use circles (shape 16).
  \item \code{"segment"}: Nodes mapped to different shapes per segment,
    providing redundant encoding alongside color for CVD accessibility.
    Shapes cycle through: circle, triangle, square, diamond, asterisk, plus,
    cross, and square-cross.
}}

\item{...}{Additional arguments passed to ggraph layout functions.}
}
\value{
When \code{level} is a single integer, a \code{ggplot2} object that
  can be further customized. When \code{level} is a vector (including the
  default), a named list of \code{ggplot2} objects (one per level), each
  viewable individually at full size. Names are \code{"level_2"},
  \code{"level_3"}, etc.
}
\description{
Creates sophisticated network visualizations of MONECA clustering results using
ggraph and ggplot2. This function provides modern, highly customizable plots
with support for multiple layout algorithms, node aesthetics, and segment highlighting.
}
\details{
This function creates publication-quality network visualizations with extensive
customization options. It automatically handles node positioning, edge rendering,
and segment highlighting. The resulting plot can be further modified using
standard ggplot2 syntax.

For interactive exploration, different layout algorithms may work better with
different network structures. Force-directed layouts ("fr") work well for most
cases, while "stress" layouts often produce cleaner results for dense networks.

\strong{Segment Naming}: The new data.frame approach for segment_naming provides
complete control over how segments are labeled. This is particularly useful for:
\itemize{
  \item Business applications where meaningful names are essential (e.g., "Senior Management" vs "Segment 1")
  \item Multilingual visualizations where labels need translation
  \item Presentations where consistent, professional terminology is required
  \item Partial customization where only specific segments need custom names
}
}
\examples{
\dontrun{
# Generate synthetic data and run MONECA
mobility_data <- generate_mobility_data(n_classes = 6, seed = 123)
seg <- moneca(mobility_data, segment.levels = 3)

# Basic network plot
plot_moneca_ggraph(seg)

# Customized plot with different aesthetics
plot_moneca_ggraph(seg,
  layout = "stress",
  node_color = "mobility",
  color_palette = "Spectral",
  title = "Social Mobility Network"
)
}

}
\seealso{
\code{\link{moneca}} for the main analysis function,
\code{\link{plot_ego_ggraph}} for ego network visualization,
\code{\link{plot_stair_ggraph}} for multi-level visualization,
\code{\link{segment.edges}} for edge matrix generation
}
