% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modern_plotting.R
\name{plot_moneca_ggraph}
\alias{plot_moneca_ggraph}
\title{Modern Network Visualization for MONECA Results}
\usage{
plot_moneca_ggraph(
  segments,
  level = NULL,
  layout = "fr",
  edges = "auto",
  node_size = "total",
  node_color = "segment",
  node_alpha = 0.8,
  edge_width = "weight",
  edge_color = "grey50",
  edge_alpha = 0.6,
  show_labels = TRUE,
  label_size = 3,
  show_segments = TRUE,
  segment_alpha = 0.3,
  color_palette = "Set3",
  theme_style = "void",
  title = NULL,
  segment_naming = "auto",
  ...
)
}
\arguments{
\item{segments}{A moneca object returned by \code{\link{moneca}}.}

\item{level}{Integer vector specifying which hierarchical levels to visualize.
Default displays all levels except the first (which represents individual categories).}

\item{layout}{Character string or matrix specifying the layout algorithm:
\itemize{
  \item "fr" (default): Fruchterman-Reingold force-directed layout
  \item "kk": Kamada-Kawai layout
  \item "dh": Davidson-Harel layout  
  \item "mds": Multidimensional scaling
  \item "stress": Stress majorization
  \item Matrix: Custom coordinate matrix (n_nodes x 2)
}}

\item{edges}{Edge matrix or "auto" to automatically generate using 
\code{\link{segment.edges}}. Default is "auto".}

\item{node_size}{Aesthetic mapping for node size:
\itemize{
  \item "total": Size by total mobility volume (default)
  \item "mobility": Size by off-diagonal mobility rate
  \item Numeric vector: Custom sizes for each node
  \item Single numeric: Fixed size for all nodes
}}

\item{node_color}{Aesthetic mapping for node color:
\itemize{
  \item "segment" (default): Color by segment membership
  \item "mobility": Color by mobility rate
  \item Character vector: Custom colors for each node
  \item Single color: Fixed color for all nodes
}}

\item{node_alpha}{Numeric value (0-1) for node transparency. Default is 0.8.}

\item{edge_width}{Aesthetic for edge width:
\itemize{
  \item "weight" (default): Width proportional to edge weight
  \item Numeric: Fixed width for all edges
}}

\item{edge_color}{Color for edges. Default is "grey50".}

\item{edge_alpha}{Numeric value (0-1) for edge transparency. Default is 0.6.}

\item{show_labels}{Logical indicating whether to display node labels. Default is TRUE.}

\item{label_size}{Numeric size for node labels. Default is 3.}

\item{show_segments}{Logical indicating whether to highlight segment boundaries.
Default is TRUE.}

\item{segment_alpha}{Numeric value (0-1) for segment boundary transparency.
Default is 0.3.}

\item{color_palette}{Character string specifying the color palette for segments.
Can be any RColorBrewer palette name. Default is "Set3".}

\item{theme_style}{Character string specifying the plot theme:
\itemize{
  \item "void" (default): Clean background with no axes
  \item "minimal": Minimal theme with subtle gridlines
  \item "classic": Traditional ggplot2 theme
}}

\item{title}{Character string for plot title. Default is NULL (no title).}

\item{segment_naming}{Specifies how to name segments in the visualization. Can be:
\itemize{
  \item Character string: "auto" (default), "concat", "pattern", or "custom" - 
    these are passed to \code{\link{segment.membership.enhanced}} for automatic naming
  \item data.frame: Custom segment labels with columns "name" (node names from the 
    mobility matrix) and "segment_label" (desired custom labels). This allows complete 
    control over segment naming
  \item NULL: Uses default "auto" strategy
}
When a data.frame is provided, custom labels override automatically generated names.
The data.frame approach is useful for meaningful business names (e.g., "Upper Management"
instead of "Segment 1") or multilingual applications.}

\item{...}{Additional arguments passed to ggraph layout functions.}
}
\value{
A ggplot2 object that can be further customized or displayed.
}
\description{
Creates sophisticated network visualizations of MONECA clustering results using
ggraph and ggplot2. This function provides modern, highly customizable plots
with support for multiple layout algorithms, node aesthetics, and segment highlighting.
}
\details{
This function creates publication-quality network visualizations with extensive
customization options. It automatically handles node positioning, edge rendering,
and segment highlighting. The resulting plot can be further modified using
standard ggplot2 syntax.

For interactive exploration, different layout algorithms may work better with
different network structures. Force-directed layouts ("fr") work well for most
cases, while "stress" layouts often produce cleaner results for dense networks.

\strong{Segment Naming}: The new data.frame approach for segment_naming provides
complete control over how segments are labeled. This is particularly useful for:
\itemize{
  \item Business applications where meaningful names are essential (e.g., "Senior Management" vs "Segment 1")
  \item Multilingual visualizations where labels need translation
  \item Presentations where consistent, professional terminology is required
  \item Partial customization where only specific segments need custom names
}
}
\examples{
# Generate synthetic data and run MONECA
mobility_data <- generate_mobility_data(n_classes = 6, seed = 123)
seg <- moneca(mobility_data, segment.levels = 3)

# Basic network plot
plot_moneca_ggraph(seg)

# Customized plot with different aesthetics
plot_moneca_ggraph(seg,
  layout = "stress",
  node_color = "mobility",
  edge_width = "weight",
  color_palette = "Spectral",
  title = "Social Mobility Network",
  show_segments = FALSE
)

# Plot with custom node sizes and colors
custom_plot <- plot_moneca_ggraph(seg,
  node_size = c(8, 6, 10, 4, 7, 5),
  node_color = "red",
  edge_color = "darkblue",
  theme_style = "minimal"
)

# Further customize with ggplot2
custom_plot + 
  ggplot2::labs(subtitle = "Custom subtitle") +
  ggplot2::theme(plot.title = ggplot2::element_text(size = 16))

# Using custom segment labels with data.frame (NEW FUNCTIONALITY)
node_names <- rownames(mobility_data)[-nrow(mobility_data)]  # Remove "Total" row

# Example 1: Professional category labels
professional_labels <- data.frame(
  name = node_names,
  segment_label = c("Senior Management", "Middle Management", "Professional Staff", 
                    "Technical Staff", "Administrative", "Support Staff")[1:length(node_names)],
  stringsAsFactors = FALSE
)

professional_plot <- plot_moneca_ggraph(seg,
  segment_naming = professional_labels,
  title = "Professional Hierarchy Analysis"
)

# Example 2: Partial custom labeling (mix of custom and auto-generated)
partial_labels <- data.frame(
  name = node_names[1:2],  # Only label first two categories
  segment_label = c("Executive Level", "Management Level"),
  stringsAsFactors = FALSE
)

partial_plot <- plot_moneca_ggraph(seg,
  segment_naming = partial_labels,
  title = "Mixed Labeling Approach"
)

# Example 3: Comparing naming strategies
auto_plot <- plot_moneca_ggraph(seg, segment_naming = "auto", 
                               title = "Automatic Naming")
concat_plot <- plot_moneca_ggraph(seg, segment_naming = "concat", 
                                 title = "Concatenated Names")

}
\seealso{
\code{\link{moneca}} for the main analysis function,
\code{\link{plot_ego_ggraph}} for ego network visualization,
\code{\link{plot_stair_ggraph}} for multi-level visualization,
\code{\link{segment.edges}} for edge matrix generation
}
