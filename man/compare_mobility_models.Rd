% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/loglinear_models.R
\name{compare_mobility_models}
\alias{compare_mobility_models}
\title{Compare Log-Linear Models for Mobility Tables}
\usage{
compare_mobility_models(..., mx = NULL, level = NULL, include_topology = TRUE)
}
\arguments{
\item{...}{One or more \code{moneca_loglinear} objects to compare.}

\item{mx}{Optional. A mobility matrix with margins or a moneca object.
If provided, fits all standard models automatically for comparison.}

\item{level}{Integer specifying the hierarchical level for the MONECA
topology model. Used when \code{mx} is a moneca object.}

\item{include_topology}{Logical. Whether to include the MONECA topology
model when fitting all models via \code{mx}. Default is TRUE. Set to
FALSE if \code{mx} is a plain matrix without segment information.}
}
\value{
An object of class \code{"moneca_model_comparison"} containing:
  \describe{
    \item{table}{Data frame with columns: model, deviance, df, aic, bic,
      p_value, dissimilarity}
    \item{lr_tests}{Data frame of pairwise likelihood-ratio tests between
      nested models, with columns: model_1, model_2, delta_deviance,
      delta_df, p_value}
    \item{models}{Named list of the fitted model objects}
  }
}
\description{
Compares multiple log-linear model fits for a mobility table, producing
a summary table with fit statistics and likelihood-ratio tests between
nested models.
}
\details{
When \code{mx} is provided, the function fits independence,
quasi-independence, quasi-symmetry, and uniform association models
automatically. If \code{mx} is a moneca object and
\code{include_topology = TRUE}, a MONECA topology model is also fit.

Likelihood-ratio tests are computed for known nesting relationships:
\itemize{
  \item Independence is nested in quasi-independence
  \item Independence is nested in uniform association
  \item Quasi-independence is nested in quasi-symmetry
  \item Quasi-independence is nested in MONECA topology
}

Models passed via \code{...} are combined with any automatically fitted
models. Duplicate model types are resolved by keeping the explicitly
passed version.
}
\examples{
mx <- generate_mobility_data(n_classes = 5, seed = 42)
seg <- moneca_fast(mx, segment.levels = 3)

# Compare all standard models
comp <- compare_mobility_models(mx = seg, level = 2)
print(comp)

# Compare specific models
m1 <- fit_mobility_model(mx, type = "independence")
m2 <- fit_mobility_model(mx, type = "quasi_independence")
compare_mobility_models(m1, m2)

}
\seealso{
\code{\link{fit_mobility_model}} for fitting individual models
}
