<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Legacy Multi-Level Stair Plot — stair.plot • moneca</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Legacy Multi-Level Stair Plot — stair.plot"><meta name="description" content="Creates a series of plots showing how segmentation evolves across hierarchical
levels using the legacy ggplot2 system. For modern stair plots, use
plot_stair_ggraph."><meta property="og:description" content="Creates a series of plots showing how segmentation evolves across hierarchical
levels using the legacy ggplot2 system. For modern stair plots, use
plot_stair_ggraph."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">moneca</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/moneca-introduction.html">Introduction to moneca: Mobility Network Clustering Analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="dropdown-item" href="https://gmontaletti.github.io/MONECA/news/index.html#moneca-08">Version 0.8</a></li>
    <li><a class="dropdown-item" href="https://gmontaletti.github.io/MONECA/news/index.html#moneca-07">Version 0.7</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gmontaletti/MONECA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Legacy Multi-Level Stair Plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/gmontaletti/MONECA/blob/master/R/ggplotting.R" class="external-link"><code>R/ggplotting.R</code></a></small>
      <div class="d-none name"><code>stair.plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a series of plots showing how segmentation evolves across hierarchical
levels using the legacy ggplot2 system. For modern stair plots, use
<code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stair.plot</span><span class="op">(</span></span>
<span>  <span class="va">segments</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layout <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edges <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"directed"</span>,</span>
<span>  vertex.size <span class="op">=</span> <span class="st">"total"</span>,</span>
<span>  vertex.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  vertex.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  vertex.shape <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  show.edges <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  edge.size <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  edge.alpha <span class="op">=</span> <span class="st">"weight"</span>,</span>
<span>  edge.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  edge.line <span class="op">=</span> <span class="st">"solid"</span>,</span>
<span>  show.text <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  text.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  text.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  text.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  text.vjust <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  show.borders <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  border.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.fill <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  border.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  border.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.padding <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.text <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  border.labels <span class="op">=</span> <span class="st">"segments"</span>,</span>
<span>  border.text.size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  border.text.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  border.text.vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span>  border.text.hjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  midpoints <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  midpoint.arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html" class="external-link">arrow</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">20</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">0.33</span>, <span class="st">"cm"</span><span class="op">)</span>, ends <span class="op">=</span> <span class="st">"last"</span>, type <span class="op">=</span></span>
<span>    <span class="st">"closed"</span><span class="op">)</span>,</span>
<span>  edge.text <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  edge.text.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  edge.text.alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  legend <span class="op">=</span> <span class="st">"side"</span>,</span>
<span>  level.title <span class="op">=</span> <span class="st">"Level"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-segments">segments<a class="anchor" aria-label="anchor" href="#arg-segments"></a></dt>
<dd><p>A moneca object returned by <code><a href="moneca.html">moneca</a></code>.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Integer vector specifying which levels to include in the stair plot.</p></dd>


<dt id="arg-layout">layout<a class="anchor" aria-label="anchor" href="#arg-layout"></a></dt>
<dd><p>Layout matrix for consistent node positioning across plots.</p></dd>


<dt id="arg-edges">edges<a class="anchor" aria-label="anchor" href="#arg-edges"></a></dt>
<dd><p>Edge matrix or specification for network edges.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character string specifying graph mode ("directed" or "undirected").</p></dd>


<dt id="arg-vertex-size">vertex.size<a class="anchor" aria-label="anchor" href="#arg-vertex-size"></a></dt>
<dd><p>Specification for vertex sizes ("total" or numeric).</p></dd>


<dt id="arg-vertex-alpha">vertex.alpha<a class="anchor" aria-label="anchor" href="#arg-vertex-alpha"></a></dt>
<dd><p>Numeric transparency for vertices (0-1).</p></dd>


<dt id="arg-vertex-color">vertex.color<a class="anchor" aria-label="anchor" href="#arg-vertex-color"></a></dt>
<dd><p>Color specification for vertex borders.</p></dd>


<dt id="arg-vertex-shape">vertex.shape<a class="anchor" aria-label="anchor" href="#arg-vertex-shape"></a></dt>
<dd><p>Numeric shape code for vertices.</p></dd>


<dt id="arg-show-edges">show.edges<a class="anchor" aria-label="anchor" href="#arg-show-edges"></a></dt>
<dd><p>Logical indicating whether to display edges.</p></dd>


<dt id="arg-edge-size">edge.size<a class="anchor" aria-label="anchor" href="#arg-edge-size"></a></dt>
<dd><p>Numeric size for edges.</p></dd>


<dt id="arg-edge-alpha">edge.alpha<a class="anchor" aria-label="anchor" href="#arg-edge-alpha"></a></dt>
<dd><p>Transparency for edges ("weight" or numeric).</p></dd>


<dt id="arg-edge-color">edge.color<a class="anchor" aria-label="anchor" href="#arg-edge-color"></a></dt>
<dd><p>Color specification for edges.</p></dd>


<dt id="arg-edge-line">edge.line<a class="anchor" aria-label="anchor" href="#arg-edge-line"></a></dt>
<dd><p>Line type for edges ("solid", "dashed", etc.).</p></dd>


<dt id="arg-show-text">show.text<a class="anchor" aria-label="anchor" href="#arg-show-text"></a></dt>
<dd><p>Logical indicating whether to show vertex labels.</p></dd>


<dt id="arg-text-size">text.size<a class="anchor" aria-label="anchor" href="#arg-text-size"></a></dt>
<dd><p>Numeric size for text labels.</p></dd>


<dt id="arg-text-color">text.color<a class="anchor" aria-label="anchor" href="#arg-text-color"></a></dt>
<dd><p>Color for text labels.</p></dd>


<dt id="arg-text-alpha">text.alpha<a class="anchor" aria-label="anchor" href="#arg-text-alpha"></a></dt>
<dd><p>Transparency for text labels.</p></dd>


<dt id="arg-text-vjust">text.vjust<a class="anchor" aria-label="anchor" href="#arg-text-vjust"></a></dt>
<dd><p>Vertical adjustment for text labels.</p></dd>


<dt id="arg-show-borders">show.borders<a class="anchor" aria-label="anchor" href="#arg-show-borders"></a></dt>
<dd><p>Logical indicating whether to show segment boundaries.</p></dd>


<dt id="arg-border-size">border.size<a class="anchor" aria-label="anchor" href="#arg-border-size"></a></dt>
<dd><p>Size for segment borders.</p></dd>


<dt id="arg-border-fill">border.fill<a class="anchor" aria-label="anchor" href="#arg-border-fill"></a></dt>
<dd><p>Fill color for segment boundaries.</p></dd>


<dt id="arg-border-color">border.color<a class="anchor" aria-label="anchor" href="#arg-border-color"></a></dt>
<dd><p>Color for segment border lines.</p></dd>


<dt id="arg-border-alpha">border.alpha<a class="anchor" aria-label="anchor" href="#arg-border-alpha"></a></dt>
<dd><p>Transparency for segment borders.</p></dd>


<dt id="arg-border-padding">border.padding<a class="anchor" aria-label="anchor" href="#arg-border-padding"></a></dt>
<dd><p>Padding around segment boundaries.</p></dd>


<dt id="arg-border-text">border.text<a class="anchor" aria-label="anchor" href="#arg-border-text"></a></dt>
<dd><p>Logical indicating whether to show segment labels.</p></dd>


<dt id="arg-border-labels">border.labels<a class="anchor" aria-label="anchor" href="#arg-border-labels"></a></dt>
<dd><p>Specification for segment labels.</p></dd>


<dt id="arg-border-text-size">border.text.size<a class="anchor" aria-label="anchor" href="#arg-border-text-size"></a></dt>
<dd><p>Size for segment labels.</p></dd>


<dt id="arg-border-text-color">border.text.color<a class="anchor" aria-label="anchor" href="#arg-border-text-color"></a></dt>
<dd><p>Color for segment labels.</p></dd>


<dt id="arg-border-text-vjust">border.text.vjust<a class="anchor" aria-label="anchor" href="#arg-border-text-vjust"></a></dt>
<dd><p>Vertical adjustment for segment labels.</p></dd>


<dt id="arg-border-text-hjust">border.text.hjust<a class="anchor" aria-label="anchor" href="#arg-border-text-hjust"></a></dt>
<dd><p>Horizontal adjustment for segment labels.</p></dd>


<dt id="arg-midpoints">midpoints<a class="anchor" aria-label="anchor" href="#arg-midpoints"></a></dt>
<dd><p>Logical indicating whether to show edge midpoints.</p></dd>


<dt id="arg-midpoint-arrow">midpoint.arrow<a class="anchor" aria-label="anchor" href="#arg-midpoint-arrow"></a></dt>
<dd><p>Logical indicating whether to show arrows at midpoints.</p></dd>


<dt id="arg-edge-text">edge.text<a class="anchor" aria-label="anchor" href="#arg-edge-text"></a></dt>
<dd><p>Logical indicating whether to show edge labels.</p></dd>


<dt id="arg-edge-text-size">edge.text.size<a class="anchor" aria-label="anchor" href="#arg-edge-text-size"></a></dt>
<dd><p>Size for edge labels.</p></dd>


<dt id="arg-edge-text-alpha">edge.text.alpha<a class="anchor" aria-label="anchor" href="#arg-edge-text-alpha"></a></dt>
<dd><p>Transparency for edge labels.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>Position specification for legend.</p></dd>


<dt id="arg-level-title">level.title<a class="anchor" aria-label="anchor" href="#arg-level-title"></a></dt>
<dd><p>Specification for level titles.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of ggplot2 objects, one for each segmentation level.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function creates multiple plots showing the progression of segmentation
across hierarchical levels. Each plot uses the same layout to maintain
consistency, making it easy to see how segments merge or split across levels.</p>
<p><strong>Note</strong>: This function is maintained for backward compatibility and
requires the eliter package. For new analyses, use <code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code>
which offers better performance and modern styling.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code> for modern stair plots,
<code><a href="gg.moneca.html">gg.moneca</a></code> for the underlying plotting function</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Using synthetic data</span></span></span>
<span class="r-in"><span><span class="va">mobility_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_mobility_data.html">generate_mobility_data</a></span><span class="op">(</span>n_classes <span class="op">=</span> <span class="fl">6</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seg</span> <span class="op">&lt;-</span> <span class="fu"><a href="moneca.html">moneca</a></span><span class="op">(</span><span class="va">mobility_data</span>, segment.levels <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu">stair.plot</span><span class="op">(</span><span class="va">seg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plots</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>  <span class="co"># Display second level</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Customized stair plot</span></span></span>
<span class="r-in"><span><span class="va">custom_stairs</span> <span class="op">&lt;-</span> <span class="fu">stair.plot</span><span class="op">(</span><span class="va">seg</span>,</span></span>
<span class="r-in"><span>                           level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           vertex.size <span class="op">=</span> <span class="st">"total"</span>,</span></span>
<span class="r-in"><span>                           show.borders <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           border.text.size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giampaolo Montaletti, Jonas Touboel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

