<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Legacy Multi-Level Stair Plot — stair.plot • moneca</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Legacy Multi-Level Stair Plot — stair.plot"><meta property="og:description" content="Creates a series of plots showing how segmentation evolves across hierarchical
levels using the legacy ggplot2 system. For modern stair plots, use
plot_stair_ggraph."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">moneca</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/loglinear-models.html">Log-Linear Models for Mobility Tables</a>
    </li>
    <li>
      <a href="../articles/loglinear-profession-mobility.html">Log-Linear Models for Professional Mobility: An Application to Italian Occupational Data</a>
    </li>
    <li>
      <a href="../articles/moneca-introduction.html">Introduction to moneca: Mobility Network Clustering Analysis</a>
    </li>
    <li>
      <a href="../articles/reduce_density_guida_it.html">Riduzione della Densità per Matrici di Mobilità di Grandi Dimensioni</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gmontaletti/MONECA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Legacy Multi-Level Stair Plot</h1>
    <small class="dont-index">Source: <a href="https://github.com/gmontaletti/MONECA/blob/master/R/ggplotting.R" class="external-link"><code>R/ggplotting.R</code></a></small>
    <div class="hidden name"><code>stair.plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a series of plots showing how segmentation evolves across hierarchical
levels using the legacy ggplot2 system. For modern stair plots, use
<code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stair.plot</span><span class="op">(</span></span>
<span>  <span class="va">segments</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layout <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edges <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"directed"</span>,</span>
<span>  vertex.size <span class="op">=</span> <span class="st">"total"</span>,</span>
<span>  vertex.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  vertex.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  vertex.shape <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  show.edges <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  edge.size <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  edge.alpha <span class="op">=</span> <span class="st">"weight"</span>,</span>
<span>  edge.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  edge.line <span class="op">=</span> <span class="st">"solid"</span>,</span>
<span>  show.text <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  text.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  text.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  text.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  text.vjust <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  show.borders <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  border.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.fill <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  border.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  border.alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.padding <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  border.text <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  border.labels <span class="op">=</span> <span class="st">"segments"</span>,</span>
<span>  border.text.size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  border.text.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  border.text.vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span>  border.text.hjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  midpoints <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  midpoint.arrow <span class="op">=</span> <span class="fu">arrow</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">20</span>, length <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">0.33</span>, <span class="st">"cm"</span><span class="op">)</span>, ends <span class="op">=</span> <span class="st">"last"</span>, type <span class="op">=</span></span>
<span>    <span class="st">"closed"</span><span class="op">)</span>,</span>
<span>  edge.text <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  edge.text.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  edge.text.alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  legend <span class="op">=</span> <span class="st">"side"</span>,</span>
<span>  level.title <span class="op">=</span> <span class="st">"Level"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-segments">segments<a class="anchor" aria-label="anchor" href="#arg-segments"></a></dt>
<dd><p>A moneca object returned by <code><a href="moneca.html">moneca</a></code>.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Integer vector specifying which levels to include in the stair plot.</p></dd>


<dt id="arg-layout">layout<a class="anchor" aria-label="anchor" href="#arg-layout"></a></dt>
<dd><p>Layout matrix for consistent node positioning across plots.</p></dd>


<dt id="arg-edges">edges<a class="anchor" aria-label="anchor" href="#arg-edges"></a></dt>
<dd><p>Edge matrix or specification for network edges.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character string specifying graph mode ("directed" or "undirected").</p></dd>


<dt id="arg-vertex-size">vertex.size<a class="anchor" aria-label="anchor" href="#arg-vertex-size"></a></dt>
<dd><p>Specification for vertex sizes ("total" or numeric).</p></dd>


<dt id="arg-vertex-alpha">vertex.alpha<a class="anchor" aria-label="anchor" href="#arg-vertex-alpha"></a></dt>
<dd><p>Numeric transparency for vertices (0-1).</p></dd>


<dt id="arg-vertex-color">vertex.color<a class="anchor" aria-label="anchor" href="#arg-vertex-color"></a></dt>
<dd><p>Color specification for vertex borders.</p></dd>


<dt id="arg-vertex-shape">vertex.shape<a class="anchor" aria-label="anchor" href="#arg-vertex-shape"></a></dt>
<dd><p>Numeric shape code for vertices.</p></dd>


<dt id="arg-show-edges">show.edges<a class="anchor" aria-label="anchor" href="#arg-show-edges"></a></dt>
<dd><p>Logical indicating whether to display edges.</p></dd>


<dt id="arg-edge-size">edge.size<a class="anchor" aria-label="anchor" href="#arg-edge-size"></a></dt>
<dd><p>Numeric size for edges.</p></dd>


<dt id="arg-edge-alpha">edge.alpha<a class="anchor" aria-label="anchor" href="#arg-edge-alpha"></a></dt>
<dd><p>Transparency for edges ("weight" or numeric).</p></dd>


<dt id="arg-edge-color">edge.color<a class="anchor" aria-label="anchor" href="#arg-edge-color"></a></dt>
<dd><p>Color specification for edges.</p></dd>


<dt id="arg-edge-line">edge.line<a class="anchor" aria-label="anchor" href="#arg-edge-line"></a></dt>
<dd><p>Line type for edges ("solid", "dashed", etc.).</p></dd>


<dt id="arg-show-text">show.text<a class="anchor" aria-label="anchor" href="#arg-show-text"></a></dt>
<dd><p>Logical indicating whether to show vertex labels.</p></dd>


<dt id="arg-text-size">text.size<a class="anchor" aria-label="anchor" href="#arg-text-size"></a></dt>
<dd><p>Numeric size for text labels.</p></dd>


<dt id="arg-text-color">text.color<a class="anchor" aria-label="anchor" href="#arg-text-color"></a></dt>
<dd><p>Color for text labels.</p></dd>


<dt id="arg-text-alpha">text.alpha<a class="anchor" aria-label="anchor" href="#arg-text-alpha"></a></dt>
<dd><p>Transparency for text labels.</p></dd>


<dt id="arg-text-vjust">text.vjust<a class="anchor" aria-label="anchor" href="#arg-text-vjust"></a></dt>
<dd><p>Vertical adjustment for text labels.</p></dd>


<dt id="arg-show-borders">show.borders<a class="anchor" aria-label="anchor" href="#arg-show-borders"></a></dt>
<dd><p>Logical indicating whether to show segment boundaries.</p></dd>


<dt id="arg-border-size">border.size<a class="anchor" aria-label="anchor" href="#arg-border-size"></a></dt>
<dd><p>Size for segment borders.</p></dd>


<dt id="arg-border-fill">border.fill<a class="anchor" aria-label="anchor" href="#arg-border-fill"></a></dt>
<dd><p>Fill color for segment boundaries.</p></dd>


<dt id="arg-border-color">border.color<a class="anchor" aria-label="anchor" href="#arg-border-color"></a></dt>
<dd><p>Color for segment border lines.</p></dd>


<dt id="arg-border-alpha">border.alpha<a class="anchor" aria-label="anchor" href="#arg-border-alpha"></a></dt>
<dd><p>Transparency for segment borders.</p></dd>


<dt id="arg-border-padding">border.padding<a class="anchor" aria-label="anchor" href="#arg-border-padding"></a></dt>
<dd><p>Padding around segment boundaries.</p></dd>


<dt id="arg-border-text">border.text<a class="anchor" aria-label="anchor" href="#arg-border-text"></a></dt>
<dd><p>Logical indicating whether to show segment labels.</p></dd>


<dt id="arg-border-labels">border.labels<a class="anchor" aria-label="anchor" href="#arg-border-labels"></a></dt>
<dd><p>Specification for segment labels.</p></dd>


<dt id="arg-border-text-size">border.text.size<a class="anchor" aria-label="anchor" href="#arg-border-text-size"></a></dt>
<dd><p>Size for segment labels.</p></dd>


<dt id="arg-border-text-color">border.text.color<a class="anchor" aria-label="anchor" href="#arg-border-text-color"></a></dt>
<dd><p>Color for segment labels.</p></dd>


<dt id="arg-border-text-vjust">border.text.vjust<a class="anchor" aria-label="anchor" href="#arg-border-text-vjust"></a></dt>
<dd><p>Vertical adjustment for segment labels.</p></dd>


<dt id="arg-border-text-hjust">border.text.hjust<a class="anchor" aria-label="anchor" href="#arg-border-text-hjust"></a></dt>
<dd><p>Horizontal adjustment for segment labels.</p></dd>


<dt id="arg-midpoints">midpoints<a class="anchor" aria-label="anchor" href="#arg-midpoints"></a></dt>
<dd><p>Logical indicating whether to show edge midpoints.</p></dd>


<dt id="arg-midpoint-arrow">midpoint.arrow<a class="anchor" aria-label="anchor" href="#arg-midpoint-arrow"></a></dt>
<dd><p>Logical indicating whether to show arrows at midpoints.</p></dd>


<dt id="arg-edge-text">edge.text<a class="anchor" aria-label="anchor" href="#arg-edge-text"></a></dt>
<dd><p>Logical indicating whether to show edge labels.</p></dd>


<dt id="arg-edge-text-size">edge.text.size<a class="anchor" aria-label="anchor" href="#arg-edge-text-size"></a></dt>
<dd><p>Size for edge labels.</p></dd>


<dt id="arg-edge-text-alpha">edge.text.alpha<a class="anchor" aria-label="anchor" href="#arg-edge-text-alpha"></a></dt>
<dd><p>Transparency for edge labels.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>Position specification for legend.</p></dd>


<dt id="arg-level-title">level.title<a class="anchor" aria-label="anchor" href="#arg-level-title"></a></dt>
<dd><p>Specification for level titles.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of ggplot2 objects, one for each segmentation level.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function creates multiple plots showing the progression of segmentation
across hierarchical levels. Each plot uses the same layout to maintain
consistency, making it easy to see how segments merge or split across levels.</p>
<p><strong>Note</strong>: This function is maintained for backward compatibility and
requires the eliter package. For new analyses, use <code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code>
which offers better performance and modern styling.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code> for modern stair plots,
<code><a href="gg.moneca.html">gg.moneca</a></code> for the underlying plotting function</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Using synthetic data</span></span></span>
<span class="r-in"><span><span class="va">mobility_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_mobility_data.html">generate_mobility_data</a></span><span class="op">(</span>n_classes <span class="op">=</span> <span class="fl">6</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seg</span> <span class="op">&lt;-</span> <span class="fu"><a href="moneca.html">moneca</a></span><span class="op">(</span><span class="va">mobility_data</span>, segment.levels <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu">stair.plot</span><span class="op">(</span><span class="va">seg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plots</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>  <span class="co"># Display second level</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Customized stair plot</span></span></span>
<span class="r-in"><span><span class="va">custom_stairs</span> <span class="op">&lt;-</span> <span class="fu">stair.plot</span><span class="op">(</span><span class="va">seg</span>,</span></span>
<span class="r-in"><span>                           level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           vertex.size <span class="op">=</span> <span class="st">"total"</span>,</span></span>
<span class="r-in"><span>                           show.borders <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           border.text.size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Giampaolo Montaletti, Jonas Touboel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

