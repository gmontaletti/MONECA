<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot MONECA Results as Dendrogram — plot_moneca_dendrogram • moneca</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot MONECA Results as Dendrogram — plot_moneca_dendrogram"><meta name="description" content="Creates a dendrogram-like visualization of the hierarchical clustering results
from moneca analysis. This function shows how categories are progressively
aggregated across segmentation levels, making the hierarchical structure clear."><meta property="og:description" content="Creates a dendrogram-like visualization of the hierarchical clustering results
from moneca analysis. This function shows how categories are progressively
aggregated across segmentation levels, making the hierarchical structure clear."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">moneca</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/moneca-introduction.html">Introduction to moneca: Mobility Network Clustering Analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="dropdown-item" href="https://gmontaletti.github.io/MONECA/news/index.html#moneca-08">Version 0.8</a></li>
    <li><a class="dropdown-item" href="https://gmontaletti.github.io/MONECA/news/index.html#moneca-07">Version 0.7</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gmontaletti/MONECA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot MONECA Results as Dendrogram</h1>
      <small class="dont-index">Source: <a href="https://github.com/gmontaletti/MONECA/blob/master/R/modern_plotting.R" class="external-link"><code>R/modern_plotting.R</code></a></small>
      <div class="d-none name"><code>plot_moneca_dendrogram.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a dendrogram-like visualization of the hierarchical clustering results
from moneca analysis. This function shows how categories are progressively
aggregated across segmentation levels, making the hierarchical structure clear.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span></span>
<span>  <span class="va">segments</span>,</span>
<span>  height_method <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  color_segments <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  label_size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  branch_width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"MONECA Hierarchical Clustering"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="st">"Set3"</span>,</span>
<span>  theme_style <span class="op">=</span> <span class="st">"minimal"</span>,</span>
<span>  vertical <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-segments">segments<a class="anchor" aria-label="anchor" href="#arg-segments"></a></dt>
<dd><p>A moneca object returned by <code><a href="moneca.html">moneca</a></code>.</p></dd>


<dt id="arg-height-method">height_method<a class="anchor" aria-label="anchor" href="#arg-height-method"></a></dt>
<dd><p>Character string specifying how to calculate dendrogram heights:</p><ul><li><p>"uniform" (default): Equal spacing between levels</p></li>
<li><p>"mobility": Height based on mobility reduction between levels</p></li>
<li><p>"segments": Height based on number of segments at each level</p></li>
</ul></dd>


<dt id="arg-color-segments">color_segments<a class="anchor" aria-label="anchor" href="#arg-color-segments"></a></dt>
<dd><p>Logical indicating whether to color branches by final
segment membership. Default is TRUE.</p></dd>


<dt id="arg-show-labels">show_labels<a class="anchor" aria-label="anchor" href="#arg-show-labels"></a></dt>
<dd><p>Logical indicating whether to show category labels at the
bottom. Default is TRUE.</p></dd>


<dt id="arg-label-size">label_size<a class="anchor" aria-label="anchor" href="#arg-label-size"></a></dt>
<dd><p>Numeric size for labels. Default is 3.</p></dd>


<dt id="arg-branch-width">branch_width<a class="anchor" aria-label="anchor" href="#arg-branch-width"></a></dt>
<dd><p>Numeric width for dendrogram branches. Default is 1.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character string for plot title. Default is "MONECA Hierarchical Clustering".</p></dd>


<dt id="arg-subtitle">subtitle<a class="anchor" aria-label="anchor" href="#arg-subtitle"></a></dt>
<dd><p>Character string for plot subtitle. Default is NULL.</p></dd>


<dt id="arg-color-palette">color_palette<a class="anchor" aria-label="anchor" href="#arg-color-palette"></a></dt>
<dd><p>Character string specifying the RColorBrewer palette for
segment colors. Default is "Set3".</p></dd>


<dt id="arg-theme-style">theme_style<a class="anchor" aria-label="anchor" href="#arg-theme-style"></a></dt>
<dd><p>Character string specifying the plot theme. Options are
"minimal" (default), "classic", or "void".</p></dd>


<dt id="arg-vertical">vertical<a class="anchor" aria-label="anchor" href="#arg-vertical"></a></dt>
<dd><p>Logical indicating whether to plot vertically (TRUE, default)
or horizontally (FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot2 object representing the dendrogram.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function creates a dendrogram visualization that clearly shows:</p><ul><li><p>How individual categories (leaves) are grouped at each level</p></li>
<li><p>The hierarchical relationships between segments</p></li>
<li><p>The progressive aggregation from individual categories to larger segments</p></li>
</ul><p>The dendrogram branches show merging points where categories or segments are
combined based on the MONECA algorithm's clique detection. Unlike traditional
hierarchical clustering, MONECA can create non-binary trees where multiple
categories merge simultaneously.</p>
<p><strong>Visual Features:</strong></p><ul><li><p><strong>Curved branches</strong>: Uses smooth curves instead of angular segments for better aesthetics</p></li>
<li><p><strong>Horizontal layout</strong>: Levels progress horizontally (left to right) with categories arranged vertically</p></li>
<li><p><strong>No-Crossing Layout</strong>: Categories are automatically ordered using a hierarchical algorithm that completely eliminates line crossings between all levels</p></li>
</ul><p>The algorithm processes segments from the most aggregated level down,
ensuring that at each level, categories are grouped optimally to prevent any
crossing lines. This creates the clearest possible visualization of the
hierarchical structure.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="moneca.html">moneca</a></code> for the main analysis function,
<code><a href="plot_moneca_ggraph.html">plot_moneca_ggraph</a></code> for network visualization,
<code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code> for multi-level visualization</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate synthetic data and run MONECA</span></span></span>
<span class="r-in"><span><span class="va">mobility_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_mobility_data.html">generate_mobility_data</a></span><span class="op">(</span>n_classes <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seg</span> <span class="op">&lt;-</span> <span class="fu"><a href="moneca.html">moneca</a></span><span class="op">(</span><span class="va">mobility_data</span>, segment.levels <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27% ready!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55% ready!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==========================================                            |  60%  |                                                                              |=================================================                     |  70%  |                                                                              |========================================================              |  80%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82% ready!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100% ready!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100% ready!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Basic dendrogram</span></span></span>
<span class="r-in"><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span><span class="va">seg</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_moneca_dendrogram-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dendrogram with mobility-based heights</span></span></span>
<span class="r-in"><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span><span class="va">seg</span>, height_method <span class="op">=</span> <span class="st">"mobility"</span>, </span></span>
<span class="r-in"><span>                      title <span class="op">=</span> <span class="st">"Mobility-based Hierarchical Clustering"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_moneca_dendrogram-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Horizontal dendrogram without colors</span></span></span>
<span class="r-in"><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span><span class="va">seg</span>, vertical <span class="op">=</span> <span class="cn">FALSE</span>, color_segments <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_moneca_dendrogram-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Customize appearance</span></span></span>
<span class="r-in"><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span><span class="va">seg</span>, </span></span>
<span class="r-in"><span>                      color_palette <span class="op">=</span> <span class="st">"Dark2"</span>,</span></span>
<span class="r-in"><span>                      branch_width <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>                      label_size <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>                      theme_style <span class="op">=</span> <span class="st">"classic"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_moneca_dendrogram-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giampaolo Montaletti, Jonas Touboel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

