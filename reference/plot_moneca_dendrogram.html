<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot MONECA Results as Dendrogram — plot_moneca_dendrogram • moneca</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot MONECA Results as Dendrogram — plot_moneca_dendrogram"><meta property="og:description" content="Creates a dendrogram-like visualization of the hierarchical clustering results
from moneca analysis. This function shows how categories are progressively
aggregated across segmentation levels, making the hierarchical structure clear."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">moneca</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/loglinear-models.html">Log-Linear Models for Mobility Tables</a>
    </li>
    <li>
      <a href="../articles/loglinear-profession-mobility.html">Log-Linear Models for Professional Mobility: An Application to Italian Occupational Data</a>
    </li>
    <li>
      <a href="../articles/moneca-introduction.html">Introduction to moneca: Mobility Network Clustering Analysis</a>
    </li>
    <li>
      <a href="../articles/reduce_density_guida_it.html">Riduzione della Densità per Matrici di Mobilità di Grandi Dimensioni</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gmontaletti/MONECA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot MONECA Results as Dendrogram</h1>
    <small class="dont-index">Source: <a href="https://github.com/gmontaletti/MONECA/blob/master/R/modern_plotting.R" class="external-link"><code>R/modern_plotting.R</code></a></small>
    <div class="hidden name"><code>plot_moneca_dendrogram.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a dendrogram-like visualization of the hierarchical clustering results
from moneca analysis. This function shows how categories are progressively
aggregated across segmentation levels, making the hierarchical structure clear.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span></span>
<span>  <span class="va">segments</span>,</span>
<span>  height_method <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  color_segments <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  label_size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  branch_width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"MONECA Hierarchical Clustering"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="st">"Set3"</span>,</span>
<span>  theme_style <span class="op">=</span> <span class="st">"minimal"</span>,</span>
<span>  vertical <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-segments">segments<a class="anchor" aria-label="anchor" href="#arg-segments"></a></dt>
<dd><p>A moneca object returned by <code><a href="moneca.html">moneca</a></code>.</p></dd>


<dt id="arg-height-method">height_method<a class="anchor" aria-label="anchor" href="#arg-height-method"></a></dt>
<dd><p>Character string specifying how to calculate dendrogram heights:</p><ul><li><p>"uniform" (default): Equal spacing between levels</p></li>
<li><p>"mobility": Height based on mobility reduction between levels</p></li>
<li><p>"segments": Height based on number of segments at each level</p></li>
</ul></dd>


<dt id="arg-color-segments">color_segments<a class="anchor" aria-label="anchor" href="#arg-color-segments"></a></dt>
<dd><p>Logical indicating whether to color branches by final
segment membership. Default is TRUE.</p></dd>


<dt id="arg-show-labels">show_labels<a class="anchor" aria-label="anchor" href="#arg-show-labels"></a></dt>
<dd><p>Logical indicating whether to show category labels at the
bottom. Default is TRUE.</p></dd>


<dt id="arg-label-size">label_size<a class="anchor" aria-label="anchor" href="#arg-label-size"></a></dt>
<dd><p>Numeric size for labels. Default is 3.</p></dd>


<dt id="arg-branch-width">branch_width<a class="anchor" aria-label="anchor" href="#arg-branch-width"></a></dt>
<dd><p>Numeric width for dendrogram branches. Default is 1.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character string for plot title. Default is "MONECA Hierarchical Clustering".</p></dd>


<dt id="arg-subtitle">subtitle<a class="anchor" aria-label="anchor" href="#arg-subtitle"></a></dt>
<dd><p>Character string for plot subtitle. Default is NULL.</p></dd>


<dt id="arg-color-palette">color_palette<a class="anchor" aria-label="anchor" href="#arg-color-palette"></a></dt>
<dd><p>Character string specifying the RColorBrewer palette for
segment colors. Default is "Set3".</p></dd>


<dt id="arg-theme-style">theme_style<a class="anchor" aria-label="anchor" href="#arg-theme-style"></a></dt>
<dd><p>Character string specifying the plot theme. Options are
"minimal" (default), "classic", or "void".</p></dd>


<dt id="arg-vertical">vertical<a class="anchor" aria-label="anchor" href="#arg-vertical"></a></dt>
<dd><p>Logical indicating whether to plot vertically (TRUE, default)
or horizontally (FALSE).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A ggplot2 object representing the dendrogram.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function creates a dendrogram visualization that clearly shows:</p><ul><li><p>How individual categories (leaves) are grouped at each level</p></li>
<li><p>The hierarchical relationships between segments</p></li>
<li><p>The progressive aggregation from individual categories to larger segments</p></li>
</ul><p>The dendrogram branches show merging points where categories or segments are
combined based on the MONECA algorithm's clique detection. Unlike traditional
hierarchical clustering, MONECA can create non-binary trees where multiple
categories merge simultaneously.</p>
<p><strong>Visual Features:</strong></p><ul><li><p><strong>Curved branches</strong>: Uses smooth curves instead of angular segments for better aesthetics</p></li>
<li><p><strong>Horizontal layout</strong>: Levels progress horizontally (left to right) with categories arranged vertically</p></li>
<li><p><strong>No-Crossing Layout</strong>: Categories are automatically ordered using a hierarchical algorithm that completely eliminates line crossings between all levels</p></li>
</ul><p>The algorithm processes segments from the most aggregated level down,
ensuring that at each level, categories are grouped optimally to prevent any
crossing lines. This creates the clearest possible visualization of the
hierarchical structure.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="moneca.html">moneca</a></code> for the main analysis function,
<code><a href="plot_moneca_ggraph.html">plot_moneca_ggraph</a></code> for network visualization,
<code><a href="plot_stair_ggraph.html">plot_stair_ggraph</a></code> for multi-level visualization</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Generate synthetic data and run MONECA</span></span></span>
<span class="r-in"><span><span class="va">mobility_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_mobility_data.html">generate_mobility_data</a></span><span class="op">(</span>n_classes <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seg</span> <span class="op">&lt;-</span> <span class="fu"><a href="moneca.html">moneca</a></span><span class="op">(</span><span class="va">mobility_data</span>, segment.levels <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Basic dendrogram</span></span></span>
<span class="r-in"><span><span class="fu">plot_moneca_dendrogram</span><span class="op">(</span><span class="va">seg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Giampaolo Montaletti, Jonas Touboel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

